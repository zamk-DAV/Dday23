(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function eC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fh={exports:{}},jo={};var E0;function tC(){if(E0)return jo;E0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var f in s)f!=="key"&&(l[f]=s[f])}else l=s;return s=l.ref,{$$typeof:e,type:i,key:c,ref:s!==void 0?s:null,props:l}}return jo.Fragment=t,jo.jsx=r,jo.jsxs=r,jo}var x0;function nC(){return x0||(x0=1,Fh.exports=tC()),Fh.exports}var A=nC(),Qh={exports:{}},we={};var C0;function rC(){if(C0)return we;C0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=y&&P[y]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function _(P,G,F){this.props=P,this.context=G,this.refs=S,this.updater=F||C}_.prototype.isReactComponent={},_.prototype.setState=function(P,G){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,G,"setState")},_.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function E(){}E.prototype=_.prototype;function O(P,G,F){this.props=P,this.context=G,this.refs=S,this.updater=F||C}var N=O.prototype=new E;N.constructor=O,T(N,_.prototype),N.isPureReactComponent=!0;var z=Array.isArray;function L(){}var D={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function $(P,G,F){var J=F.ref;return{$$typeof:e,type:P,key:G,ref:J!==void 0?J:null,props:F}}function Z(P,G){return $(P.type,G,P.props)}function ee(P){return typeof P=="object"&&P!==null&&P.$$typeof===e}function me(P){var G={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(F){return G[F]})}var re=/\/+/g;function le(P,G){return typeof P=="object"&&P!==null&&P.key!=null?me(""+P.key):G.toString(36)}function Te(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(L,L):(P.status="pending",P.then(function(G){P.status==="pending"&&(P.status="fulfilled",P.value=G)},function(G){P.status==="pending"&&(P.status="rejected",P.reason=G)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function H(P,G,F,J,fe){var se=typeof P;(se==="undefined"||se==="boolean")&&(P=null);var xe=!1;if(P===null)xe=!0;else switch(se){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(P.$$typeof){case e:case t:xe=!0;break;case g:return xe=P._init,H(xe(P._payload),G,F,J,fe)}}if(xe)return fe=fe(P),xe=J===""?"."+le(P,0):J,z(fe)?(F="",xe!=null&&(F=xe.replace(re,"$&/")+"/"),H(fe,G,F,"",function(ct){return ct})):fe!=null&&(ee(fe)&&(fe=Z(fe,F+(fe.key==null||P&&P.key===fe.key?"":(""+fe.key).replace(re,"$&/")+"/")+xe)),G.push(fe)),1;xe=0;var nt=J===""?".":J+":";if(z(P))for(var be=0;be<P.length;be++)J=P[be],se=nt+le(J,be),xe+=H(J,G,F,se,fe);else if(be=w(P),typeof be=="function")for(P=be.call(P),be=0;!(J=P.next()).done;)J=J.value,se=nt+le(J,be++),xe+=H(J,G,F,se,fe);else if(se==="object"){if(typeof P.then=="function")return H(Te(P),G,F,J,fe);throw G=String(P),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return xe}function K(P,G,F){if(P==null)return P;var J=[],fe=0;return H(P,J,"","",function(se){return G.call(F,se,fe++)}),J}function Q(P){if(P._status===-1){var G=P._result;G=G(),G.then(function(F){(P._status===0||P._status===-1)&&(P._status=1,P._result=F)},function(F){(P._status===0||P._status===-1)&&(P._status=2,P._result=F)}),P._status===-1&&(P._status=0,P._result=G)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},ye={map:K,forEach:function(P,G,F){K(P,function(){G.apply(this,arguments)},F)},count:function(P){var G=0;return K(P,function(){G++}),G},toArray:function(P){return K(P,function(G){return G})||[]},only:function(P){if(!ee(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return we.Activity=v,we.Children=ye,we.Component=_,we.Fragment=r,we.Profiler=s,we.PureComponent=O,we.StrictMode=i,we.Suspense=h,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,we.__COMPILER_RUNTIME={__proto__:null,c:function(P){return D.H.useMemoCache(P)}},we.cache=function(P){return function(){return P.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(P,G,F){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var J=T({},P.props),fe=P.key;if(G!=null)for(se in G.key!==void 0&&(fe=""+G.key),G)!M.call(G,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&G.ref===void 0||(J[se]=G[se]);var se=arguments.length-2;if(se===1)J.children=F;else if(1<se){for(var xe=Array(se),nt=0;nt<se;nt++)xe[nt]=arguments[nt+2];J.children=xe}return $(P.type,fe,J)},we.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},we.createElement=function(P,G,F){var J,fe={},se=null;if(G!=null)for(J in G.key!==void 0&&(se=""+G.key),G)M.call(G,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=G[J]);var xe=arguments.length-2;if(xe===1)fe.children=F;else if(1<xe){for(var nt=Array(xe),be=0;be<xe;be++)nt[be]=arguments[be+2];fe.children=nt}if(P&&P.defaultProps)for(J in xe=P.defaultProps,xe)fe[J]===void 0&&(fe[J]=xe[J]);return $(P,se,fe)},we.createRef=function(){return{current:null}},we.forwardRef=function(P){return{$$typeof:f,render:P}},we.isValidElement=ee,we.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:Q}},we.memo=function(P,G){return{$$typeof:m,type:P,compare:G===void 0?null:G}},we.startTransition=function(P){var G=D.T,F={};D.T=F;try{var J=P(),fe=D.S;fe!==null&&fe(F,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(L,pe)}catch(se){pe(se)}finally{G!==null&&F.types!==null&&(G.types=F.types),D.T=G}},we.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},we.use=function(P){return D.H.use(P)},we.useActionState=function(P,G,F){return D.H.useActionState(P,G,F)},we.useCallback=function(P,G){return D.H.useCallback(P,G)},we.useContext=function(P){return D.H.useContext(P)},we.useDebugValue=function(){},we.useDeferredValue=function(P,G){return D.H.useDeferredValue(P,G)},we.useEffect=function(P,G){return D.H.useEffect(P,G)},we.useEffectEvent=function(P){return D.H.useEffectEvent(P)},we.useId=function(){return D.H.useId()},we.useImperativeHandle=function(P,G,F){return D.H.useImperativeHandle(P,G,F)},we.useInsertionEffect=function(P,G){return D.H.useInsertionEffect(P,G)},we.useLayoutEffect=function(P,G){return D.H.useLayoutEffect(P,G)},we.useMemo=function(P,G){return D.H.useMemo(P,G)},we.useOptimistic=function(P,G){return D.H.useOptimistic(P,G)},we.useReducer=function(P,G,F){return D.H.useReducer(P,G,F)},we.useRef=function(P){return D.H.useRef(P)},we.useState=function(P){return D.H.useState(P)},we.useSyncExternalStore=function(P,G,F){return D.H.useSyncExternalStore(P,G,F)},we.useTransition=function(){return D.H.useTransition()},we.version="19.2.3",we}var O0;function qi(){return O0||(O0=1,Qh.exports=rC()),Qh.exports}var R=qi();const Ye=eC(R);var Zh={exports:{}},Mo={},Jh={exports:{}},ed={};var A0;function iC(){return A0||(A0=1,(function(e){function t(H,K){var Q=H.length;H.push(K);e:for(;0<Q;){var pe=Q-1>>>1,ye=H[pe];if(0<s(ye,K))H[pe]=K,H[Q]=ye,Q=pe;else break e}}function r(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var K=H[0],Q=H.pop();if(Q!==K){H[0]=Q;e:for(var pe=0,ye=H.length,P=ye>>>1;pe<P;){var G=2*(pe+1)-1,F=H[G],J=G+1,fe=H[J];if(0>s(F,Q))J<ye&&0>s(fe,F)?(H[pe]=fe,H[J]=Q,pe=J):(H[pe]=F,H[G]=Q,pe=G);else if(J<ye&&0>s(fe,Q))H[pe]=fe,H[J]=Q,pe=J;else break e}}return K}function s(H,K){var Q=H.sortIndex-K.sortIndex;return Q!==0?Q:H.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],m=[],g=1,v=null,y=3,w=!1,C=!1,T=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function N(H){for(var K=r(m);K!==null;){if(K.callback===null)i(m);else if(K.startTime<=H)i(m),K.sortIndex=K.expirationTime,t(h,K);else break;K=r(m)}}function z(H){if(T=!1,N(H),!C)if(r(h)!==null)C=!0,L||(L=!0,me());else{var K=r(m);K!==null&&Te(z,K.startTime-H)}}var L=!1,D=-1,M=5,$=-1;function Z(){return S?!0:!(e.unstable_now()-$<M)}function ee(){if(S=!1,L){var H=e.unstable_now();$=H;var K=!0;try{e:{C=!1,T&&(T=!1,E(D),D=-1),w=!0;var Q=y;try{t:{for(N(H),v=r(h);v!==null&&!(v.expirationTime>H&&Z());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,y=v.priorityLevel;var ye=pe(v.expirationTime<=H);if(H=e.unstable_now(),typeof ye=="function"){v.callback=ye,N(H),K=!0;break t}v===r(h)&&i(h),N(H)}else i(h);v=r(h)}if(v!==null)K=!0;else{var P=r(m);P!==null&&Te(z,P.startTime-H),K=!1}}break e}finally{v=null,y=Q,w=!1}K=void 0}}finally{K?me():L=!1}}}var me;if(typeof O=="function")me=function(){O(ee)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,le=re.port2;re.port1.onmessage=ee,me=function(){le.postMessage(null)}}else me=function(){_(ee,0)};function Te(H,K){D=_(function(){H(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Q=y;y=K;try{return H()}finally{y=Q}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=y;y=H;try{return K()}finally{y=Q}},e.unstable_scheduleCallback=function(H,K,Q){var pe=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?pe+Q:pe):Q=pe,H){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=Q+ye,H={id:g++,callback:K,priorityLevel:H,startTime:Q,expirationTime:ye,sortIndex:-1},Q>pe?(H.sortIndex=Q,t(m,H),r(h)===null&&H===r(m)&&(T?(E(D),D=-1):T=!0,Te(z,Q-pe))):(H.sortIndex=ye,t(h,H),C||w||(C=!0,L||(L=!0,me()))),H},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(H){var K=y;return function(){var Q=y;y=K;try{return H.apply(this,arguments)}finally{y=Q}}}})(ed)),ed}var R0;function aC(){return R0||(R0=1,Jh.exports=iC()),Jh.exports}var td={exports:{}},en={};var D0;function sC(){if(D0)return en;D0=1;var e=qi();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(h,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:v==null?null:""+v,children:h,containerInfo:m,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,en.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(h,m,null,g)},en.flushSync=function(h){var m=c.T,g=i.p;try{if(c.T=null,i.p=2,h)return h()}finally{c.T=m,i.p=g,i.d.f()}},en.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(h,m))},en.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},en.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:w}):g==="script"&&i.d.X(h,{crossOrigin:v,integrity:y,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},en.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);i.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(h)},en.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);i.d.L(h,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},en.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);i.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(h)},en.requestFormReset=function(h){i.d.r(h)},en.unstable_batchedUpdates=function(h,m){return h(m)},en.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.3",en}var j0;function Om(){if(j0)return td.exports;j0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),td.exports=sC(),td.exports}var M0;function oC(){if(M0)return Mo;M0=1;var e=aC(),t=qi(),r=Om();function i(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function c(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function f(n){if(n.tag===31){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(i(188))}function m(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(i(188));return a!==n?null:n}for(var o=n,u=a;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return h(d),n;if(p===u)return h(d),a;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=p;else{for(var b=!1,x=d.child;x;){if(x===o){b=!0,o=d,u=p;break}if(x===u){b=!0,u=d,o=p;break}x=x.sibling}if(!b){for(x=p.child;x;){if(x===o){b=!0,o=p,u=d;break}if(x===u){b=!0,u=p,o=d;break}x=x.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:a}function g(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=g(n),a!==null)return a;n=n.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function me(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var re=Symbol.for("react.client.reference");function le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===re?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case _:return"Profiler";case S:return"StrictMode";case z:return"Suspense";case L:return"SuspenseList";case $:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case O:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case N:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return a=n.displayName||null,a!==null?a:le(n.type)||"Memo";case M:a=n._payload,n=n._init;try{return le(n(a))}catch{}}return null}var Te=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},pe=[],ye=-1;function P(n){return{current:n}}function G(n){0>ye||(n.current=pe[ye],pe[ye]=null,ye--)}function F(n,a){ye++,pe[ye]=n.current,n.current=a}var J=P(null),fe=P(null),se=P(null),xe=P(null);function nt(n,a){switch(F(se,a),F(fe,n),F(J,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Ky(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Ky(a),n=Wy(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}G(J),F(J,n)}function be(){G(J),G(fe),G(se)}function ct(n){n.memoizedState!==null&&F(xe,n);var a=J.current,o=Wy(a,n.type);a!==o&&(F(fe,n),F(J,o))}function Be(n){fe.current===n&&(G(J),G(fe)),xe.current===n&&(G(xe),Oo._currentValue=Q)}var $t,Xt;function un(n){if($t===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);$t=a&&a[1]||"",Xt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$t+n+Xt}var bn=!1;function cn(n,a){if(!n||bn)return"";bn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(Y){var q=Y}Reflect.construct(n,[],I)}else{try{I.call()}catch(Y){q=Y}n.call(I.prototype)}}else{try{throw Error()}catch(Y){q=Y}(I=n())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),b=p[0],x=p[1];if(b&&x){var j=b.split(`
`),V=x.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<V.length&&!V[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===V.length)for(u=j.length-1,d=V.length-1;1<=u&&0<=d&&j[u]!==V[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==V[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==V[d]){var X=`
`+j[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=d);break}}}finally{bn=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?un(o):""}function tr(n,a){switch(n.tag){case 26:case 27:case 5:return un(n.type);case 16:return un("Lazy");case 13:return n.child!==a&&a!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return cn(n.type,!1);case 11:return cn(n.type.render,!1);case 1:return cn(n.type,!0);case 31:return un("Activity");default:return""}}function Rr(n){try{var a="",o=null;do a+=tr(n,o),o=n,n=n.return;while(n);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Qe=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,Dt=e.unstable_cancelCallback,jt=e.unstable_shouldYield,wn=e.unstable_requestPaint,Lt=e.unstable_now,zn=e.unstable_getCurrentPriorityLevel,Dr=e.unstable_ImmediatePriority,nr=e.unstable_UserBlockingPriority,Jt=e.unstable_NormalPriority,si=e.unstable_LowPriority,jr=e.unstable_IdlePriority,yr=e.log,Ln=e.unstable_setDisableYieldValue,rr=null,Mt=null;function Sn(n){if(typeof yr=="function"&&Ln(n),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(rr,n)}catch{}}var Ut=Math.clz32?Math.clz32:Ca,nn=Math.log,qs=Math.LN2;function Ca(n){return n>>>=0,n===0?32:31-(nn(n)/qs|0)|0}var _n=256,Mr=262144,Ne=4194304;function Oe(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ze(n,a,o){var u=n.pendingLanes;if(u===0)return 0;var d=0,p=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var x=u&134217727;return x!==0?(u=x&~p,u!==0?d=Oe(u):(b&=x,b!==0?d=Oe(b):o||(o=x&~n,o!==0&&(d=Oe(o))))):(x=u&~p,x!==0?d=Oe(x):b!==0?d=Oe(b):o||(o=u&~n,o!==0&&(d=Oe(o)))),d===0?0:a!==0&&a!==d&&(a&p)===0&&(p=d&-d,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:d}function ze(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function Tt(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bt(){var n=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),n}function Vt(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function bt(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fn(n,a,o,u,d,p){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var x=n.entanglements,j=n.expirationTimes,V=n.hiddenUpdates;for(o=b&~o;0<o;){var X=31-Ut(o),I=1<<X;x[X]=0,j[X]=-1;var q=V[X];if(q!==null)for(V[X]=null,X=0;X<q.length;X++){var Y=q[X];Y!==null&&(Y.lane&=-536870913)}o&=~I}u!==0&&rn(n,u,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(b&~a))}function rn(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-Ut(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function ir(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var u=31-Ut(o),d=1<<u;d&a|n[u]&a&&(n[u]|=a),o&=~d}}function ar(n,a){var o=a&-a;return o=(o&42)!==0?1:ne(o),(o&(n.suspendedLanes|a))!==0?0:o}function ne(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Se(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ue(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:v0(n.type))}function Pe(n,a){var o=K.p;try{return K.p=n,a()}finally{K.p=o}}var Ae=Math.random().toString(36).slice(2),ge="__reactFiber$"+Ae,Ce="__reactProps$"+Ae,rt="__reactContainer$"+Ae,Ke="__reactEvents$"+Ae,Ht="__reactListeners$"+Ae,Oa="__reactHandles$"+Ae,Un="__reactResources$"+Ae,sr="__reactMarker$"+Ae;function oi(n){delete n[ge],delete n[Ce],delete n[Ke],delete n[Ht],delete n[Oa]}function qe(n){var a=n[ge];if(a)return a;for(var o=n.parentNode;o;){if(a=o[rt]||o[ge]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=t0(n);n!==null;){if(o=n[ge])return o;n=t0(n)}return a}n=o,o=n.parentNode}return null}function br(n){if(n=n[ge]||n[rt]){var a=n.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return n}return null}function wr(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(i(33))}function or(n){var a=n[Un];return a||(a=n[Un]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function mt(n){n[sr]=!0}var kp=new Set,zp={};function Xi(n,a){Aa(n,a),Aa(n+"Capture",a)}function Aa(n,a){for(zp[n]=a,n=0;n<a.length;n++)kp.add(a[n])}var XT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lp={},Up={};function GT(n){return Qe.call(Up,n)?!0:Qe.call(Lp,n)?!1:XT.test(n)?Up[n]=!0:(Lp[n]=!0,!1)}function Cl(n,a,o){if(GT(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function Ol(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function Nr(n,a,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+u)}}function Bn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bp(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function KT(n,a,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,a);if(!n.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,p.call(this,b)}}),Object.defineProperty(n,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function qc(n){if(!n._valueTracker){var a=Bp(n)?"checked":"value";n._valueTracker=KT(n,a,""+n[a])}}function Vp(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return n&&(u=Bp(n)?n.checked?"true":"false":n.value),n=u,n!==o?(a.setValue(n),!0):!1}function Al(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var WT=/[\n"\\]/g;function Vn(n){return n.replace(WT,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yc(n,a,o,u,d,p,b,x){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),a!=null?b==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Bn(a)):n.value!==""+Bn(a)&&(n.value=""+Bn(a)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),a!=null?$c(n,b,Bn(a)):o!=null?$c(n,b,Bn(o)):u!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+Bn(x):n.removeAttribute("name")}function Hp(n,a,o,u,d,p,b,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null)){qc(n);return}o=o!=null?""+Bn(o):"",a=a!=null?""+Bn(a):o,x||a===n.value||(n.value=a),n.defaultValue=a}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=x?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b),qc(n)}function $c(n,a,o){a==="number"&&Al(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ra(n,a,o,u){if(n=n.options,a){a={};for(var d=0;d<o.length;d++)a["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=a.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Bn(o),a=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}a!==null||n[d].disabled||(a=n[d])}a!==null&&(a.selected=!0)}}function qp(n,a,o){if(a!=null&&(a=""+Bn(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+Bn(o):""}function Yp(n,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(Te(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Bn(a),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),qc(n)}function Da(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var IT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $p(n,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,o):typeof o!="number"||o===0||IT.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function Xp(n,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in a)u=a[d],a.hasOwnProperty(d)&&o[d]!==u&&$p(n,d,u)}else for(var p in a)a.hasOwnProperty(p)&&$p(n,p,a[p])}function Xc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rl(n){return QT.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Pr(){}var Gc=null;function Kc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ja=null,Ma=null;function Gp(n){var a=br(n);if(a&&(n=a.stateNode)){var o=n[Ce]||null;e:switch(n=a.stateNode,a.type){case"input":if(Yc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==n&&u.form===n.form){var d=u[Ce]||null;if(!d)throw Error(i(90));Yc(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===n.form&&Vp(u)}break e;case"textarea":qp(n,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Ra(n,!!o.multiple,a,!1)}}}var Wc=!1;function Kp(n,a,o){if(Wc)return n(a,o);Wc=!0;try{var u=n(a);return u}finally{if(Wc=!1,(ja!==null||Ma!==null)&&(gu(),ja&&(a=ja,n=Ma,Ma=ja=null,Gp(a),n)))for(a=0;a<n.length;a++)Gp(n[a])}}function Ys(n,a){var o=n.stateNode;if(o===null)return null;var u=o[Ce]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=!1;if(kr)try{var $s={};Object.defineProperty($s,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{Ic=!1}var li=null,Fc=null,Dl=null;function Wp(){if(Dl)return Dl;var n,a=Fc,o=a.length,u,d="value"in li?li.value:li.textContent,p=d.length;for(n=0;n<o&&a[n]===d[n];n++);var b=o-n;for(u=1;u<=b&&a[o-u]===d[p-u];u++);return Dl=d.slice(n,1<u?1-u:void 0)}function jl(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ml(){return!0}function Ip(){return!1}function hn(n){function a(o,u,d,p,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(o=n[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ml:Ip,this.isPropagationStopped=Ip,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),a}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=hn(Gi),Xs=v({},Gi,{view:0,detail:0}),ZT=hn(Xs),Qc,Zc,Gs,Pl=v({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gs&&(Gs&&n.type==="mousemove"?(Qc=n.screenX-Gs.screenX,Zc=n.screenY-Gs.screenY):Zc=Qc=0,Gs=n),Qc)},movementY:function(n){return"movementY"in n?n.movementY:Zc}}),Fp=hn(Pl),JT=v({},Pl,{dataTransfer:0}),eE=hn(JT),tE=v({},Xs,{relatedTarget:0}),Jc=hn(tE),nE=v({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),rE=hn(nE),iE=v({},Gi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),aE=hn(iE),sE=v({},Gi,{data:0}),Qp=hn(sE),oE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cE(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=uE[n])?!!a[n]:!1}function ef(){return cE}var fE=v({},Xs,{key:function(n){if(n.key){var a=oE[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=jl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(n){return n.type==="keypress"?jl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?jl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hE=hn(fE),dE=v({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zp=hn(dE),mE=v({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),pE=hn(mE),gE=v({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),vE=hn(gE),yE=v({},Pl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),bE=hn(yE),wE=v({},Gi,{newState:0,oldState:0}),SE=hn(wE),_E=[9,13,27,32],tf=kr&&"CompositionEvent"in window,Ks=null;kr&&"documentMode"in document&&(Ks=document.documentMode);var TE=kr&&"TextEvent"in window&&!Ks,Jp=kr&&(!tf||Ks&&8<Ks&&11>=Ks),eg=" ",tg=!1;function ng(n,a){switch(n){case"keyup":return _E.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Na=!1;function EE(n,a){switch(n){case"compositionend":return rg(a);case"keypress":return a.which!==32?null:(tg=!0,eg);case"textInput":return n=a.data,n===eg&&tg?null:n;default:return null}}function xE(n,a){if(Na)return n==="compositionend"||!tf&&ng(n,a)?(n=Wp(),Dl=Fc=li=null,Na=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Jp&&a.locale!=="ko"?null:a.data;default:return null}}var CE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!CE[n.type]:a==="textarea"}function ag(n,a,o,u){ja?Ma?Ma.push(u):Ma=[u]:ja=u,a=Tu(a,"onChange"),0<a.length&&(o=new Nl("onChange","change",null,o,u),n.push({event:o,listeners:a}))}var Ws=null,Is=null;function OE(n){Hy(n,0)}function kl(n){var a=wr(n);if(Vp(a))return n}function sg(n,a){if(n==="change")return a}var og=!1;if(kr){var nf;if(kr){var rf="oninput"in document;if(!rf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),rf=typeof lg.oninput=="function"}nf=rf}else nf=!1;og=nf&&(!document.documentMode||9<document.documentMode)}function ug(){Ws&&(Ws.detachEvent("onpropertychange",cg),Is=Ws=null)}function cg(n){if(n.propertyName==="value"&&kl(Is)){var a=[];ag(a,Is,n,Kc(n)),Kp(OE,a)}}function AE(n,a,o){n==="focusin"?(ug(),Ws=a,Is=o,Ws.attachEvent("onpropertychange",cg)):n==="focusout"&&ug()}function RE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return kl(Is)}function DE(n,a){if(n==="click")return kl(a)}function jE(n,a){if(n==="input"||n==="change")return kl(a)}function ME(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Tn=typeof Object.is=="function"?Object.is:ME;function Fs(n,a){if(Tn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Qe.call(a,d)||!Tn(n[d],a[d]))return!1}return!0}function fg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function hg(n,a){var o=fg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=a&&u>=a)return{node:o,offset:a-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=fg(o)}}function dg(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?dg(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function mg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Al(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=Al(n.document)}return a}function af(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var NE=kr&&"documentMode"in document&&11>=document.documentMode,Pa=null,sf=null,Qs=null,of=!1;function pg(n,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;of||Pa==null||Pa!==Al(u)||(u=Pa,"selectionStart"in u&&af(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Qs&&Fs(Qs,u)||(Qs=u,u=Tu(sf,"onSelect"),0<u.length&&(a=new Nl("onSelect","select",null,a,o),n.push({event:a,listeners:u}),a.target=Pa)))}function Ki(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var ka={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionrun:Ki("Transition","TransitionRun"),transitionstart:Ki("Transition","TransitionStart"),transitioncancel:Ki("Transition","TransitionCancel"),transitionend:Ki("Transition","TransitionEnd")},lf={},gg={};kr&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Wi(n){if(lf[n])return lf[n];if(!ka[n])return n;var a=ka[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in gg)return lf[n]=a[o];return n}var vg=Wi("animationend"),yg=Wi("animationiteration"),bg=Wi("animationstart"),PE=Wi("transitionrun"),kE=Wi("transitionstart"),zE=Wi("transitioncancel"),wg=Wi("transitionend"),Sg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function lr(n,a){Sg.set(n,a),Xi(a,[n])}var zl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Hn=[],za=0,cf=0;function Ll(){for(var n=za,a=cf=za=0;a<n;){var o=Hn[a];Hn[a++]=null;var u=Hn[a];Hn[a++]=null;var d=Hn[a];Hn[a++]=null;var p=Hn[a];if(Hn[a++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}p!==0&&_g(o,d,p)}}function Ul(n,a,o,u){Hn[za++]=n,Hn[za++]=a,Hn[za++]=o,Hn[za++]=u,cf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function ff(n,a,o,u){return Ul(n,a,o,u),Bl(n)}function Ii(n,a){return Ul(n,null,null,a),Bl(n)}function _g(n,a,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&a!==null&&(d=31-Ut(o),n=p.hiddenUpdates,u=n[d],u===null?n[d]=[a]:u.push(a),a.lane=o|536870912),p):null}function Bl(n){if(50<wo)throw wo=0,wh=null,Error(i(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var La={};function LE(n,a,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,a,o,u){return new LE(n,a,o,u)}function hf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function zr(n,a){var o=n.alternate;return o===null?(o=En(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Tg(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function Vl(n,a,o,u,d,p){var b=0;if(u=n,typeof n=="function")hf(n)&&(b=1);else if(typeof n=="string")b=qx(n,o,J.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case $:return n=En(31,o,a,d),n.elementType=$,n.lanes=p,n;case T:return Fi(o.children,d,p,a);case S:b=8,d|=24;break;case _:return n=En(12,o,a,d|2),n.elementType=_,n.lanes=p,n;case z:return n=En(13,o,a,d),n.elementType=z,n.lanes=p,n;case L:return n=En(19,o,a,d),n.elementType=L,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:b=10;break e;case E:b=9;break e;case N:b=11;break e;case D:b=14;break e;case M:b=16,u=null;break e}b=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return a=En(b,o,a,d),a.elementType=n,a.type=u,a.lanes=p,a}function Fi(n,a,o,u){return n=En(7,n,u,a),n.lanes=o,n}function df(n,a,o){return n=En(6,n,null,a),n.lanes=o,n}function Eg(n){var a=En(18,null,null,0);return a.stateNode=n,a}function mf(n,a,o){return a=En(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var xg=new WeakMap;function qn(n,a){if(typeof n=="object"&&n!==null){var o=xg.get(n);return o!==void 0?o:(a={value:n,source:a,stack:Rr(a)},xg.set(n,a),a)}return{value:n,source:a,stack:Rr(a)}}var Ua=[],Ba=0,Hl=null,Zs=0,Yn=[],$n=0,ui=null,Sr=1,_r="";function Lr(n,a){Ua[Ba++]=Zs,Ua[Ba++]=Hl,Hl=n,Zs=a}function Cg(n,a,o){Yn[$n++]=Sr,Yn[$n++]=_r,Yn[$n++]=ui,ui=n;var u=Sr;n=_r;var d=32-Ut(u)-1;u&=~(1<<d),o+=1;var p=32-Ut(a)+d;if(30<p){var b=d-d%5;p=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Sr=1<<32-Ut(a)+d|o<<d|u,_r=p+n}else Sr=1<<p|o<<d|u,_r=n}function pf(n){n.return!==null&&(Lr(n,1),Cg(n,1,0))}function gf(n){for(;n===Hl;)Hl=Ua[--Ba],Ua[Ba]=null,Zs=Ua[--Ba],Ua[Ba]=null;for(;n===ui;)ui=Yn[--$n],Yn[$n]=null,_r=Yn[--$n],Yn[$n]=null,Sr=Yn[--$n],Yn[$n]=null}function Og(n,a){Yn[$n++]=Sr,Yn[$n++]=_r,Yn[$n++]=ui,Sr=a.id,_r=a.overflow,ui=n}var Gt=null,it=null,ke=!1,ci=null,Xn=!1,vf=Error(i(519));function fi(n){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Js(qn(a,n)),vf}function Ag(n){var a=n.stateNode,o=n.type,u=n.memoizedProps;switch(a[ge]=n,a[Ce]=u,o){case"dialog":De("cancel",a),De("close",a);break;case"iframe":case"object":case"embed":De("load",a);break;case"video":case"audio":for(o=0;o<_o.length;o++)De(_o[o],a);break;case"source":De("error",a);break;case"img":case"image":case"link":De("error",a),De("load",a);break;case"details":De("toggle",a);break;case"input":De("invalid",a),Hp(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":De("invalid",a);break;case"textarea":De("invalid",a),Yp(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||Xy(a.textContent,o)?(u.popover!=null&&(De("beforetoggle",a),De("toggle",a)),u.onScroll!=null&&De("scroll",a),u.onScrollEnd!=null&&De("scrollend",a),u.onClick!=null&&(a.onclick=Pr),a=!0):a=!1,a||fi(n,!0)}function Rg(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Gt=Gt.return}}function Va(n){if(n!==Gt)return!1;if(!ke)return Rg(n),ke=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||kh(n.type,n.memoizedProps)),o=!o),o&&it&&fi(n),Rg(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));it=e0(n)}else if(a===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));it=e0(n)}else a===27?(a=it,xi(n.type)?(n=Vh,Vh=null,it=n):it=a):it=Gt?Kn(n.stateNode.nextSibling):null;return!0}function Qi(){it=Gt=null,ke=!1}function yf(){var n=ci;return n!==null&&(gn===null?gn=n:gn.push.apply(gn,n),ci=null),n}function Js(n){ci===null?ci=[n]:ci.push(n)}var bf=P(null),Zi=null,Ur=null;function hi(n,a,o){F(bf,a._currentValue),a._currentValue=o}function Br(n){n._currentValue=bf.current,G(bf)}function wf(n,a,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===o)break;n=n.return}}function Sf(n,a,o,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var b=d.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=d;for(var j=0;j<a.length;j++)if(x.context===a[j]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),wf(p.return,o,n),u||(b=null);break e}p=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,p=b.alternate,p!==null&&(p.lanes|=o),wf(b,o,n),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===n){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Ha(n,a,o,u){n=null;for(var d=a,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var x=d.type;Tn(d.pendingProps.value,b.value)||(n!==null?n.push(x):n=[x])}}else if(d===xe.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Oo):n=[Oo])}d=d.return}n!==null&&Sf(a,n,o,u),a.flags|=262144}function ql(n){for(n=n.firstContext;n!==null;){if(!Tn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ji(n){Zi=n,Ur=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return Dg(Zi,n)}function Yl(n,a){return Zi===null&&Ji(n),Dg(n,a)}function Dg(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Ur===null){if(n===null)throw Error(i(308));Ur=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Ur=Ur.next=a;return o}var UE=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},BE=e.unstable_scheduleCallback,VE=e.unstable_NormalPriority,Et={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new UE,data:new Map,refCount:0}}function eo(n){n.refCount--,n.refCount===0&&BE(VE,function(){n.controller.abort()})}var to=null,Tf=0,qa=0,Ya=null;function HE(n,a){if(to===null){var o=to=[];Tf=0,qa=Ch(),Ya={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Tf++,a.then(jg,jg),a}function jg(){if(--Tf===0&&to!==null){Ya!==null&&(Ya.status="fulfilled");var n=to;to=null,qa=0,Ya=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function qE(n,a){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var d=0;d<o.length;d++)(0,o[d])(a)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Mg=H.S;H.S=function(n,a){py=Lt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&HE(n,a),Mg!==null&&Mg(n,a)};var ea=P(null);function Ef(){var n=ea.current;return n!==null?n:Je.pooledCache}function $l(n,a){a===null?F(ea,ea.current):F(ea,a.pool)}function Ng(){var n=Ef();return n===null?null:{parent:Et._currentValue,pool:n}}var $a=Error(i(460)),xf=Error(i(474)),Xl=Error(i(542)),Gl={then:function(){}};function Pg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function kg(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(Pr,Pr),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Lg(n),n;default:if(typeof a.status=="string")a.then(Pr,Pr);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=u}},function(u){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Lg(n),n}throw na=a,$a}}function ta(n){try{var a=n._init;return a(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(na=o,$a):o}}var na=null;function zg(){if(na===null)throw Error(i(459));var n=na;return na=null,n}function Lg(n){if(n===$a||n===Xl)throw Error(i(483))}var Xa=null,no=0;function Kl(n){var a=no;return no+=1,Xa===null&&(Xa=[]),kg(Xa,n,a)}function ro(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Wl(n,a){throw a.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(a),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Ug(n){function a(U,k){if(n){var B=U.deletions;B===null?(U.deletions=[k],U.flags|=16):B.push(k)}}function o(U,k){if(!n)return null;for(;k!==null;)a(U,k),k=k.sibling;return null}function u(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function d(U,k){return U=zr(U,k),U.index=0,U.sibling=null,U}function p(U,k,B){return U.index=B,n?(B=U.alternate,B!==null?(B=B.index,B<k?(U.flags|=67108866,k):B):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function b(U){return n&&U.alternate===null&&(U.flags|=67108866),U}function x(U,k,B,W){return k===null||k.tag!==6?(k=df(B,U.mode,W),k.return=U,k):(k=d(k,B),k.return=U,k)}function j(U,k,B,W){var oe=B.type;return oe===T?X(U,k,B.props.children,W,B.key):k!==null&&(k.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===M&&ta(oe)===k.type)?(k=d(k,B.props),ro(k,B),k.return=U,k):(k=Vl(B.type,B.key,B.props,null,U.mode,W),ro(k,B),k.return=U,k)}function V(U,k,B,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=mf(B,U.mode,W),k.return=U,k):(k=d(k,B.children||[]),k.return=U,k)}function X(U,k,B,W,oe){return k===null||k.tag!==7?(k=Fi(B,U.mode,W,oe),k.return=U,k):(k=d(k,B),k.return=U,k)}function I(U,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=df(""+k,U.mode,B),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return B=Vl(k.type,k.key,k.props,null,U.mode,B),ro(B,k),B.return=U,B;case C:return k=mf(k,U.mode,B),k.return=U,k;case M:return k=ta(k),I(U,k,B)}if(Te(k)||me(k))return k=Fi(k,U.mode,B,null),k.return=U,k;if(typeof k.then=="function")return I(U,Kl(k),B);if(k.$$typeof===O)return I(U,Yl(U,k),B);Wl(U,k)}return null}function q(U,k,B,W){var oe=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return oe!==null?null:x(U,k,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===oe?j(U,k,B,W):null;case C:return B.key===oe?V(U,k,B,W):null;case M:return B=ta(B),q(U,k,B,W)}if(Te(B)||me(B))return oe!==null?null:X(U,k,B,W,null);if(typeof B.then=="function")return q(U,k,Kl(B),W);if(B.$$typeof===O)return q(U,k,Yl(U,B),W);Wl(U,B)}return null}function Y(U,k,B,W,oe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(B)||null,x(k,U,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return U=U.get(W.key===null?B:W.key)||null,j(k,U,W,oe);case C:return U=U.get(W.key===null?B:W.key)||null,V(k,U,W,oe);case M:return W=ta(W),Y(U,k,B,W,oe)}if(Te(W)||me(W))return U=U.get(B)||null,X(k,U,W,oe,null);if(typeof W.then=="function")return Y(U,k,B,Kl(W),oe);if(W.$$typeof===O)return Y(U,k,B,Yl(k,W),oe);Wl(k,W)}return null}function te(U,k,B,W){for(var oe=null,Le=null,ie=k,Ee=k=0,Me=null;ie!==null&&Ee<B.length;Ee++){ie.index>Ee?(Me=ie,ie=null):Me=ie.sibling;var Ue=q(U,ie,B[Ee],W);if(Ue===null){ie===null&&(ie=Me);break}n&&ie&&Ue.alternate===null&&a(U,ie),k=p(Ue,k,Ee),Le===null?oe=Ue:Le.sibling=Ue,Le=Ue,ie=Me}if(Ee===B.length)return o(U,ie),ke&&Lr(U,Ee),oe;if(ie===null){for(;Ee<B.length;Ee++)ie=I(U,B[Ee],W),ie!==null&&(k=p(ie,k,Ee),Le===null?oe=ie:Le.sibling=ie,Le=ie);return ke&&Lr(U,Ee),oe}for(ie=u(ie);Ee<B.length;Ee++)Me=Y(ie,U,Ee,B[Ee],W),Me!==null&&(n&&Me.alternate!==null&&ie.delete(Me.key===null?Ee:Me.key),k=p(Me,k,Ee),Le===null?oe=Me:Le.sibling=Me,Le=Me);return n&&ie.forEach(function(Di){return a(U,Di)}),ke&&Lr(U,Ee),oe}function ce(U,k,B,W){if(B==null)throw Error(i(151));for(var oe=null,Le=null,ie=k,Ee=k=0,Me=null,Ue=B.next();ie!==null&&!Ue.done;Ee++,Ue=B.next()){ie.index>Ee?(Me=ie,ie=null):Me=ie.sibling;var Di=q(U,ie,Ue.value,W);if(Di===null){ie===null&&(ie=Me);break}n&&ie&&Di.alternate===null&&a(U,ie),k=p(Di,k,Ee),Le===null?oe=Di:Le.sibling=Di,Le=Di,ie=Me}if(Ue.done)return o(U,ie),ke&&Lr(U,Ee),oe;if(ie===null){for(;!Ue.done;Ee++,Ue=B.next())Ue=I(U,Ue.value,W),Ue!==null&&(k=p(Ue,k,Ee),Le===null?oe=Ue:Le.sibling=Ue,Le=Ue);return ke&&Lr(U,Ee),oe}for(ie=u(ie);!Ue.done;Ee++,Ue=B.next())Ue=Y(ie,U,Ee,Ue.value,W),Ue!==null&&(n&&Ue.alternate!==null&&ie.delete(Ue.key===null?Ee:Ue.key),k=p(Ue,k,Ee),Le===null?oe=Ue:Le.sibling=Ue,Le=Ue);return n&&ie.forEach(function(Jx){return a(U,Jx)}),ke&&Lr(U,Ee),oe}function Fe(U,k,B,W){if(typeof B=="object"&&B!==null&&B.type===T&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var oe=B.key;k!==null;){if(k.key===oe){if(oe=B.type,oe===T){if(k.tag===7){o(U,k.sibling),W=d(k,B.props.children),W.return=U,U=W;break e}}else if(k.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===M&&ta(oe)===k.type){o(U,k.sibling),W=d(k,B.props),ro(W,B),W.return=U,U=W;break e}o(U,k);break}else a(U,k);k=k.sibling}B.type===T?(W=Fi(B.props.children,U.mode,W,B.key),W.return=U,U=W):(W=Vl(B.type,B.key,B.props,null,U.mode,W),ro(W,B),W.return=U,U=W)}return b(U);case C:e:{for(oe=B.key;k!==null;){if(k.key===oe)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){o(U,k.sibling),W=d(k,B.children||[]),W.return=U,U=W;break e}else{o(U,k);break}else a(U,k);k=k.sibling}W=mf(B,U.mode,W),W.return=U,U=W}return b(U);case M:return B=ta(B),Fe(U,k,B,W)}if(Te(B))return te(U,k,B,W);if(me(B)){if(oe=me(B),typeof oe!="function")throw Error(i(150));return B=oe.call(B),ce(U,k,B,W)}if(typeof B.then=="function")return Fe(U,k,Kl(B),W);if(B.$$typeof===O)return Fe(U,k,Yl(U,B),W);Wl(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(o(U,k.sibling),W=d(k,B),W.return=U,U=W):(o(U,k),W=df(B,U.mode,W),W.return=U,U=W),b(U)):o(U,k)}return function(U,k,B,W){try{no=0;var oe=Fe(U,k,B,W);return Xa=null,oe}catch(ie){if(ie===$a||ie===Xl)throw ie;var Le=En(29,ie,null,U.mode);return Le.lanes=W,Le.return=U,Le}}}var ra=Ug(!0),Bg=Ug(!1),di=!1;function Cf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function mi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function pi(n,a,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ve&2)!==0){var d=u.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a,a=Bl(n),_g(n,null,o),a}return Ul(n,u,a,o),Bl(n)}function io(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,o|=u,a.lanes=o,ir(n,o)}}function Af(n,a){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=b:p=p.next=b,o=o.next}while(o!==null);p===null?d=p=a:p=p.next=a}else d=p=a;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Rf=!1;function ao(){if(Rf){var n=Ya;if(n!==null)throw n}}function so(n,a,o,u){Rf=!1;var d=n.updateQueue;di=!1;var p=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var j=x,V=j.next;j.next=null,b===null?p=V:b.next=V,b=j;var X=n.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==b&&(x===null?X.firstBaseUpdate=V:x.next=V,X.lastBaseUpdate=j))}if(p!==null){var I=d.baseState;b=0,X=V=j=null,x=p;do{var q=x.lane&-536870913,Y=q!==x.lane;if(Y?(je&q)===q:(u&q)===q){q!==0&&q===qa&&(Rf=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var te=n,ce=x;q=a;var Fe=o;switch(ce.tag){case 1:if(te=ce.payload,typeof te=="function"){I=te.call(Fe,I,q);break e}I=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ce.payload,q=typeof te=="function"?te.call(Fe,I,q):te,q==null)break e;I=v({},I,q);break e;case 2:di=!0}}q=x.callback,q!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=d.callbacks,Y===null?d.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(V=X=Y,j=I):X=X.next=Y,b|=q;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,d.lastBaseUpdate=Y,d.shared.pending=null}}while(!0);X===null&&(j=I),d.baseState=j,d.firstBaseUpdate=V,d.lastBaseUpdate=X,p===null&&(d.shared.lanes=0),wi|=b,n.lanes=b,n.memoizedState=I}}function Vg(n,a){if(typeof n!="function")throw Error(i(191,n));n.call(a)}function Hg(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Vg(o[n],a)}var Ga=P(null),Il=P(0);function qg(n,a){n=Wr,F(Il,n),F(Ga,a),Wr=n|a.baseLanes}function Df(){F(Il,Wr),F(Ga,Ga.current)}function jf(){Wr=Il.current,G(Ga),G(Il)}var xn=P(null),Gn=null;function gi(n){var a=n.alternate;F(wt,wt.current&1),F(xn,n),Gn===null&&(a===null||Ga.current!==null||a.memoizedState!==null)&&(Gn=n)}function Mf(n){F(wt,wt.current),F(xn,n),Gn===null&&(Gn=n)}function Yg(n){n.tag===22?(F(wt,wt.current),F(xn,n),Gn===null&&(Gn=n)):vi()}function vi(){F(wt,wt.current),F(xn,xn.current)}function Cn(n){G(xn),Gn===n&&(Gn=null),G(wt)}var wt=P(0);function Fl(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Uh(o)||Bh(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vr=0,_e=null,We=null,xt=null,Ql=!1,Ka=!1,ia=!1,Zl=0,oo=0,Wa=null,YE=0;function pt(){throw Error(i(321))}function Nf(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!Tn(n[o],a[o]))return!1;return!0}function Pf(n,a,o,u,d,p){return Vr=p,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=n===null||n.memoizedState===null?Cv:If,ia=!1,p=o(u,d),ia=!1,Ka&&(p=Xg(a,o,u,d)),$g(n),p}function $g(n){H.H=co;var a=We!==null&&We.next!==null;if(Vr=0,xt=We=_e=null,Ql=!1,oo=0,Wa=null,a)throw Error(i(300));n===null||Ct||(n=n.dependencies,n!==null&&ql(n)&&(Ct=!0))}function Xg(n,a,o,u){_e=n;var d=0;do{if(Ka&&(Wa=null),oo=0,Ka=!1,25<=d)throw Error(i(301));if(d+=1,xt=We=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=Ov,p=a(o,u)}while(Ka);return p}function $E(){var n=H.H,a=n.useState()[0];return a=typeof a.then=="function"?lo(a):a,n=n.useState()[0],(We!==null?We.memoizedState:null)!==n&&(_e.flags|=1024),a}function kf(){var n=Zl!==0;return Zl=0,n}function zf(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Lf(n){if(Ql){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ql=!1}Vr=0,xt=We=_e=null,Ka=!1,oo=Zl=0,Wa=null}function an(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?_e.memoizedState=xt=n:xt=xt.next=n,xt}function St(){if(We===null){var n=_e.alternate;n=n!==null?n.memoizedState:null}else n=We.next;var a=xt===null?_e.memoizedState:xt.next;if(a!==null)xt=a,We=n;else{if(n===null)throw _e.alternate===null?Error(i(467)):Error(i(310));We=n,n={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},xt===null?_e.memoizedState=xt=n:xt=xt.next=n}return xt}function Jl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lo(n){var a=oo;return oo+=1,Wa===null&&(Wa=[]),n=kg(Wa,n,a),a=_e,(xt===null?a.memoizedState:xt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?Cv:If),n}function eu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return lo(n);if(n.$$typeof===O)return Kt(n)}throw Error(i(438,String(n)))}function Uf(n){var a=null,o=_e.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=_e.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Jl(),_e.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),u=0;u<n;u++)o[u]=Z;return a.index++,o}function Hr(n,a){return typeof a=="function"?a(n):a}function tu(n){var a=St();return Bf(a,We,n)}function Bf(n,a,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=n.baseQueue,p=u.pending;if(p!==null){if(d!==null){var b=d.next;d.next=p.next,p.next=b}a.baseQueue=d=p,u.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{a=d.next;var x=b=null,j=null,V=a,X=!1;do{var I=V.lane&-536870913;if(I!==V.lane?(je&I)===I:(Vr&I)===I){var q=V.revertLane;if(q===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),I===qa&&(X=!0);else if((Vr&q)===q){V=V.next,q===qa&&(X=!0);continue}else I={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},j===null?(x=j=I,b=p):j=j.next=I,_e.lanes|=q,wi|=q;I=V.action,ia&&o(p,I),p=V.hasEagerState?V.eagerState:o(p,I)}else q={lane:I,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},j===null?(x=j=q,b=p):j=j.next=q,_e.lanes|=I,wi|=I;V=V.next}while(V!==null&&V!==a);if(j===null?b=p:j.next=x,!Tn(p,n.memoizedState)&&(Ct=!0,X&&(o=Ya,o!==null)))throw o;n.memoizedState=p,n.baseState=b,n.baseQueue=j,u.lastRenderedState=p}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Vf(n){var a=St(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,p=a.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do p=n(p,b.action),b=b.next;while(b!==d);Tn(p,a.memoizedState)||(Ct=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,u]}function Gg(n,a,o){var u=_e,d=St(),p=ke;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=a();var b=!Tn((We||d).memoizedState,o);if(b&&(d.memoizedState=o,Ct=!0),d=d.queue,Yf(Ig.bind(null,u,d,n),[n]),d.getSnapshot!==a||b||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,Ia(9,{destroy:void 0},Wg.bind(null,u,d,o,a),null),Je===null)throw Error(i(349));p||(Vr&127)!==0||Kg(u,a,o)}return o}function Kg(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=_e.updateQueue,a===null?(a=Jl(),_e.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function Wg(n,a,o,u){a.value=o,a.getSnapshot=u,Fg(a)&&Qg(n)}function Ig(n,a,o){return o(function(){Fg(a)&&Qg(n)})}function Fg(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!Tn(n,o)}catch{return!0}}function Qg(n){var a=Ii(n,2);a!==null&&vn(a,n,2)}function Hf(n){var a=an();if(typeof n=="function"){var o=n;if(n=o(),ia){Sn(!0);try{o()}finally{Sn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:n},a}function Zg(n,a,o,u){return n.baseState=o,Bf(n,We,typeof u=="function"?u:Hr)}function XE(n,a,o,u,d){if(iu(n))throw Error(i(485));if(n=a.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};H.T!==null?o(!0):p.isTransition=!1,u(p),o=a.pending,o===null?(p.next=a.pending=p,Jg(a,p)):(p.next=o.next,a.pending=o.next=p)}}function Jg(n,a){var o=a.action,u=a.payload,d=n.state;if(a.isTransition){var p=H.T,b={};H.T=b;try{var x=o(d,u),j=H.S;j!==null&&j(b,x),ev(n,a,x)}catch(V){qf(n,a,V)}finally{p!==null&&b.types!==null&&(p.types=b.types),H.T=p}}else try{p=o(d,u),ev(n,a,p)}catch(V){qf(n,a,V)}}function ev(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){tv(n,a,u)},function(u){return qf(n,a,u)}):tv(n,a,o)}function tv(n,a,o){a.status="fulfilled",a.value=o,nv(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,Jg(n,o)))}function qf(n,a,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,nv(a),a=a.next;while(a!==u)}n.action=null}function nv(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function rv(n,a){return a}function iv(n,a){if(ke){var o=Je.formState;if(o!==null){e:{var u=_e;if(ke){if(it){t:{for(var d=it,p=Xn;d.nodeType!==8;){if(!p){d=null;break t}if(d=Kn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){it=Kn(d.nextSibling),u=d.data==="F!";break e}}fi(u)}u=!1}u&&(a=o[0])}}return o=an(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rv,lastRenderedState:a},o.queue=u,o=Tv.bind(null,_e,u),u.dispatch=o,u=Hf(!1),p=Wf.bind(null,_e,!1,u.queue),u=an(),d={state:a,dispatch:null,action:n,pending:null},u.queue=d,o=XE.bind(null,_e,d,p,o),d.dispatch=o,u.memoizedState=n,[a,o,!1]}function av(n){var a=St();return sv(a,We,n)}function sv(n,a,o){if(a=Bf(n,a,rv)[0],n=tu(Hr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=lo(a)}catch(b){throw b===$a?Xl:b}else u=a;a=St();var d=a.queue,p=d.dispatch;return o!==a.memoizedState&&(_e.flags|=2048,Ia(9,{destroy:void 0},GE.bind(null,d,o),null)),[u,p,n]}function GE(n,a){n.action=a}function ov(n){var a=St(),o=We;if(o!==null)return sv(a,o,n);St(),a=a.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=n,[a,u,!1]}function Ia(n,a,o,u){return n={tag:n,create:o,deps:u,inst:a,next:null},a=_e.updateQueue,a===null&&(a=Jl(),_e.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,a.lastEffect=n),n}function lv(){return St().memoizedState}function nu(n,a,o,u){var d=an();_e.flags|=n,d.memoizedState=Ia(1|a,{destroy:void 0},o,u===void 0?null:u)}function ru(n,a,o,u){var d=St();u=u===void 0?null:u;var p=d.memoizedState.inst;We!==null&&u!==null&&Nf(u,We.memoizedState.deps)?d.memoizedState=Ia(a,p,o,u):(_e.flags|=n,d.memoizedState=Ia(1|a,p,o,u))}function uv(n,a){nu(8390656,8,n,a)}function Yf(n,a){ru(2048,8,n,a)}function KE(n){_e.flags|=4;var a=_e.updateQueue;if(a===null)a=Jl(),_e.updateQueue=a,a.events=[n];else{var o=a.events;o===null?a.events=[n]:o.push(n)}}function cv(n){var a=St().memoizedState;return KE({ref:a,nextImpl:n}),function(){if((Ve&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function fv(n,a){return ru(4,2,n,a)}function hv(n,a){return ru(4,4,n,a)}function dv(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function mv(n,a,o){o=o!=null?o.concat([n]):null,ru(4,4,dv.bind(null,a,n),o)}function $f(){}function pv(n,a){var o=St();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Nf(a,u[1])?u[0]:(o.memoizedState=[n,a],n)}function gv(n,a){var o=St();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Nf(a,u[1]))return u[0];if(u=n(),ia){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[u,a],u}function Xf(n,a,o){return o===void 0||(Vr&1073741824)!==0&&(je&261930)===0?n.memoizedState=a:(n.memoizedState=o,n=vy(),_e.lanes|=n,wi|=n,o)}function vv(n,a,o,u){return Tn(o,a)?o:Ga.current!==null?(n=Xf(n,o,u),Tn(n,a)||(Ct=!0),n):(Vr&42)===0||(Vr&1073741824)!==0&&(je&261930)===0?(Ct=!0,n.memoizedState=o):(n=vy(),_e.lanes|=n,wi|=n,a)}function yv(n,a,o,u,d){var p=K.p;K.p=p!==0&&8>p?p:8;var b=H.T,x={};H.T=x,Wf(n,!1,a,o);try{var j=d(),V=H.S;if(V!==null&&V(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var X=qE(j,u);uo(n,a,X,Rn(n))}else uo(n,a,u,Rn(n))}catch(I){uo(n,a,{then:function(){},status:"rejected",reason:I},Rn())}finally{K.p=p,b!==null&&x.types!==null&&(b.types=x.types),H.T=b}}function WE(){}function Gf(n,a,o,u){if(n.tag!==5)throw Error(i(476));var d=bv(n).queue;yv(n,d,a,Q,o===null?WE:function(){return wv(n),o(u)})}function bv(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:Q},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function wv(n){var a=bv(n);a.next===null&&(a=n.alternate.memoizedState),uo(n,a.next.queue,{},Rn())}function Kf(){return Kt(Oo)}function Sv(){return St().memoizedState}function _v(){return St().memoizedState}function IE(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=Rn();n=mi(o);var u=pi(a,n,o);u!==null&&(vn(u,a,o),io(u,a,o)),a={cache:_f()},n.payload=a;return}a=a.return}}function FE(n,a,o){var u=Rn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},iu(n)?Ev(a,o):(o=ff(n,a,o,u),o!==null&&(vn(o,n,u),xv(o,a,u)))}function Tv(n,a,o){var u=Rn();uo(n,a,o,u)}function uo(n,a,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(iu(n))Ev(a,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var b=a.lastRenderedState,x=p(b,o);if(d.hasEagerState=!0,d.eagerState=x,Tn(x,b))return Ul(n,a,d,0),Je===null&&Ll(),!1}catch{}if(o=ff(n,a,d,u),o!==null)return vn(o,n,u),xv(o,a,u),!0}return!1}function Wf(n,a,o,u){if(u={lane:2,revertLane:Ch(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},iu(n)){if(a)throw Error(i(479))}else a=ff(n,o,u,2),a!==null&&vn(a,n,2)}function iu(n){var a=n.alternate;return n===_e||a!==null&&a===_e}function Ev(n,a){Ka=Ql=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function xv(n,a,o){if((o&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,o|=u,a.lanes=o,ir(n,o)}}var co={readContext:Kt,use:eu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};co.useEffectEvent=pt;var Cv={readContext:Kt,use:eu,useCallback:function(n,a){return an().memoizedState=[n,a===void 0?null:a],n},useContext:Kt,useEffect:uv,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,nu(4194308,4,dv.bind(null,a,n),o)},useLayoutEffect:function(n,a){return nu(4194308,4,n,a)},useInsertionEffect:function(n,a){nu(4,2,n,a)},useMemo:function(n,a){var o=an();a=a===void 0?null:a;var u=n();if(ia){Sn(!0);try{n()}finally{Sn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(n,a,o){var u=an();if(o!==void 0){var d=o(a);if(ia){Sn(!0);try{o(a)}finally{Sn(!1)}}}else d=a;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=FE.bind(null,_e,n),[u.memoizedState,n]},useRef:function(n){var a=an();return n={current:n},a.memoizedState=n},useState:function(n){n=Hf(n);var a=n.queue,o=Tv.bind(null,_e,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:$f,useDeferredValue:function(n,a){var o=an();return Xf(o,n,a)},useTransition:function(){var n=Hf(!1);return n=yv.bind(null,_e,n.queue,!0,!1),an().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var u=_e,d=an();if(ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),Je===null)throw Error(i(349));(je&127)!==0||Kg(u,a,o)}d.memoizedState=o;var p={value:o,getSnapshot:a};return d.queue=p,uv(Ig.bind(null,u,p,n),[n]),u.flags|=2048,Ia(9,{destroy:void 0},Wg.bind(null,u,p,o,a),null),o},useId:function(){var n=an(),a=Je.identifierPrefix;if(ke){var o=_r,u=Sr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=Zl++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=YE++,a="_"+a+"r_"+o.toString(32)+"_";return n.memoizedState=a},useHostTransitionStatus:Kf,useFormState:iv,useActionState:iv,useOptimistic:function(n){var a=an();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Wf.bind(null,_e,!0,o),o.dispatch=a,[n,a]},useMemoCache:Uf,useCacheRefresh:function(){return an().memoizedState=IE.bind(null,_e)},useEffectEvent:function(n){var a=an(),o={impl:n};return a.memoizedState=o,function(){if((Ve&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},If={readContext:Kt,use:eu,useCallback:pv,useContext:Kt,useEffect:Yf,useImperativeHandle:mv,useInsertionEffect:fv,useLayoutEffect:hv,useMemo:gv,useReducer:tu,useRef:lv,useState:function(){return tu(Hr)},useDebugValue:$f,useDeferredValue:function(n,a){var o=St();return vv(o,We.memoizedState,n,a)},useTransition:function(){var n=tu(Hr)[0],a=St().memoizedState;return[typeof n=="boolean"?n:lo(n),a]},useSyncExternalStore:Gg,useId:Sv,useHostTransitionStatus:Kf,useFormState:av,useActionState:av,useOptimistic:function(n,a){var o=St();return Zg(o,We,n,a)},useMemoCache:Uf,useCacheRefresh:_v};If.useEffectEvent=cv;var Ov={readContext:Kt,use:eu,useCallback:pv,useContext:Kt,useEffect:Yf,useImperativeHandle:mv,useInsertionEffect:fv,useLayoutEffect:hv,useMemo:gv,useReducer:Vf,useRef:lv,useState:function(){return Vf(Hr)},useDebugValue:$f,useDeferredValue:function(n,a){var o=St();return We===null?Xf(o,n,a):vv(o,We.memoizedState,n,a)},useTransition:function(){var n=Vf(Hr)[0],a=St().memoizedState;return[typeof n=="boolean"?n:lo(n),a]},useSyncExternalStore:Gg,useId:Sv,useHostTransitionStatus:Kf,useFormState:ov,useActionState:ov,useOptimistic:function(n,a){var o=St();return We!==null?Zg(o,We,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:_v};Ov.useEffectEvent=cv;function Ff(n,a,o,u){a=n.memoizedState,o=o(u,a),o=o==null?a:v({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Qf={enqueueSetState:function(n,a,o){n=n._reactInternals;var u=Rn(),d=mi(u);d.payload=a,o!=null&&(d.callback=o),a=pi(n,d,u),a!==null&&(vn(a,n,u),io(a,n,u))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var u=Rn(),d=mi(u);d.tag=1,d.payload=a,o!=null&&(d.callback=o),a=pi(n,d,u),a!==null&&(vn(a,n,u),io(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=Rn(),u=mi(o);u.tag=2,a!=null&&(u.callback=a),a=pi(n,u,o),a!==null&&(vn(a,n,o),io(a,n,o))}};function Av(n,a,o,u,d,p,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,b):a.prototype&&a.prototype.isPureReactComponent?!Fs(o,u)||!Fs(d,p):!0}function Rv(n,a,o,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==n&&Qf.enqueueReplaceState(a,a.state,null)}function aa(n,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(n=n.defaultProps){o===a&&(o=v({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}function Dv(n){zl(n)}function jv(n){console.error(n)}function Mv(n){zl(n)}function au(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Nv(n,a,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Zf(n,a,o){return o=mi(o),o.tag=3,o.payload={element:null},o.callback=function(){au(n,a)},o}function Pv(n){return n=mi(n),n.tag=3,n}function kv(n,a,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;n.payload=function(){return d(p)},n.callback=function(){Nv(a,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Nv(a,o,u),typeof d!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function QE(n,a,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&Ha(a,o,d,!0),o=xn.current,o!==null){switch(o.tag){case 31:case 13:return Gn===null?vu():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Gl?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Th(n,u,d)),!1;case 22:return o.flags|=65536,u===Gl?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Th(n,u,d)),!1}throw Error(i(435,o.tag))}return Th(n,u,d),vu(),!1}if(ke)return a=xn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,u!==vf&&(n=Error(i(422),{cause:u}),Js(qn(n,o)))):(u!==vf&&(a=Error(i(423),{cause:u}),Js(qn(a,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=qn(u,o),d=Zf(n.stateNode,u,d),Af(n,d),gt!==4&&(gt=2)),!1;var p=Error(i(520),{cause:u});if(p=qn(p,o),bo===null?bo=[p]:bo.push(p),gt!==4&&(gt=2),a===null)return!0;u=qn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=Zf(o.stateNode,u,n),Af(o,n),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Si===null||!Si.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Pv(d),kv(d,n,o,u),Af(o,d),!1}o=o.return}while(o!==null);return!1}var Jf=Error(i(461)),Ct=!1;function Wt(n,a,o,u){a.child=n===null?Bg(a,null,o,u):ra(a,n.child,o,u)}function zv(n,a,o,u,d){o=o.render;var p=a.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Ji(a),u=Pf(n,a,o,b,p,d),x=kf(),n!==null&&!Ct?(zf(n,a,d),qr(n,a,d)):(ke&&x&&pf(a),a.flags|=1,Wt(n,a,u,d),a.child)}function Lv(n,a,o,u,d){if(n===null){var p=o.type;return typeof p=="function"&&!hf(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Uv(n,a,p,u,d)):(n=Vl(o.type,null,u,a,a.mode,d),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!oh(n,d)){var b=p.memoizedProps;if(o=o.compare,o=o!==null?o:Fs,o(b,u)&&n.ref===a.ref)return qr(n,a,d)}return a.flags|=1,n=zr(p,u),n.ref=a.ref,n.return=a,a.child=n}function Uv(n,a,o,u,d){if(n!==null){var p=n.memoizedProps;if(Fs(p,u)&&n.ref===a.ref)if(Ct=!1,a.pendingProps=u=p,oh(n,d))(n.flags&131072)!==0&&(Ct=!0);else return a.lanes=n.lanes,qr(n,a,d)}return eh(n,a,o,u,d)}function Bv(n,a,o,u){var d=u.children,p=n!==null?n.memoizedState:null;if(n===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=a.child=n.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,a.child=null;return Vv(n,a,p,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&$l(a,p!==null?p.cachePool:null),p!==null?qg(a,p):Df(),Yg(a);else return u=a.lanes=536870912,Vv(n,a,p!==null?p.baseLanes|o:o,o,u)}else p!==null?($l(a,p.cachePool),qg(a,p),vi(),a.memoizedState=null):(n!==null&&$l(a,null),Df(),vi());return Wt(n,a,d,o),a.child}function fo(n,a){return n!==null&&n.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Vv(n,a,o,u,d){var p=Ef();return p=p===null?null:{parent:Et._currentValue,pool:p},a.memoizedState={baseLanes:o,cachePool:p},n!==null&&$l(a,null),Df(),Yg(a),n!==null&&Ha(n,a,u,!0),a.childLanes=d,null}function su(n,a){return a=lu({mode:a.mode,children:a.children},n.mode),a.ref=n.ref,n.child=a,a.return=n,a}function Hv(n,a,o){return ra(a,n.child,null,o),n=su(a,a.pendingProps),n.flags|=2,Cn(a),a.memoizedState=null,n}function ZE(n,a,o){var u=a.pendingProps,d=(a.flags&128)!==0;if(a.flags&=-129,n===null){if(ke){if(u.mode==="hidden")return n=su(a,u),a.lanes=536870912,fo(null,n);if(Mf(a),(n=it)?(n=Jy(n,Xn),n=n!==null&&n.data==="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:ui!==null?{id:Sr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},o=Eg(n),o.return=a,a.child=o,Gt=a,it=null)):n=null,n===null)throw fi(a);return a.lanes=536870912,null}return su(a,u)}var p=n.memoizedState;if(p!==null){var b=p.dehydrated;if(Mf(a),d)if(a.flags&256)a.flags&=-257,a=Hv(n,a,o);else if(a.memoizedState!==null)a.child=n.child,a.flags|=128,a=null;else throw Error(i(558));else if(Ct||Ha(n,a,o,!1),d=(o&n.childLanes)!==0,Ct||d){if(u=Je,u!==null&&(b=ar(u,o),b!==0&&b!==p.retryLane))throw p.retryLane=b,Ii(n,b),vn(u,n,b),Jf;vu(),a=Hv(n,a,o)}else n=p.treeContext,it=Kn(b.nextSibling),Gt=a,ke=!0,ci=null,Xn=!1,n!==null&&Og(a,n),a=su(a,u),a.flags|=4096;return a}return n=zr(n.child,{mode:u.mode,children:u.children}),n.ref=a.ref,a.child=n,n.return=a,n}function ou(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function eh(n,a,o,u,d){return Ji(a),o=Pf(n,a,o,u,void 0,d),u=kf(),n!==null&&!Ct?(zf(n,a,d),qr(n,a,d)):(ke&&u&&pf(a),a.flags|=1,Wt(n,a,o,d),a.child)}function qv(n,a,o,u,d,p){return Ji(a),a.updateQueue=null,o=Xg(a,u,o,d),$g(n),u=kf(),n!==null&&!Ct?(zf(n,a,p),qr(n,a,p)):(ke&&u&&pf(a),a.flags|=1,Wt(n,a,o,p),a.child)}function Yv(n,a,o,u,d){if(Ji(a),a.stateNode===null){var p=La,b=o.contextType;typeof b=="object"&&b!==null&&(p=Kt(b)),p=new o(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qf,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},Cf(a),b=o.contextType,p.context=typeof b=="object"&&b!==null?Kt(b):La,p.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Ff(a,o,b,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Qf.enqueueReplaceState(p,p.state,null),so(a,u,p,d),ao(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){p=a.stateNode;var x=a.memoizedProps,j=aa(o,x);p.props=j;var V=p.context,X=o.contextType;b=La,typeof X=="object"&&X!==null&&(b=Kt(X));var I=o.getDerivedStateFromProps;X=typeof I=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||V!==b)&&Rv(a,p,u,b),di=!1;var q=a.memoizedState;p.state=q,so(a,u,p,d),ao(),V=a.memoizedState,x||q!==V||di?(typeof I=="function"&&(Ff(a,o,I,u),V=a.memoizedState),(j=di||Av(a,o,j,u,q,V,b))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=V),p.props=u,p.state=V,p.context=b,u=j):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,Of(n,a),b=a.memoizedProps,X=aa(o,b),p.props=X,I=a.pendingProps,q=p.context,V=o.contextType,j=La,typeof V=="object"&&V!==null&&(j=Kt(V)),x=o.getDerivedStateFromProps,(V=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==I||q!==j)&&Rv(a,p,u,j),di=!1,q=a.memoizedState,p.state=q,so(a,u,p,d),ao();var Y=a.memoizedState;b!==I||q!==Y||di||n!==null&&n.dependencies!==null&&ql(n.dependencies)?(typeof x=="function"&&(Ff(a,o,x,u),Y=a.memoizedState),(X=di||Av(a,o,X,u,q,Y,j)||n!==null&&n.dependencies!==null&&ql(n.dependencies))?(V||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Y,j),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Y,j)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Y),p.props=u,p.state=Y,p.context=j,u=X):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&q===n.memoizedState||(a.flags|=1024),u=!1)}return p=u,ou(n,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&u?(a.child=ra(a,n.child,null,d),a.child=ra(a,null,o,d)):Wt(n,a,o,d),a.memoizedState=p.state,n=a.child):n=qr(n,a,d),n}function $v(n,a,o,u){return Qi(),a.flags|=256,Wt(n,a,o,u),a.child}var th={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nh(n){return{baseLanes:n,cachePool:Ng()}}function rh(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=An),n}function Xv(n,a,o){var u=a.pendingProps,d=!1,p=(a.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(wt.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,n===null){if(ke){if(d?gi(a):vi(),(n=it)?(n=Jy(n,Xn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(a.memoizedState={dehydrated:n,treeContext:ui!==null?{id:Sr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},o=Eg(n),o.return=a,a.child=o,Gt=a,it=null)):n=null,n===null)throw fi(a);return Bh(n)?a.lanes=32:a.lanes=536870912,null}var x=u.children;return u=u.fallback,d?(vi(),d=a.mode,x=lu({mode:"hidden",children:x},d),u=Fi(u,d,o,null),x.return=a,u.return=a,x.sibling=u,a.child=x,u=a.child,u.memoizedState=nh(o),u.childLanes=rh(n,b,o),a.memoizedState=th,fo(null,u)):(gi(a),ih(a,x))}var j=n.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(p)a.flags&256?(gi(a),a.flags&=-257,a=ah(n,a,o)):a.memoizedState!==null?(vi(),a.child=n.child,a.flags|=128,a=null):(vi(),x=u.fallback,d=a.mode,u=lu({mode:"visible",children:u.children},d),x=Fi(x,d,o,null),x.flags|=2,u.return=a,x.return=a,u.sibling=x,a.child=u,ra(a,n.child,null,o),u=a.child,u.memoizedState=nh(o),u.childLanes=rh(n,b,o),a.memoizedState=th,a=fo(null,u));else if(gi(a),Bh(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var V=b.dgst;b=V,u=Error(i(419)),u.stack="",u.digest=b,Js({value:u,source:null,stack:null}),a=ah(n,a,o)}else if(Ct||Ha(n,a,o,!1),b=(o&n.childLanes)!==0,Ct||b){if(b=Je,b!==null&&(u=ar(b,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,Ii(n,u),vn(b,n,u),Jf;Uh(x)||vu(),a=ah(n,a,o)}else Uh(x)?(a.flags|=192,a.child=n.child,a=null):(n=j.treeContext,it=Kn(x.nextSibling),Gt=a,ke=!0,ci=null,Xn=!1,n!==null&&Og(a,n),a=ih(a,u.children),a.flags|=4096);return a}return d?(vi(),x=u.fallback,d=a.mode,j=n.child,V=j.sibling,u=zr(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,V!==null?x=zr(V,x):(x=Fi(x,d,o,null),x.flags|=2),x.return=a,u.return=a,u.sibling=x,a.child=u,fo(null,u),u=a.child,x=n.child.memoizedState,x===null?x=nh(o):(d=x.cachePool,d!==null?(j=Et._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=Ng(),x={baseLanes:x.baseLanes|o,cachePool:d}),u.memoizedState=x,u.childLanes=rh(n,b,o),a.memoizedState=th,fo(n.child,u)):(gi(a),o=n.child,n=o.sibling,o=zr(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,n!==null&&(b=a.deletions,b===null?(a.deletions=[n],a.flags|=16):b.push(n)),a.child=o,a.memoizedState=null,o)}function ih(n,a){return a=lu({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function lu(n,a){return n=En(22,n,null,a),n.lanes=0,n}function ah(n,a,o){return ra(a,n.child,null,o),n=ih(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Gv(n,a,o){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),wf(n.return,a,o)}function sh(n,a,o,u,d,p){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=d,b.treeForkCount=p)}function Kv(n,a,o){var u=a.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var b=wt.current,x=(b&2)!==0;if(x?(b=b&1|2,a.flags|=128):b&=1,F(wt,b),Wt(n,a,u,o),u=ke?Zs:0,!x&&n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Gv(n,o,a);else if(n.tag===19)Gv(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(o=a.child,d=null;o!==null;)n=o.alternate,n!==null&&Fl(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=a.child,a.child=null):(d=o.sibling,o.sibling=null),sh(a,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=a.child,a.child=null;d!==null;){if(n=d.alternate,n!==null&&Fl(n)===null){a.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}sh(a,!0,o,null,p,u);break;case"together":sh(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function qr(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),wi|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(Ha(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(i(153));if(a.child!==null){for(n=a.child,o=zr(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=zr(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function oh(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&ql(n)))}function JE(n,a,o){switch(a.tag){case 3:nt(a,a.stateNode.containerInfo),hi(a,Et,n.memoizedState.cache),Qi();break;case 27:case 5:ct(a);break;case 4:nt(a,a.stateNode.containerInfo);break;case 10:hi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Mf(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(gi(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Xv(n,a,o):(gi(a),n=qr(n,a,o),n!==null?n.sibling:null);gi(a);break;case 19:var d=(n.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(Ha(n,a,o,!1),u=(o&a.childLanes)!==0),d){if(u)return Kv(n,a,o);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(wt,wt.current),u)break;return null;case 22:return a.lanes=0,Bv(n,a,o,a.pendingProps);case 24:hi(a,Et,n.memoizedState.cache)}return qr(n,a,o)}function Wv(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)Ct=!0;else{if(!oh(n,o)&&(a.flags&128)===0)return Ct=!1,JE(n,a,o);Ct=(n.flags&131072)!==0}else Ct=!1,ke&&(a.flags&1048576)!==0&&Cg(a,Zs,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(n=ta(a.elementType),a.type=n,typeof n=="function")hf(n)?(u=aa(n,u),a.tag=1,a=Yv(null,a,n,u,o)):(a.tag=0,a=eh(null,a,n,u,o));else{if(n!=null){var d=n.$$typeof;if(d===N){a.tag=11,a=zv(null,a,n,u,o);break e}else if(d===D){a.tag=14,a=Lv(null,a,n,u,o);break e}}throw a=le(n)||n,Error(i(306,a,""))}}return a;case 0:return eh(n,a,a.type,a.pendingProps,o);case 1:return u=a.type,d=aa(u,a.pendingProps),Yv(n,a,u,d,o);case 3:e:{if(nt(a,a.stateNode.containerInfo),n===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;d=p.element,Of(n,a),so(a,u,null,o);var b=a.memoizedState;if(u=b.cache,hi(a,Et,u),u!==p.cache&&Sf(a,[Et],o,!0),ao(),u=b.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=$v(n,a,u,o);break e}else if(u!==d){d=qn(Error(i(424)),a),Js(d),a=$v(n,a,u,o);break e}else for(n=a.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,it=Kn(n.firstChild),Gt=a,ke=!0,ci=null,Xn=!0,o=Bg(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Qi(),u===d){a=qr(n,a,o);break e}Wt(n,a,u,o)}a=a.child}return a;case 26:return ou(n,a),n===null?(o=a0(a.type,null,a.pendingProps,null))?a.memoizedState=o:ke||(o=a.type,n=a.pendingProps,u=Eu(se.current).createElement(o),u[ge]=a,u[Ce]=n,It(u,o,n),mt(u),a.stateNode=u):a.memoizedState=a0(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return ct(a),n===null&&ke&&(u=a.stateNode=n0(a.type,a.pendingProps,se.current),Gt=a,Xn=!0,d=it,xi(a.type)?(Vh=d,it=Kn(u.firstChild)):it=d),Wt(n,a,a.pendingProps.children,o),ou(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&ke&&((d=u=it)&&(u=Rx(u,a.type,a.pendingProps,Xn),u!==null?(a.stateNode=u,Gt=a,it=Kn(u.firstChild),Xn=!1,d=!0):d=!1),d||fi(a)),ct(a),d=a.type,p=a.pendingProps,b=n!==null?n.memoizedProps:null,u=p.children,kh(d,p)?u=null:b!==null&&kh(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=Pf(n,a,$E,null,null,o),Oo._currentValue=d),ou(n,a),Wt(n,a,u,o),a.child;case 6:return n===null&&ke&&((n=o=it)&&(o=Dx(o,a.pendingProps,Xn),o!==null?(a.stateNode=o,Gt=a,it=null,n=!0):n=!1),n||fi(a)),null;case 13:return Xv(n,a,o);case 4:return nt(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=ra(a,null,u,o):Wt(n,a,u,o),a.child;case 11:return zv(n,a,a.type,a.pendingProps,o);case 7:return Wt(n,a,a.pendingProps,o),a.child;case 8:return Wt(n,a,a.pendingProps.children,o),a.child;case 12:return Wt(n,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,hi(a,a.type,u.value),Wt(n,a,u.children,o),a.child;case 9:return d=a.type._context,u=a.pendingProps.children,Ji(a),d=Kt(d),u=u(d),a.flags|=1,Wt(n,a,u,o),a.child;case 14:return Lv(n,a,a.type,a.pendingProps,o);case 15:return Uv(n,a,a.type,a.pendingProps,o);case 19:return Kv(n,a,o);case 31:return ZE(n,a,o);case 22:return Bv(n,a,o,a.pendingProps);case 24:return Ji(a),u=Kt(Et),n===null?(d=Ef(),d===null&&(d=Je,p=_f(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),a.memoizedState={parent:u,cache:d},Cf(a),hi(a,Et,d)):((n.lanes&o)!==0&&(Of(n,a),so(a,null,null,o),ao()),d=n.memoizedState,p=a.memoizedState,d.parent!==u?(d={parent:u,cache:u},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),hi(a,Et,u)):(u=p.cache,hi(a,Et,u),u!==d.cache&&Sf(a,[Et],o,!0))),Wt(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Yr(n){n.flags|=4}function lh(n,a,o,u,d){if((a=(n.mode&32)!==0)&&(a=!1),a){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Sy())n.flags|=8192;else throw na=Gl,xf}else n.flags&=-16777217}function Iv(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!c0(a))if(Sy())n.flags|=8192;else throw na=Gl,xf}function uu(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Bt():536870912,n.lanes|=a,Ja|=a)}function ho(n,a){if(!ke)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function at(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(a)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,a}function ex(n,a,o){var u=a.pendingProps;switch(gf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(a),null;case 1:return at(a),null;case 3:return o=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Br(Et),be(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Va(a)?Yr(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,yf())),at(a),null;case 26:var d=a.type,p=a.memoizedState;return n===null?(Yr(a),p!==null?(at(a),Iv(a,p)):(at(a),lh(a,d,null,u,o))):p?p!==n.memoizedState?(Yr(a),at(a),Iv(a,p)):(at(a),a.flags&=-16777217):(n=n.memoizedProps,n!==u&&Yr(a),at(a),lh(a,d,n,u,o)),null;case 27:if(Be(a),o=se.current,d=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Yr(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return at(a),null}n=J.current,Va(a)?Ag(a):(n=n0(d,u,o),a.stateNode=n,Yr(a))}return at(a),null;case 5:if(Be(a),d=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&Yr(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return at(a),null}if(p=J.current,Va(a))Ag(a);else{var b=Eu(se.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?b.createElement(d,{is:u.is}):b.createElement(d)}}p[ge]=a,p[Ce]=u;e:for(b=a.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===a)break e;for(;b.sibling===null;){if(b.return===null||b.return===a)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}a.stateNode=p;e:switch(It(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Yr(a)}}return at(a),lh(a,a.type,n===null?null:n.memoizedProps,a.pendingProps,o),null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&Yr(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(n=se.current,Va(a)){if(n=a.stateNode,o=a.memoizedProps,u=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[ge]=a,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Xy(n.nodeValue,o)),n||fi(a,!0)}else n=Eu(n).createTextNode(u),n[ge]=a,a.stateNode=n}return at(a),null;case 31:if(o=a.memoizedState,n===null||n.memoizedState!==null){if(u=Va(a),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=a.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[ge]=a}else Qi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;at(a),n=!1}else o=yf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return a.flags&256?(Cn(a),a):(Cn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return at(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Va(a),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[ge]=a}else Qi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;at(a),d=!1}else d=yf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(Cn(a),a):(Cn(a),null)}return Cn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=a.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==n&&o&&(a.child.flags|=8192),uu(a,a.updateQueue),at(a),null);case 4:return be(),n===null&&Dh(a.stateNode.containerInfo),at(a),null;case 10:return Br(a.type),at(a),null;case 19:if(G(wt),u=a.memoizedState,u===null)return at(a),null;if(d=(a.flags&128)!==0,p=u.rendering,p===null)if(d)ho(u,!1);else{if(gt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=Fl(n),p!==null){for(a.flags|=128,ho(u,!1),n=p.updateQueue,a.updateQueue=n,uu(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)Tg(o,n),o=o.sibling;return F(wt,wt.current&1|2),ke&&Lr(a,u.treeForkCount),a.child}n=n.sibling}u.tail!==null&&Lt()>mu&&(a.flags|=128,d=!0,ho(u,!1),a.lanes=4194304)}else{if(!d)if(n=Fl(p),n!==null){if(a.flags|=128,d=!0,n=n.updateQueue,a.updateQueue=n,uu(a,n),ho(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!ke)return at(a),null}else 2*Lt()-u.renderingStartTime>mu&&o!==536870912&&(a.flags|=128,d=!0,ho(u,!1),a.lanes=4194304);u.isBackwards?(p.sibling=a.child,a.child=p):(n=u.last,n!==null?n.sibling=p:a.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Lt(),n.sibling=null,o=wt.current,F(wt,d?o&1|2:o&1),ke&&Lr(a,u.treeForkCount),n):(at(a),null);case 22:case 23:return Cn(a),jf(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(at(a),a.subtreeFlags&6&&(a.flags|=8192)):at(a),o=a.updateQueue,o!==null&&uu(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),n!==null&&G(ea),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Br(Et),at(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function tx(n,a){switch(gf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Br(Et),be(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Be(a),null;case 31:if(a.memoizedState!==null){if(Cn(a),a.alternate===null)throw Error(i(340));Qi()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 13:if(Cn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Qi()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return G(wt),null;case 4:return be(),null;case 10:return Br(a.type),null;case 22:case 23:return Cn(a),jf(),n!==null&&G(ea),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Br(Et),null;case 25:return null;default:return null}}function Fv(n,a){switch(gf(a),a.tag){case 3:Br(Et),be();break;case 26:case 27:case 5:Be(a);break;case 4:be();break;case 31:a.memoizedState!==null&&Cn(a);break;case 13:Cn(a);break;case 19:G(wt);break;case 10:Br(a.type);break;case 22:case 23:Cn(a),jf(),n!==null&&G(ea);break;case 24:Br(Et)}}function mo(n,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&n)===n){u=void 0;var p=o.create,b=o.inst;u=p(),b.destroy=u}o=o.next}while(o!==d)}}catch(x){Xe(a,a.return,x)}}function yi(n,a,o){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&n)===n){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=a;var j=o,V=x;try{V()}catch(X){Xe(d,j,X)}}}u=u.next}while(u!==p)}}catch(X){Xe(a,a.return,X)}}function Qv(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{Hg(a,o)}catch(u){Xe(n,n.return,u)}}}function Zv(n,a,o){o.props=aa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(n,a,u)}}function po(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(d){Xe(n,a,d)}}function Tr(n,a){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Xe(n,a,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Xe(n,a,d)}else o.current=null}function Jv(n){var a=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Xe(n,n.return,d)}}function uh(n,a,o){try{var u=n.stateNode;Tx(u,n.type,o,a),u[Ce]=a}catch(d){Xe(n,n.return,d)}}function ey(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&xi(n.type)||n.tag===4}function ch(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ey(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&xi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fh(n,a,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Pr));else if(u!==4&&(u===27&&xi(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(fh(n,a,o),n=n.sibling;n!==null;)fh(n,a,o),n=n.sibling}function cu(n,a,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(u!==4&&(u===27&&xi(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(cu(n,a,o),n=n.sibling;n!==null;)cu(n,a,o),n=n.sibling}function ty(n){var a=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);It(a,u,o),a[ge]=n,a[Ce]=o}catch(p){Xe(n,n.return,p)}}var $r=!1,Ot=!1,hh=!1,ny=typeof WeakSet=="function"?WeakSet:Set,qt=null;function nx(n,a){if(n=n.containerInfo,Nh=ju,n=mg(n),af(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var b=0,x=-1,j=-1,V=0,X=0,I=n,q=null;t:for(;;){for(var Y;I!==o||d!==0&&I.nodeType!==3||(x=b+d),I!==p||u!==0&&I.nodeType!==3||(j=b+u),I.nodeType===3&&(b+=I.nodeValue.length),(Y=I.firstChild)!==null;)q=I,I=Y;for(;;){if(I===n)break t;if(q===o&&++V===d&&(x=b),q===p&&++X===u&&(j=b),(Y=I.nextSibling)!==null)break;I=q,q=I.parentNode}I=Y}o=x===-1||j===-1?null:{start:x,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ph={focusedElem:n,selectionRange:o},ju=!1,qt=a;qt!==null;)if(a=qt,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,qt=n;else for(;qt!==null;){switch(a=qt,p=a.alternate,n=a.flags,a.tag){case 0:if((n&4)!==0&&(n=a.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)d=n[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=a,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var te=aa(o.type,d);n=u.getSnapshotBeforeUpdate(te,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Xe(o,o.return,ce)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Lh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Lh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=a.sibling,n!==null){n.return=a.return,qt=n;break}qt=a.return}}function ry(n,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Gr(n,o),u&4&&mo(5,o);break;case 1:if(Gr(n,o),u&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(b){Xe(o,o.return,b)}else{var d=aa(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(d,a,n.__reactInternalSnapshotBeforeUpdate)}catch(b){Xe(o,o.return,b)}}u&64&&Qv(o),u&512&&po(o,o.return);break;case 3:if(Gr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Hg(n,a)}catch(b){Xe(o,o.return,b)}}break;case 27:a===null&&u&4&&ty(o);case 26:case 5:Gr(n,o),a===null&&u&4&&Jv(o),u&512&&po(o,o.return);break;case 12:Gr(n,o);break;case 31:Gr(n,o),u&4&&sy(n,o);break;case 13:Gr(n,o),u&4&&oy(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=fx.bind(null,o),jx(n,o))));break;case 22:if(u=o.memoizedState!==null||$r,!u){a=a!==null&&a.memoizedState!==null||Ot,d=$r;var p=Ot;$r=u,(Ot=a)&&!p?Kr(n,o,(o.subtreeFlags&8772)!==0):Gr(n,o),$r=d,Ot=p}break;case 30:break;default:Gr(n,o)}}function iy(n){var a=n.alternate;a!==null&&(n.alternate=null,iy(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&oi(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var st=null,dn=!1;function Xr(n,a,o){for(o=o.child;o!==null;)ay(n,a,o),o=o.sibling}function ay(n,a,o){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(rr,o)}catch{}switch(o.tag){case 26:Ot||Tr(o,a),Xr(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||Tr(o,a);var u=st,d=dn;xi(o.type)&&(st=o.stateNode,dn=!1),Xr(n,a,o),Eo(o.stateNode),st=u,dn=d;break;case 5:Ot||Tr(o,a);case 6:if(u=st,d=dn,st=null,Xr(n,a,o),st=u,dn=d,st!==null)if(dn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(o.stateNode)}catch(p){Xe(o,a,p)}else try{st.removeChild(o.stateNode)}catch(p){Xe(o,a,p)}break;case 18:st!==null&&(dn?(n=st,Qy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),os(n)):Qy(st,o.stateNode));break;case 4:u=st,d=dn,st=o.stateNode.containerInfo,dn=!0,Xr(n,a,o),st=u,dn=d;break;case 0:case 11:case 14:case 15:yi(2,o,a),Ot||yi(4,o,a),Xr(n,a,o);break;case 1:Ot||(Tr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Zv(o,a,u)),Xr(n,a,o);break;case 21:Xr(n,a,o);break;case 22:Ot=(u=Ot)||o.memoizedState!==null,Xr(n,a,o),Ot=u;break;default:Xr(n,a,o)}}function sy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{os(n)}catch(o){Xe(a,a.return,o)}}}function oy(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{os(n)}catch(o){Xe(a,a.return,o)}}function rx(n){switch(n.tag){case 31:case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new ny),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new ny),a;default:throw Error(i(435,n.tag))}}function fu(n,a){var o=rx(n);a.forEach(function(u){if(!o.has(u)){o.add(u);var d=hx.bind(null,n,u);u.then(d,d)}})}function mn(n,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=n,b=a,x=b;e:for(;x!==null;){switch(x.tag){case 27:if(xi(x.type)){st=x.stateNode,dn=!1;break e}break;case 5:st=x.stateNode,dn=!1;break e;case 3:case 4:st=x.stateNode.containerInfo,dn=!0;break e}x=x.return}if(st===null)throw Error(i(160));ay(p,b,d),st=null,dn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)ly(a,n),a=a.sibling}var ur=null;function ly(n,a){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:mn(a,n),pn(n),u&4&&(yi(3,n,n.return),mo(3,n),yi(5,n,n.return));break;case 1:mn(a,n),pn(n),u&512&&(Ot||o===null||Tr(o,o.return)),u&64&&$r&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=ur;if(mn(a,n),pn(n),u&512&&(Ot||o===null||Tr(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[sr]||p[ge]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),It(p,u,o),p[ge]=n,mt(p),u=p;break e;case"link":var b=l0("link","href",d).get(u+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(p=b[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}p=d.createElement(u),It(p,u,o),d.head.appendChild(p);break;case"meta":if(b=l0("meta","content",d).get(u+(o.content||""))){for(x=0;x<b.length;x++)if(p=b[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}p=d.createElement(u),It(p,u,o),d.head.appendChild(p);break;default:throw Error(i(468,u))}p[ge]=n,mt(p),u=p}n.stateNode=u}else u0(d,n.type,n.stateNode);else n.stateNode=o0(d,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?u0(d,n.type,n.stateNode):o0(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&uh(n,n.memoizedProps,o.memoizedProps)}break;case 27:mn(a,n),pn(n),u&512&&(Ot||o===null||Tr(o,o.return)),o!==null&&u&4&&uh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(mn(a,n),pn(n),u&512&&(Ot||o===null||Tr(o,o.return)),n.flags&32){d=n.stateNode;try{Da(d,"")}catch(te){Xe(n,n.return,te)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,uh(n,d,o!==null?o.memoizedProps:d)),u&1024&&(hh=!0);break;case 6:if(mn(a,n),pn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(te){Xe(n,n.return,te)}}break;case 3:if(Ou=null,d=ur,ur=xu(a.containerInfo),mn(a,n),ur=d,pn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{os(a.containerInfo)}catch(te){Xe(n,n.return,te)}hh&&(hh=!1,uy(n));break;case 4:u=ur,ur=xu(n.stateNode.containerInfo),mn(a,n),pn(n),ur=u;break;case 12:mn(a,n),pn(n);break;case 31:mn(a,n),pn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fu(n,u)));break;case 13:mn(a,n),pn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(du=Lt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fu(n,u)));break;case 22:d=n.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,V=$r,X=Ot;if($r=V||d,Ot=X||j,mn(a,n),Ot=X,$r=V,pn(n),u&8192)e:for(a=n.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(o===null||j||$r||Ot||sa(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){j=o=a;try{if(p=j.stateNode,d)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=j.stateNode;var I=j.memoizedProps.style,q=I!=null&&I.hasOwnProperty("display")?I.display:null;x.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(te){Xe(j,j.return,te)}}}else if(a.tag===6){if(o===null){j=a;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(te){Xe(j,j.return,te)}}}else if(a.tag===18){if(o===null){j=a;try{var Y=j.stateNode;d?Zy(Y,!0):Zy(j.stateNode,!1)}catch(te){Xe(j,j.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,fu(n,o))));break;case 19:mn(a,n),pn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,fu(n,u)));break;case 30:break;case 21:break;default:mn(a,n),pn(n)}}function pn(n){var a=n.flags;if(a&2){try{for(var o,u=n.return;u!==null;){if(ey(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=ch(n);cu(n,p,d);break;case 5:var b=o.stateNode;o.flags&32&&(Da(b,""),o.flags&=-33);var x=ch(n);cu(n,x,b);break;case 3:case 4:var j=o.stateNode.containerInfo,V=ch(n);fh(n,V,j);break;default:throw Error(i(161))}}catch(X){Xe(n,n.return,X)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function uy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;uy(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Gr(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ry(n,a.alternate,a),a=a.sibling}function sa(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:yi(4,a,a.return),sa(a);break;case 1:Tr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Zv(a,a.return,o),sa(a);break;case 27:Eo(a.stateNode);case 26:case 5:Tr(a,a.return),sa(a);break;case 22:a.memoizedState===null&&sa(a);break;case 30:sa(a);break;default:sa(a)}n=n.sibling}}function Kr(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,d=n,p=a,b=p.flags;switch(p.tag){case 0:case 11:case 15:Kr(d,p,o),mo(4,p);break;case 1:if(Kr(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(V){Xe(u,u.return,V)}if(u=p,d=u.updateQueue,d!==null){var x=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)Vg(j[d],x)}catch(V){Xe(u,u.return,V)}}o&&b&64&&Qv(p),po(p,p.return);break;case 27:ty(p);case 26:case 5:Kr(d,p,o),o&&u===null&&b&4&&Jv(p),po(p,p.return);break;case 12:Kr(d,p,o);break;case 31:Kr(d,p,o),o&&b&4&&sy(d,p);break;case 13:Kr(d,p,o),o&&b&4&&oy(d,p);break;case 22:p.memoizedState===null&&Kr(d,p,o),po(p,p.return);break;case 30:break;default:Kr(d,p,o)}a=a.sibling}}function dh(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&eo(o))}function mh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&eo(n))}function cr(n,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cy(n,a,o,u),a=a.sibling}function cy(n,a,o,u){var d=a.flags;switch(a.tag){case 0:case 11:case 15:cr(n,a,o,u),d&2048&&mo(9,a);break;case 1:cr(n,a,o,u);break;case 3:cr(n,a,o,u),d&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&eo(n)));break;case 12:if(d&2048){cr(n,a,o,u),n=a.stateNode;try{var p=a.memoizedProps,b=p.id,x=p.onPostCommit;typeof x=="function"&&x(b,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){Xe(a,a.return,j)}}else cr(n,a,o,u);break;case 31:cr(n,a,o,u);break;case 13:cr(n,a,o,u);break;case 23:break;case 22:p=a.stateNode,b=a.alternate,a.memoizedState!==null?p._visibility&2?cr(n,a,o,u):go(n,a):p._visibility&2?cr(n,a,o,u):(p._visibility|=2,Fa(n,a,o,u,(a.subtreeFlags&10256)!==0||!1)),d&2048&&dh(b,a);break;case 24:cr(n,a,o,u),d&2048&&mh(a.alternate,a);break;default:cr(n,a,o,u)}}function Fa(n,a,o,u,d){for(d=d&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var p=n,b=a,x=o,j=u,V=b.flags;switch(b.tag){case 0:case 11:case 15:Fa(p,b,x,j,d),mo(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?Fa(p,b,x,j,d):go(p,b):(X._visibility|=2,Fa(p,b,x,j,d)),d&&V&2048&&dh(b.alternate,b);break;case 24:Fa(p,b,x,j,d),d&&V&2048&&mh(b.alternate,b);break;default:Fa(p,b,x,j,d)}a=a.sibling}}function go(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,u=a,d=u.flags;switch(u.tag){case 22:go(o,u),d&2048&&dh(u.alternate,u);break;case 24:go(o,u),d&2048&&mh(u.alternate,u);break;default:go(o,u)}a=a.sibling}}var vo=8192;function Qa(n,a,o){if(n.subtreeFlags&vo)for(n=n.child;n!==null;)fy(n,a,o),n=n.sibling}function fy(n,a,o){switch(n.tag){case 26:Qa(n,a,o),n.flags&vo&&n.memoizedState!==null&&Yx(o,ur,n.memoizedState,n.memoizedProps);break;case 5:Qa(n,a,o);break;case 3:case 4:var u=ur;ur=xu(n.stateNode.containerInfo),Qa(n,a,o),ur=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=vo,vo=16777216,Qa(n,a,o),vo=u):Qa(n,a,o));break;default:Qa(n,a,o)}}function hy(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function yo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];qt=u,my(u,n)}hy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(n),n=n.sibling}function dy(n){switch(n.tag){case 0:case 11:case 15:yo(n),n.flags&2048&&yi(9,n,n.return);break;case 3:yo(n);break;case 12:yo(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,hu(n)):yo(n);break;default:yo(n)}}function hu(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];qt=u,my(u,n)}hy(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:yi(8,a,a.return),hu(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,hu(a));break;default:hu(a)}n=n.sibling}}function my(n,a){for(;qt!==null;){var o=qt;switch(o.tag){case 0:case 11:case 15:yi(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:eo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,qt=u;else e:for(o=n;qt!==null;){u=qt;var d=u.sibling,p=u.return;if(iy(u),u===o){qt=null;break e}if(d!==null){d.return=p,qt=d;break e}qt=p}}}var ix={getCacheForType:function(n){var a=Kt(Et),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o},cacheSignal:function(){return Kt(Et).controller.signal}},ax=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Je=null,Re=null,je=0,$e=0,On=null,bi=!1,Za=!1,ph=!1,Wr=0,gt=0,wi=0,oa=0,gh=0,An=0,Ja=0,bo=null,gn=null,vh=!1,du=0,py=0,mu=1/0,pu=null,Si=null,Nt=0,_i=null,es=null,Ir=0,yh=0,bh=null,gy=null,wo=0,wh=null;function Rn(){return(Ve&2)!==0&&je!==0?je&-je:H.T!==null?Ch():ue()}function vy(){if(An===0)if((je&536870912)===0||ke){var n=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),An=n}else An=536870912;return n=xn.current,n!==null&&(n.flags|=32),An}function vn(n,a,o){(n===Je&&($e===2||$e===9)||n.cancelPendingCommit!==null)&&(ts(n,0),Ti(n,je,An,!1)),bt(n,o),((Ve&2)===0||n!==Je)&&(n===Je&&((Ve&2)===0&&(oa|=o),gt===4&&Ti(n,je,An,!1)),Er(n))}function yy(n,a,o){if((Ve&6)!==0)throw Error(i(327));var u=!o&&(a&127)===0&&(a&n.expiredLanes)===0||ze(n,a),d=u?lx(n,a):_h(n,a,!0),p=u;do{if(d===0){Za&&!u&&Ti(n,a,0,!1);break}else{if(o=n.current.alternate,p&&!sx(o)){d=_h(n,a,!1),p=!1;continue}if(d===2){if(p=a,n.errorRecoveryDisabledLanes&p)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var x=n;d=bo;var j=x.current.memoizedState.isDehydrated;if(j&&(ts(x,b).flags|=256),b=_h(x,b,!1),b!==2){if(ph&&!j){x.errorRecoveryDisabledLanes|=p,oa|=p,d=4;break e}p=gn,gn=d,p!==null&&(gn===null?gn=p:gn.push.apply(gn,p))}d=b}if(p=!1,d!==2)continue}}if(d===1){ts(n,0),Ti(n,a,0,!0);break}e:{switch(u=n,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ti(u,a,An,!bi);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=du+300-Lt(),10<d)){if(Ti(u,a,An,!bi),Ze(u,0,!0)!==0)break e;Ir=a,u.timeoutHandle=Iy(by.bind(null,u,o,gn,pu,vh,a,An,oa,Ja,bi,p,"Throttled",-0,0),d);break e}by(u,o,gn,pu,vh,a,An,oa,Ja,bi,p,null,-0,0)}}break}while(!0);Er(n)}function by(n,a,o,u,d,p,b,x,j,V,X,I,q,Y){if(n.timeoutHandle=-1,I=a.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pr},fy(a,p,I);var te=(p&62914560)===p?du-Lt():(p&4194048)===p?py-Lt():0;if(te=$x(I,te),te!==null){Ir=p,n.cancelPendingCommit=te(Oy.bind(null,n,a,p,o,u,d,b,x,j,X,I,null,q,Y)),Ti(n,p,b,!V);return}}Oy(n,a,p,o,u,d,b,x,j)}function sx(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!Tn(p(),d))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ti(n,a,o,u){a&=~gh,a&=~oa,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var d=a;0<d;){var p=31-Ut(d),b=1<<p;u[p]=-1,d&=~b}o!==0&&rn(n,o,a)}function gu(){return(Ve&6)===0?(So(0),!1):!0}function Sh(){if(Re!==null){if($e===0)var n=Re.return;else n=Re,Ur=Zi=null,Lf(n),Xa=null,no=0,n=Re;for(;n!==null;)Fv(n.alternate,n),n=n.return;Re=null}}function ts(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Cx(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ir=0,Sh(),Je=n,Re=o=zr(n.current,null),je=a,$e=0,On=null,bi=!1,Za=ze(n,a),ph=!1,Ja=An=gh=oa=wi=gt=0,gn=bo=null,vh=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var d=31-Ut(u),p=1<<d;a|=n[d],u&=~p}return Wr=a,Ll(),o}function wy(n,a){_e=null,H.H=co,a===$a||a===Xl?(a=zg(),$e=3):a===xf?(a=zg(),$e=4):$e=a===Jf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,On=a,Re===null&&(gt=1,au(n,qn(a,n.current)))}function Sy(){var n=xn.current;return n===null?!0:(je&4194048)===je?Gn===null:(je&62914560)===je||(je&536870912)!==0?n===Gn:!1}function _y(){var n=H.H;return H.H=co,n===null?co:n}function Ty(){var n=H.A;return H.A=ix,n}function vu(){gt=4,bi||(je&4194048)!==je&&xn.current!==null||(Za=!0),(wi&134217727)===0&&(oa&134217727)===0||Je===null||Ti(Je,je,An,!1)}function _h(n,a,o){var u=Ve;Ve|=2;var d=_y(),p=Ty();(Je!==n||je!==a)&&(pu=null,ts(n,a)),a=!1;var b=gt;e:do try{if($e!==0&&Re!==null){var x=Re,j=On;switch($e){case 8:Sh(),b=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(a=!0);var V=$e;if($e=0,On=null,ns(n,x,j,V),o&&Za){b=0;break e}break;default:V=$e,$e=0,On=null,ns(n,x,j,V)}}ox(),b=gt;break}catch(X){wy(n,X)}while(!0);return a&&n.shellSuspendCounter++,Ur=Zi=null,Ve=u,H.H=d,H.A=p,Re===null&&(Je=null,je=0,Ll()),b}function ox(){for(;Re!==null;)Ey(Re)}function lx(n,a){var o=Ve;Ve|=2;var u=_y(),d=Ty();Je!==n||je!==a?(pu=null,mu=Lt()+500,ts(n,a)):Za=ze(n,a);e:do try{if($e!==0&&Re!==null){a=Re;var p=On;t:switch($e){case 1:$e=0,On=null,ns(n,a,p,1);break;case 2:case 9:if(Pg(p)){$e=0,On=null,xy(a);break}a=function(){$e!==2&&$e!==9||Je!==n||($e=7),Er(n)},p.then(a,a);break e;case 3:$e=7;break e;case 4:$e=5;break e;case 7:Pg(p)?($e=0,On=null,xy(a)):($e=0,On=null,ns(n,a,p,7));break;case 5:var b=null;switch(Re.tag){case 26:b=Re.memoizedState;case 5:case 27:var x=Re;if(b?c0(b):x.stateNode.complete){$e=0,On=null;var j=x.sibling;if(j!==null)Re=j;else{var V=x.return;V!==null?(Re=V,yu(V)):Re=null}break t}}$e=0,On=null,ns(n,a,p,5);break;case 6:$e=0,On=null,ns(n,a,p,6);break;case 8:Sh(),gt=6;break e;default:throw Error(i(462))}}ux();break}catch(X){wy(n,X)}while(!0);return Ur=Zi=null,H.H=u,H.A=d,Ve=o,Re!==null?0:(Je=null,je=0,Ll(),gt)}function ux(){for(;Re!==null&&!jt();)Ey(Re)}function Ey(n){var a=Wv(n.alternate,n,Wr);n.memoizedProps=n.pendingProps,a===null?yu(n):Re=a}function xy(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=qv(o,a,a.pendingProps,a.type,void 0,je);break;case 11:a=qv(o,a,a.pendingProps,a.type.render,a.ref,je);break;case 5:Lf(a);default:Fv(o,a),a=Re=Tg(a,Wr),a=Wv(o,a,Wr)}n.memoizedProps=n.pendingProps,a===null?yu(n):Re=a}function ns(n,a,o,u){Ur=Zi=null,Lf(a),Xa=null,no=0;var d=a.return;try{if(QE(n,d,a,o,je)){gt=1,au(n,qn(o,n.current)),Re=null;return}}catch(p){if(d!==null)throw Re=d,p;gt=1,au(n,qn(o,n.current)),Re=null;return}a.flags&32768?(ke||u===1?n=!0:Za||(je&536870912)!==0?n=!1:(bi=n=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Cy(a,n)):yu(a)}function yu(n){var a=n;do{if((a.flags&32768)!==0){Cy(a,bi);return}n=a.return;var o=ex(a.alternate,a,Wr);if(o!==null){Re=o;return}if(a=a.sibling,a!==null){Re=a;return}Re=a=n}while(a!==null);gt===0&&(gt=5)}function Cy(n,a){do{var o=tx(n.alternate,n);if(o!==null){o.flags&=32767,Re=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){Re=n;return}Re=n=o}while(n!==null);gt=6,Re=null}function Oy(n,a,o,u,d,p,b,x,j){n.cancelPendingCommit=null;do bu();while(Nt!==0);if((Ve&6)!==0)throw Error(i(327));if(a!==null){if(a===n.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=cf,fn(n,o,p,b,x,j),n===Je&&(Re=Je=null,je=0),es=a,_i=n,Ir=o,yh=p,bh=d,gy=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,dx(Jt,function(){return My(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,d=K.p,K.p=2,b=Ve,Ve|=4;try{nx(n,a,o)}finally{Ve=b,K.p=d,H.T=u}}Nt=1,Ay(),Ry(),Dy()}}function Ay(){if(Nt===1){Nt=0;var n=_i,a=es,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=K.p;K.p=2;var d=Ve;Ve|=4;try{ly(a,n);var p=Ph,b=mg(n.containerInfo),x=p.focusedElem,j=p.selectionRange;if(b!==x&&x&&x.ownerDocument&&dg(x.ownerDocument.documentElement,x)){if(j!==null&&af(x)){var V=j.start,X=j.end;if(X===void 0&&(X=V),"selectionStart"in x)x.selectionStart=V,x.selectionEnd=Math.min(X,x.value.length);else{var I=x.ownerDocument||document,q=I&&I.defaultView||window;if(q.getSelection){var Y=q.getSelection(),te=x.textContent.length,ce=Math.min(j.start,te),Fe=j.end===void 0?ce:Math.min(j.end,te);!Y.extend&&ce>Fe&&(b=Fe,Fe=ce,ce=b);var U=hg(x,ce),k=hg(x,Fe);if(U&&k&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==k.node||Y.focusOffset!==k.offset)){var B=I.createRange();B.setStart(U.node,U.offset),Y.removeAllRanges(),ce>Fe?(Y.addRange(B),Y.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Y.addRange(B))}}}}for(I=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&I.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<I.length;x++){var W=I[x];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}ju=!!Nh,Ph=Nh=null}finally{Ve=d,K.p=u,H.T=o}}n.current=a,Nt=2}}function Ry(){if(Nt===2){Nt=0;var n=_i,a=es,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=K.p;K.p=2;var d=Ve;Ve|=4;try{ry(n,a.alternate,a)}finally{Ve=d,K.p=u,H.T=o}}Nt=3}}function Dy(){if(Nt===4||Nt===3){Nt=0,wn();var n=_i,a=es,o=Ir,u=gy;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Nt=5:(Nt=0,es=_i=null,jy(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Si=null),Se(o),a=a.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(rr,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=H.T,d=K.p,K.p=2,H.T=null;try{for(var p=n.onRecoverableError,b=0;b<u.length;b++){var x=u[b];p(x.value,{componentStack:x.stack})}}finally{H.T=a,K.p=d}}(Ir&3)!==0&&bu(),Er(n),d=n.pendingLanes,(o&261930)!==0&&(d&42)!==0?n===wh?wo++:(wo=0,wh=n):wo=0,So(0)}}function jy(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,eo(a)))}function bu(){return Ay(),Ry(),Dy(),My()}function My(){if(Nt!==5)return!1;var n=_i,a=yh;yh=0;var o=Se(Ir),u=H.T,d=K.p;try{K.p=32>o?32:o,H.T=null,o=bh,bh=null;var p=_i,b=Ir;if(Nt=0,es=_i=null,Ir=0,(Ve&6)!==0)throw Error(i(331));var x=Ve;if(Ve|=4,dy(p.current),cy(p,p.current,b,o),Ve=x,So(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(rr,p)}catch{}return!0}finally{K.p=d,H.T=u,jy(n,a)}}function Ny(n,a,o){a=qn(o,a),a=Zf(n.stateNode,a,2),n=pi(n,a,2),n!==null&&(bt(n,2),Er(n))}function Xe(n,a,o){if(n.tag===3)Ny(n,n,o);else for(;a!==null;){if(a.tag===3){Ny(a,n,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Si===null||!Si.has(u))){n=qn(o,n),o=Pv(2),u=pi(a,o,2),u!==null&&(kv(o,u,a,n),bt(u,2),Er(u));break}}a=a.return}}function Th(n,a,o){var u=n.pingCache;if(u===null){u=n.pingCache=new ax;var d=new Set;u.set(a,d)}else d=u.get(a),d===void 0&&(d=new Set,u.set(a,d));d.has(o)||(ph=!0,d.add(o),n=cx.bind(null,n,a,o),a.then(n,n))}function cx(n,a,o){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Je===n&&(je&o)===o&&(gt===4||gt===3&&(je&62914560)===je&&300>Lt()-du?(Ve&2)===0&&ts(n,0):gh|=o,Ja===je&&(Ja=0)),Er(n)}function Py(n,a){a===0&&(a=Bt()),n=Ii(n,a),n!==null&&(bt(n,a),Er(n))}function fx(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),Py(n,o)}function hx(n,a){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Py(n,o)}function dx(n,a){return He(n,a)}var wu=null,rs=null,Eh=!1,Su=!1,xh=!1,Ei=0;function Er(n){n!==rs&&n.next===null&&(rs===null?wu=rs=n:rs=rs.next=n),Su=!0,Eh||(Eh=!0,px())}function So(n,a){if(!xh&&Su){xh=!0;do for(var o=!1,u=wu;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var b=u.suspendedLanes,x=u.pingedLanes;p=(1<<31-Ut(42|n)+1)-1,p&=d&~(b&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Uy(u,p))}else p=je,p=Ze(u,u===Je?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ze(u,p)||(o=!0,Uy(u,p));u=u.next}while(o);xh=!1}}function mx(){ky()}function ky(){Su=Eh=!1;var n=0;Ei!==0&&xx()&&(n=Ei);for(var a=Lt(),o=null,u=wu;u!==null;){var d=u.next,p=zy(u,a);p===0?(u.next=null,o===null?wu=d:o.next=d,d===null&&(rs=o)):(o=u,(n!==0||(p&3)!==0)&&(Su=!0)),u=d}Nt!==0&&Nt!==5||So(n),Ei!==0&&(Ei=0)}function zy(n,a){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var b=31-Ut(p),x=1<<b,j=d[b];j===-1?((x&o)===0||(x&u)!==0)&&(d[b]=Tt(x,a)):j<=a&&(n.expiredLanes|=x),p&=~x}if(a=Je,o=je,o=Ze(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===a&&($e===2||$e===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Dt(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ze(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(u!==null&&Dt(u),Se(o)){case 2:case 8:o=nr;break;case 32:o=Jt;break;case 268435456:o=jr;break;default:o=Jt}return u=Ly.bind(null,n),o=He(o,u),n.callbackPriority=a,n.callbackNode=o,a}return u!==null&&u!==null&&Dt(u),n.callbackPriority=2,n.callbackNode=null,2}function Ly(n,a){if(Nt!==0&&Nt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(bu()&&n.callbackNode!==o)return null;var u=je;return u=Ze(n,n===Je?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(yy(n,u,a),zy(n,Lt()),n.callbackNode!=null&&n.callbackNode===o?Ly.bind(null,n):null)}function Uy(n,a){if(bu())return null;yy(n,a,!0)}function px(){Ox(function(){(Ve&6)!==0?He(Dr,mx):ky()})}function Ch(){if(Ei===0){var n=qa;n===0&&(n=_n,_n<<=1,(_n&261888)===0&&(_n=256)),Ei=n}return Ei}function By(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Rl(""+n)}function Vy(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function gx(n,a,o,u,d){if(a==="submit"&&o&&o.stateNode===d){var p=By((d[Ce]||null).action),b=u.submitter;b&&(a=(a=b[Ce]||null)?By(a.formAction):b.getAttribute("formAction"),a!==null&&(p=a,b=null));var x=new Nl("action","action",null,u,d);n.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ei!==0){var j=b?Vy(d,b):new FormData(d);Gf(o,{pending:!0,data:j,method:d.method,action:p},null,j)}}else typeof p=="function"&&(x.preventDefault(),j=b?Vy(d,b):new FormData(d),Gf(o,{pending:!0,data:j,method:d.method,action:p},p,j))},currentTarget:d}]})}}for(var Oh=0;Oh<uf.length;Oh++){var Ah=uf[Oh],vx=Ah.toLowerCase(),yx=Ah[0].toUpperCase()+Ah.slice(1);lr(vx,"on"+yx)}lr(vg,"onAnimationEnd"),lr(yg,"onAnimationIteration"),lr(bg,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(PE,"onTransitionRun"),lr(kE,"onTransitionStart"),lr(zE,"onTransitionCancel"),lr(wg,"onTransitionEnd"),Aa("onMouseEnter",["mouseout","mouseover"]),Aa("onMouseLeave",["mouseout","mouseover"]),Aa("onPointerEnter",["pointerout","pointerover"]),Aa("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function Hy(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var b=u.length-1;0<=b;b--){var x=u[b],j=x.instance,V=x.currentTarget;if(x=x.listener,j!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=V;try{p(d)}catch(X){zl(X)}d.currentTarget=null,p=j}else for(b=0;b<u.length;b++){if(x=u[b],j=x.instance,V=x.currentTarget,x=x.listener,j!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=V;try{p(d)}catch(X){zl(X)}d.currentTarget=null,p=j}}}}function De(n,a){var o=a[Ke];o===void 0&&(o=a[Ke]=new Set);var u=n+"__bubble";o.has(u)||(qy(a,n,2,!1),o.add(u))}function Rh(n,a,o){var u=0;a&&(u|=4),qy(o,n,u,a)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Dh(n){if(!n[_u]){n[_u]=!0,kp.forEach(function(o){o!=="selectionchange"&&(bx.has(o)||Rh(o,!1,n),Rh(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[_u]||(a[_u]=!0,Rh("selectionchange",!1,a))}}function qy(n,a,o,u){switch(v0(a)){case 2:var d=Kx;break;case 8:d=Wx;break;default:d=Xh}o=d.bind(null,a,o,n),d=void 0,!Ic||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(a,o,{capture:!0,passive:d}):n.addEventListener(a,o,!0):d!==void 0?n.addEventListener(a,o,{passive:d}):n.addEventListener(a,o,!1)}function jh(n,a,o,u,d){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===d)break;if(b===4)for(b=u.return;b!==null;){var j=b.tag;if((j===3||j===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;x!==null;){if(b=qe(x),b===null)return;if(j=b.tag,j===5||j===6||j===26||j===27){u=p=b;continue e}x=x.parentNode}}u=u.return}Kp(function(){var V=p,X=Kc(o),I=[];e:{var q=Sg.get(n);if(q!==void 0){var Y=Nl,te=n;switch(n){case"keypress":if(jl(o)===0)break e;case"keydown":case"keyup":Y=hE;break;case"focusin":te="focus",Y=Jc;break;case"focusout":te="blur",Y=Jc;break;case"beforeblur":case"afterblur":Y=Jc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Fp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=eE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=pE;break;case vg:case yg:case bg:Y=rE;break;case wg:Y=vE;break;case"scroll":case"scrollend":Y=ZT;break;case"wheel":Y=bE;break;case"copy":case"cut":case"paste":Y=aE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zp;break;case"toggle":case"beforetoggle":Y=SE}var ce=(a&4)!==0,Fe=!ce&&(n==="scroll"||n==="scrollend"),U=ce?q!==null?q+"Capture":null:q;ce=[];for(var k=V,B;k!==null;){var W=k;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||U===null||(W=Ys(k,U),W!=null&&ce.push(To(k,W,B))),Fe)break;k=k.return}0<ce.length&&(q=new Y(q,te,null,o,X),I.push({event:q,listeners:ce}))}}if((a&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",q&&o!==Gc&&(te=o.relatedTarget||o.fromElement)&&(qe(te)||te[rt]))break e;if((Y||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(te=o.relatedTarget||o.toElement,Y=V,te=te?qe(te):null,te!==null&&(Fe=l(te),ce=te.tag,te!==Fe||ce!==5&&ce!==27&&ce!==6)&&(te=null)):(Y=null,te=V),Y!==te)){if(ce=Fp,W="onMouseLeave",U="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(ce=Zp,W="onPointerLeave",U="onPointerEnter",k="pointer"),Fe=Y==null?q:wr(Y),B=te==null?q:wr(te),q=new ce(W,k+"leave",Y,o,X),q.target=Fe,q.relatedTarget=B,W=null,qe(X)===V&&(ce=new ce(U,k+"enter",te,o,X),ce.target=B,ce.relatedTarget=Fe,W=ce),Fe=W,Y&&te)t:{for(ce=wx,U=Y,k=te,B=0,W=U;W;W=ce(W))B++;W=0;for(var oe=k;oe;oe=ce(oe))W++;for(;0<B-W;)U=ce(U),B--;for(;0<W-B;)k=ce(k),W--;for(;B--;){if(U===k||k!==null&&U===k.alternate){ce=U;break t}U=ce(U),k=ce(k)}ce=null}else ce=null;Y!==null&&Yy(I,q,Y,ce,!1),te!==null&&Fe!==null&&Yy(I,Fe,te,ce,!0)}}e:{if(q=V?wr(V):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var Le=sg;else if(ig(q))if(og)Le=jE;else{Le=RE;var ie=AE}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&Xc(V.elementType)&&(Le=sg):Le=DE;if(Le&&(Le=Le(n,V))){ag(I,Le,o,X);break e}ie&&ie(n,q,V),n==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&$c(q,"number",q.value)}switch(ie=V?wr(V):window,n){case"focusin":(ig(ie)||ie.contentEditable==="true")&&(Pa=ie,sf=V,Qs=null);break;case"focusout":Qs=sf=Pa=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,pg(I,o,X);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":pg(I,o,X)}var Ee;if(tf)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Na?ng(n,o)&&(Me="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Me="onCompositionStart");Me&&(Jp&&o.locale!=="ko"&&(Na||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Na&&(Ee=Wp()):(li=X,Fc="value"in li?li.value:li.textContent,Na=!0)),ie=Tu(V,Me),0<ie.length&&(Me=new Qp(Me,n,null,o,X),I.push({event:Me,listeners:ie}),Ee?Me.data=Ee:(Ee=rg(o),Ee!==null&&(Me.data=Ee)))),(Ee=TE?EE(n,o):xE(n,o))&&(Me=Tu(V,"onBeforeInput"),0<Me.length&&(ie=new Qp("onBeforeInput","beforeinput",null,o,X),I.push({event:ie,listeners:Me}),ie.data=Ee)),gx(I,n,V,o,X)}Hy(I,a)})}function To(n,a,o){return{instance:n,listener:a,currentTarget:o}}function Tu(n,a){for(var o=a+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Ys(n,o),d!=null&&u.unshift(To(n,d,p)),d=Ys(n,a),d!=null&&u.push(To(n,d,p))),n.tag===3)return u;n=n.return}return[]}function wx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Yy(n,a,o,u,d){for(var p=a._reactName,b=[];o!==null&&o!==u;){var x=o,j=x.alternate,V=x.stateNode;if(x=x.tag,j!==null&&j===u)break;x!==5&&x!==26&&x!==27||V===null||(j=V,d?(V=Ys(o,p),V!=null&&b.unshift(To(o,V,j))):d||(V=Ys(o,p),V!=null&&b.push(To(o,V,j)))),o=o.return}b.length!==0&&n.push({event:a,listeners:b})}var Sx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function $y(n){return(typeof n=="string"?n:""+n).replace(Sx,`
`).replace(_x,"")}function Xy(n,a){return a=$y(a),$y(n)===a}function Ie(n,a,o,u,d,p){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Da(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Da(n,""+u);break;case"className":Ol(n,"class",u);break;case"tabIndex":Ol(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ol(n,o,u);break;case"style":Xp(n,u,p);break;case"data":if(a!=="object"){Ol(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Rl(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Ie(n,a,"name",d.name,d,null),Ie(n,a,"formEncType",d.formEncType,d,null),Ie(n,a,"formMethod",d.formMethod,d,null),Ie(n,a,"formTarget",d.formTarget,d,null)):(Ie(n,a,"encType",d.encType,d,null),Ie(n,a,"method",d.method,d,null),Ie(n,a,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Rl(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Pr);break;case"onScroll":u!=null&&De("scroll",n);break;case"onScrollEnd":u!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Rl(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":De("beforetoggle",n),De("toggle",n),Cl(n,"popover",u);break;case"xlinkActuate":Nr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cl(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=FT.get(o)||o,Cl(n,o,u))}}function Mh(n,a,o,u,d,p){switch(o){case"style":Xp(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Da(n,u):(typeof u=="number"||typeof u=="bigint")&&Da(n,""+u);break;case"onScroll":u!=null&&De("scroll",n);break;case"onScrollEnd":u!=null&&De("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zp.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),a=o.slice(2,d?o.length-7:void 0),p=n[Ce]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(a,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,u,d);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Cl(n,o,u)}}}function It(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var b=o[p];if(b!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ie(n,a,p,b,o,null)}}d&&Ie(n,a,"srcSet",o.srcSet,o,null),u&&Ie(n,a,"src",o.src,o,null);return;case"input":De("invalid",n);var x=p=b=d=null,j=null,V=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":d=X;break;case"type":b=X;break;case"checked":j=X;break;case"defaultChecked":V=X;break;case"value":p=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:Ie(n,a,u,X,o,null)}}Hp(n,p,x,j,V,b,d,!1);return;case"select":De("invalid",n),u=b=p=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:Ie(n,a,d,x,o,null)}a=p,o=b,n.multiple=!!u,a!=null?Ra(n,!!u,a,!1):o!=null&&Ra(n,!!u,o,!0);return;case"textarea":De("invalid",n),p=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Ie(n,a,b,x,o,null)}Yp(n,u,d,p);return;case"option":for(j in o)o.hasOwnProperty(j)&&(u=o[j],u!=null)&&(j==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":Ie(n,a,j,u,o,null));return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(u=0;u<_o.length;u++)De(_o[u],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ie(n,a,V,u,o,null)}return;default:if(Xc(a)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Mh(n,a,X,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&Ie(n,a,x,u,o,null))}function Tx(n,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,b=null,x=null,j=null,V=null,X=null;for(Y in o){var I=o[Y];if(o.hasOwnProperty(Y)&&I!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=I;default:u.hasOwnProperty(Y)||Ie(n,a,Y,null,u,I)}}for(var q in u){var Y=u[q];if(I=o[q],u.hasOwnProperty(q)&&(Y!=null||I!=null))switch(q){case"type":p=Y;break;case"name":d=Y;break;case"checked":V=Y;break;case"defaultChecked":X=Y;break;case"value":b=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:Y!==I&&Ie(n,a,q,Y,u,I)}}Yc(n,b,x,j,V,X,p,d);return;case"select":Y=b=x=q=null;for(p in o)if(j=o[p],o.hasOwnProperty(p)&&j!=null)switch(p){case"value":break;case"multiple":Y=j;default:u.hasOwnProperty(p)||Ie(n,a,p,null,u,j)}for(d in u)if(p=u[d],j=o[d],u.hasOwnProperty(d)&&(p!=null||j!=null))switch(d){case"value":q=p;break;case"defaultValue":x=p;break;case"multiple":b=p;default:p!==j&&Ie(n,a,d,p,u,j)}a=x,o=b,u=Y,q!=null?Ra(n,!!o,q,!1):!!u!=!!o&&(a!=null?Ra(n,!!o,a,!0):Ra(n,!!o,o?[]:"",!1));return;case"textarea":Y=q=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ie(n,a,x,null,u,d)}for(b in u)if(d=u[b],p=o[b],u.hasOwnProperty(b)&&(d!=null||p!=null))switch(b){case"value":q=d;break;case"defaultValue":Y=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&Ie(n,a,b,d,u,p)}qp(n,q,Y);return;case"option":for(var te in o)q=o[te],o.hasOwnProperty(te)&&q!=null&&!u.hasOwnProperty(te)&&(te==="selected"?n.selected=!1:Ie(n,a,te,null,u,q));for(j in u)q=u[j],Y=o[j],u.hasOwnProperty(j)&&q!==Y&&(q!=null||Y!=null)&&(j==="selected"?n.selected=q&&typeof q!="function"&&typeof q!="symbol":Ie(n,a,j,q,u,Y));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)q=o[ce],o.hasOwnProperty(ce)&&q!=null&&!u.hasOwnProperty(ce)&&Ie(n,a,ce,null,u,q);for(V in u)if(q=u[V],Y=o[V],u.hasOwnProperty(V)&&q!==Y&&(q!=null||Y!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,a));break;default:Ie(n,a,V,q,u,Y)}return;default:if(Xc(a)){for(var Fe in o)q=o[Fe],o.hasOwnProperty(Fe)&&q!==void 0&&!u.hasOwnProperty(Fe)&&Mh(n,a,Fe,void 0,u,q);for(X in u)q=u[X],Y=o[X],!u.hasOwnProperty(X)||q===Y||q===void 0&&Y===void 0||Mh(n,a,X,q,u,Y);return}}for(var U in o)q=o[U],o.hasOwnProperty(U)&&q!=null&&!u.hasOwnProperty(U)&&Ie(n,a,U,null,u,q);for(I in u)q=u[I],Y=o[I],!u.hasOwnProperty(I)||q===Y||q==null&&Y==null||Ie(n,a,I,q,u,Y)}function Gy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ex(){if(typeof performance.getEntriesByType=="function"){for(var n=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,b=d.initiatorType,x=d.duration;if(p&&x&&Gy(b)){for(b=0,x=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],V=j.startTime;if(V>x)break;var X=j.transferSize,I=j.initiatorType;X&&Gy(I)&&(j=j.responseEnd,b+=X*(j<x?1:(x-V)/(j-V)))}if(--u,a+=8*(p+b)/(d.duration/1e3),n++,10<n)break}}if(0<n)return a/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Nh=null,Ph=null;function Eu(n){return n.nodeType===9?n:n.ownerDocument}function Ky(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function kh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zh=null;function xx(){var n=window.event;return n&&n.type==="popstate"?n===zh?!1:(zh=n,!0):(zh=null,!1)}var Iy=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(n){return Fy.resolve(null).then(n).catch(Ax)}:Iy;function Ax(n){setTimeout(function(){throw n})}function xi(n){return n==="head"}function Qy(n,a){var o=a,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(d),os(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Eo(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Eo(o);for(var p=o.firstChild;p;){var b=p.nextSibling,x=p.nodeName;p[sr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=b}}else o==="body"&&Eo(n.ownerDocument.body);o=d}while(o);os(a)}function Zy(n,a){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Lh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lh(o),oi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Rx(n,a,o,u){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[sr])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function Dx(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Kn(n.nextSibling),n===null))return null;return n}function Jy(n,a){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Kn(n.nextSibling),n===null))return null;return n}function Uh(n){return n.data==="$?"||n.data==="$~"}function Bh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function jx(n,a){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=a;else if(n.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Kn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return n}var Vh=null;function e0(n){n=n.nextSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(a===0)return Kn(n.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}n=n.nextSibling}return null}function t0(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return n;a--}else o!=="/$"&&o!=="/&"||a++}n=n.previousSibling}return null}function n0(n,a,o){switch(a=Eu(o),n){case"html":if(n=a.documentElement,!n)throw Error(i(452));return n;case"head":if(n=a.head,!n)throw Error(i(453));return n;case"body":if(n=a.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Eo(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);oi(n)}var Wn=new Map,r0=new Set;function xu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Fr=K.d;K.d={f:Mx,r:Nx,D:Px,C:kx,L:zx,m:Lx,X:Bx,S:Ux,M:Vx};function Mx(){var n=Fr.f(),a=gu();return n||a}function Nx(n){var a=br(n);a!==null&&a.tag===5&&a.type==="form"?wv(a):Fr.r(n)}var is=typeof document>"u"?null:document;function i0(n,a,o){var u=is;if(u&&typeof a=="string"&&a){var d=Vn(a);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),r0.has(d)||(r0.add(d),n={rel:n,crossOrigin:o,href:a},u.querySelector(d)===null&&(a=u.createElement("link"),It(a,"link",n),mt(a),u.head.appendChild(a)))}}function Px(n){Fr.D(n),i0("dns-prefetch",n,null)}function kx(n,a){Fr.C(n,a),i0("preconnect",n,a)}function zx(n,a,o){Fr.L(n,a,o);var u=is;if(u&&n&&a){var d='link[rel="preload"][as="'+Vn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Vn(o.imageSizes)+'"]')):d+='[href="'+Vn(n)+'"]';var p=d;switch(a){case"style":p=as(n);break;case"script":p=ss(n)}Wn.has(p)||(n=v({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),Wn.set(p,n),u.querySelector(d)!==null||a==="style"&&u.querySelector(xo(p))||a==="script"&&u.querySelector(Co(p))||(a=u.createElement("link"),It(a,"link",n),mt(a),u.head.appendChild(a)))}}function Lx(n,a){Fr.m(n,a);var o=is;if(o&&n){var u=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+Vn(u)+'"][href="'+Vn(n)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ss(n)}if(!Wn.has(p)&&(n=v({rel:"modulepreload",href:n},a),Wn.set(p,n),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Co(p)))return}u=o.createElement("link"),It(u,"link",n),mt(u),o.head.appendChild(u)}}}function Ux(n,a,o){Fr.S(n,a,o);var u=is;if(u&&n){var d=or(u).hoistableStyles,p=as(n);a=a||"default";var b=d.get(p);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(xo(p)))x.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":a},o),(o=Wn.get(p))&&Hh(n,o);var j=b=u.createElement("link");mt(j),It(j,"link",n),j._p=new Promise(function(V,X){j.onload=V,j.onerror=X}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Cu(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(p,b)}}}function Bx(n,a){Fr.X(n,a);var o=is;if(o&&n){var u=or(o).hoistableScripts,d=ss(n),p=u.get(d);p||(p=o.querySelector(Co(d)),p||(n=v({src:n,async:!0},a),(a=Wn.get(d))&&qh(n,a),p=o.createElement("script"),mt(p),It(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function Vx(n,a){Fr.M(n,a);var o=is;if(o&&n){var u=or(o).hoistableScripts,d=ss(n),p=u.get(d);p||(p=o.querySelector(Co(d)),p||(n=v({src:n,async:!0,type:"module"},a),(a=Wn.get(d))&&qh(n,a),p=o.createElement("script"),mt(p),It(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function a0(n,a,o,u){var d=(d=se.current)?xu(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=as(o.href),o=or(d).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=as(o.href);var p=or(d).hoistableStyles,b=p.get(n);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,b),(p=d.querySelector(xo(n)))&&!p._p&&(b.instance=p,b.state.loading=5),Wn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(n,o),p||Hx(d,n,o,b.state))),a&&u===null)throw Error(i(528,""));return b}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ss(o),o=or(d).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function as(n){return'href="'+Vn(n)+'"'}function xo(n){return'link[rel="stylesheet"]['+n+"]"}function s0(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Hx(n,a,o,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),It(a,"link",o),mt(a),n.head.appendChild(a))}function ss(n){return'[src="'+Vn(n)+'"]'}function Co(n){return"script[async]"+n}function o0(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Vn(o.href)+'"]');if(u)return a.instance=u,mt(u),u;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),mt(u),It(u,"style",d),Cu(u,o.precedence,n),a.instance=u;case"stylesheet":d=as(o.href);var p=n.querySelector(xo(d));if(p)return a.state.loading|=4,a.instance=p,mt(p),p;u=s0(o),(d=Wn.get(d))&&Hh(u,d),p=(n.ownerDocument||n).createElement("link"),mt(p);var b=p;return b._p=new Promise(function(x,j){b.onload=x,b.onerror=j}),It(p,"link",u),a.state.loading|=4,Cu(p,o.precedence,n),a.instance=p;case"script":return p=ss(o.src),(d=n.querySelector(Co(p)))?(a.instance=d,mt(d),d):(u=o,(d=Wn.get(p))&&(u=v({},o),qh(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),mt(d),It(d,"link",u),n.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Cu(u,o.precedence,n));return a.instance}function Cu(n,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===a)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function Hh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function qh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Ou=null;function l0(n,a,o){if(Ou===null){var u=new Map,d=Ou=new Map;d.set(o,u)}else d=Ou,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var p=o[d];if(!(p[sr]||p[ge]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(a)||"";b=n+b;var x=u.get(b);x?x.push(p):u.set(b,[p])}}return u}function u0(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function qx(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(n=a.disabled,typeof a.precedence=="string"&&n==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function c0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Yx(n,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=as(u.href),p=a.querySelector(xo(d));if(p){a=p._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(n.count++,n=Au.bind(n),a.then(n,n)),o.state.loading|=4,o.instance=p,mt(p);return}p=a.ownerDocument||a,u=s0(u),(d=Wn.get(d))&&Hh(u,d),p=p.createElement("link"),mt(p);var b=p;b._p=new Promise(function(x,j){b.onload=x,b.onerror=j}),It(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Au.bind(n),a.addEventListener("load",o),a.addEventListener("error",o))}}var Yh=0;function $x(n,a){return n.stylesheets&&n.count===0&&Du(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Du(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+a);0<n.imgBytes&&Yh===0&&(Yh=62500*Ex());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Du(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>Yh?50:800)+a);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Au(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Du(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ru=null;function Du(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ru=new Map,a.forEach(Xx,n),Ru=null,Au.call(n))}function Xx(n,a){if(!(a.state.loading&4)){var o=Ru.get(n);if(o)var u=o.get(null);else{o=new Map,Ru.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var b=d[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=a.instance,b=d.getAttribute("data-precedence"),p=o.get(b)||u,p===u&&o.set(null,d),o.set(b,d),this.count++,u=Au.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),a.state.loading|=4}}var Oo={$$typeof:O,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Gx(n,a,o,u,d,p,b,x,j){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.hiddenUpdates=Vt(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function f0(n,a,o,u,d,p,b,x,j,V,X,I){return n=new Gx(n,a,o,b,j,V,X,I,x),a=1,p===!0&&(a|=24),p=En(3,null,null,a),n.current=p,p.stateNode=n,a=_f(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:a},Cf(p),n}function h0(n){return n?(n=La,n):La}function d0(n,a,o,u,d,p){d=h0(d),u.context===null?u.context=d:u.pendingContext=d,u=mi(a),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=pi(n,u,a),o!==null&&(vn(o,n,a),io(o,n,a))}function m0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function $h(n,a){m0(n,a),(n=n.alternate)&&m0(n,a)}function p0(n){if(n.tag===13||n.tag===31){var a=Ii(n,67108864);a!==null&&vn(a,n,67108864),$h(n,67108864)}}function g0(n){if(n.tag===13||n.tag===31){var a=Rn();a=ne(a);var o=Ii(n,a);o!==null&&vn(o,n,a),$h(n,a)}}var ju=!0;function Kx(n,a,o,u){var d=H.T;H.T=null;var p=K.p;try{K.p=2,Xh(n,a,o,u)}finally{K.p=p,H.T=d}}function Wx(n,a,o,u){var d=H.T;H.T=null;var p=K.p;try{K.p=8,Xh(n,a,o,u)}finally{K.p=p,H.T=d}}function Xh(n,a,o,u){if(ju){var d=Gh(u);if(d===null)jh(n,a,u,Mu,o),y0(n,u);else if(Fx(d,n,a,o,u))u.stopPropagation();else if(y0(n,u),a&4&&-1<Ix.indexOf(n)){for(;d!==null;){var p=br(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Oe(p.pendingLanes);if(b!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var j=1<<31-Ut(b);x.entanglements[1]|=j,b&=~j}Er(p),(Ve&6)===0&&(mu=Lt()+500,So(0))}}break;case 31:case 13:x=Ii(p,2),x!==null&&vn(x,p,2),gu(),$h(p,2)}if(p=Gh(u),p===null&&jh(n,a,u,Mu,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else jh(n,a,u,null,o)}}function Gh(n){return n=Kc(n),Kh(n)}var Mu=null;function Kh(n){if(Mu=null,n=qe(n),n!==null){var a=l(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=c(a),n!==null)return n;n=null}else if(o===31){if(n=f(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Mu=n,null}function v0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zn()){case Dr:return 2;case nr:return 8;case Jt:case si:return 32;case jr:return 268435456;default:return 32}default:return 32}}var Wh=!1,Ci=null,Oi=null,Ai=null,Ao=new Map,Ro=new Map,Ri=[],Ix="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y0(n,a){switch(n){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Ao.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(a.pointerId)}}function Do(n,a,o,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},a!==null&&(a=br(a),a!==null&&p0(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),n)}function Fx(n,a,o,u,d){switch(a){case"focusin":return Ci=Do(Ci,n,a,o,u,d),!0;case"dragenter":return Oi=Do(Oi,n,a,o,u,d),!0;case"mouseover":return Ai=Do(Ai,n,a,o,u,d),!0;case"pointerover":var p=d.pointerId;return Ao.set(p,Do(Ao.get(p)||null,n,a,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Ro.set(p,Do(Ro.get(p)||null,n,a,o,u,d)),!0}return!1}function b0(n){var a=qe(n.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){n.blockedOn=a,Pe(n.priority,function(){g0(o)});return}}else if(a===31){if(a=f(o),a!==null){n.blockedOn=a,Pe(n.priority,function(){g0(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nu(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=Gh(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Gc=u,o.target.dispatchEvent(u),Gc=null}else return a=br(o),a!==null&&p0(a),n.blockedOn=o,!1;a.shift()}return!0}function w0(n,a,o){Nu(n)&&o.delete(a)}function Qx(){Wh=!1,Ci!==null&&Nu(Ci)&&(Ci=null),Oi!==null&&Nu(Oi)&&(Oi=null),Ai!==null&&Nu(Ai)&&(Ai=null),Ao.forEach(w0),Ro.forEach(w0)}function Pu(n,a){n.blockedOn===a&&(n.blockedOn=null,Wh||(Wh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qx)))}var ku=null;function S0(n){ku!==n&&(ku=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ku===n&&(ku=null);for(var a=0;a<n.length;a+=3){var o=n[a],u=n[a+1],d=n[a+2];if(typeof u!="function"){if(Kh(u||o)===null)continue;break}var p=br(o);p!==null&&(n.splice(a,3),a-=3,Gf(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function os(n){function a(j){return Pu(j,n)}Ci!==null&&Pu(Ci,n),Oi!==null&&Pu(Oi,n),Ai!==null&&Pu(Ai,n),Ao.forEach(a),Ro.forEach(a);for(var o=0;o<Ri.length;o++){var u=Ri[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ri.length&&(o=Ri[0],o.blockedOn===null);)b0(o),o.blockedOn===null&&Ri.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],b=d[Ce]||null;if(typeof p=="function")b||S0(o);else if(b){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,b=p[Ce]||null)x=b.formAction;else if(Kh(d)!==null)continue}else x=b.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),S0(o)}}}function _0(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function a(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),d!==null&&(d(),d=null)}}}function Ih(n){this._internalRoot=n}zu.prototype.render=Ih.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=Rn();d0(o,u,n,a,null,null)},zu.prototype.unmount=Ih.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;d0(n.current,2,null,n,null,null),gu(),a[rt]=null}};function zu(n){this._internalRoot=n}zu.prototype.unstable_scheduleHydration=function(n){if(n){var a=ue();n={blockedOn:null,target:n,priority:a};for(var o=0;o<Ri.length&&a!==0&&a<Ri[o].priority;o++);Ri.splice(o,0,n),o===0&&b0(n)}};var T0=t.version;if(T0!=="19.2.3")throw Error(i(527,T0,"19.2.3"));K.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=m(a),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Zx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{rr=Lu.inject(Zx),Mt=Lu}catch{}}return Mo.createRoot=function(n,a){if(!s(n))throw Error(i(299));var o=!1,u="",d=Dv,p=jv,b=Mv;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),a=f0(n,1,!1,null,null,o,u,null,d,p,b,_0),n[rt]=a.current,Dh(n),new Ih(a)},Mo.hydrateRoot=function(n,a,o){if(!s(n))throw Error(i(299));var u=!1,d="",p=Dv,b=jv,x=Mv,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),a=f0(n,1,!0,a,o??null,u,d,j,p,b,x,_0),a.context=h0(null),o=a.current,u=Rn(),u=ne(u),d=mi(u),d.callback=null,pi(o,d,u),o=u,a.current.lanes=o,bt(a,o),Er(a),n[rt]=a.current,Dh(n),new zu(a)},Mo.version="19.2.3",Mo}var N0;function lC(){if(N0)return Zh.exports;N0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zh.exports=oC(),Zh.exports}var uC=lC();var P0="popstate";function cC(e={}){function t(i,s){let{pathname:l,search:c,hash:f}=i.location;return Ld("",{pathname:l,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){return typeof s=="string"?s:tl(s)}return hC(t,r,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function er(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fC(){return Math.random().toString(36).substring(2,10)}function k0(e,t){return{usr:e.state,key:e.key,idx:t}}function Ld(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ps(t):t,state:r,key:t&&t.key||i||fC()}}function tl({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ps(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function hC(e,t,r,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,f="POP",h=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let S=g(),_=S==null?null:S-m;m=S,h&&h({action:f,location:T.location,delta:_})}function y(S,_){f="PUSH";let E=Ld(T.location,S,_);m=g()+1;let O=k0(E,m),N=T.createHref(E);try{c.pushState(O,"",N)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(N)}l&&h&&h({action:f,location:T.location,delta:1})}function w(S,_){f="REPLACE";let E=Ld(T.location,S,_);m=g();let O=k0(E,m),N=T.createHref(E);c.replaceState(O,"",N),l&&h&&h({action:f,location:T.location,delta:0})}function C(S){return dC(S)}let T={get action(){return f},get location(){return e(s,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(P0,v),h=S,()=>{s.removeEventListener(P0,v),h=null}},createHref(S){return t(s,S)},createURL:C,encodeLocation(S){let _=C(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:w,go(S){return c.go(S)}};return T}function dC(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ut(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:tl(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function _S(e,t,r="/"){return mC(e,t,r,!1)}function mC(e,t,r,i){let s=typeof t=="string"?Ps(t):t,l=ti(s.pathname||"/",r);if(l==null)return null;let c=TS(e);pC(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let m=CC(l);f=EC(c[h],m,i)}return f}function TS(e,t=[],r=[],i="",s=!1){let l=(c,f,h=s,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;ut(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=ei([i,g.relativePath]),y=r.concat(g);c.children&&c.children.length>0&&(ut(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),TS(c.children,t,y,v,h)),!(c.path==null&&!c.index)&&t.push({path:v,score:_C(v,c.index),routesMeta:y})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of ES(c.path))l(c,f,!0,h)}),t}function ES(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,s=r.endsWith("?"),l=r.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=ES(i.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),s&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function pC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:TC(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var gC=/^:[\w-]+$/,vC=3,yC=2,bC=1,wC=10,SC=-2,z0=e=>e==="*";function _C(e,t){let r=e.split("/"),i=r.length;return r.some(z0)&&(i+=SC),t&&(i+=yC),r.filter(s=>!z0(s)).reduce((s,l)=>s+(gC.test(l)?vC:l===""?bC:wC),i)}function TC(e,t){return e.length===t.length&&e.slice(0,-1).every((i,s)=>i===t[s])?e[e.length-1]-t[t.length-1]:0}function EC(e,t,r=!1){let{routesMeta:i}=e,s={},l="/",c=[];for(let f=0;f<i.length;++f){let h=i[f],m=f===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",v=oc({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),y=h.route;if(!v&&m&&r&&!i[i.length-1].route.index&&(v=oc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),c.push({params:s,pathname:ei([l,v.pathname]),pathnameBase:DC(ei([l,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(l=ei([l,v.pathnameBase]))}return c}function oc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=xC(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},y)=>{if(g==="*"){let C=f[y]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[y];return v&&!w?m[g]=void 0:m[g]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function xC(e,t=!1,r=!0){er(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(i.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function CC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return er(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ti(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}var xS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OC=e=>xS.test(e);function AC(e,t="/"){let{pathname:r,search:i="",hash:s=""}=typeof e=="string"?Ps(e):e,l;if(r)if(OC(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),er(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=L0(r.substring(1),"/"):l=L0(r,t)}else l=t;return{pathname:l,search:jC(i),hash:MC(s)}}function L0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nd(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Am(e){let t=RC(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function Rm(e,t,r,i=!1){let s;typeof e=="string"?s=Ps(e):(s={...e},ut(!s.pathname||!s.pathname.includes("?"),nd("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),nd("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),nd("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,f;if(c==null)f=r;else{let v=t.length-1;if(!i&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;s.pathname=y.join("/")}f=v>=0?t[v]:"/"}let h=AC(s,f),m=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var ei=e=>e.join("/").replace(/\/\/+/g,"/"),DC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,NC=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function PC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function kC(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var CS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function OS(e,t){let r=e;if(typeof r!="string"||!xS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,s=!1;if(CS)try{let l=new URL(window.location.href),c=r.startsWith("//")?new URL(l.protocol+r):new URL(r),f=ti(c.pathname,t);c.origin===l.origin&&f!=null?r=f+c.search+c.hash:s=!0}catch{er(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var zC=["GET",...AS];new Set(zC);var ks=R.createContext(null);ks.displayName="DataRouter";var Ec=R.createContext(null);Ec.displayName="DataRouterState";var LC=R.createContext(!1),RS=R.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var UC=R.createContext(new Map);UC.displayName="Fetchers";var BC=R.createContext(null);BC.displayName="Await";var kn=R.createContext(null);kn.displayName="Navigation";var ml=R.createContext(null);ml.displayName="Location";var vr=R.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var Dm=R.createContext(null);Dm.displayName="RouteError";var DS="REACT_ROUTER_ERROR",VC="REDIRECT",HC="ROUTE_ERROR_RESPONSE";function qC(e){if(e.startsWith(`${DS}:${VC}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function YC(e){if(e.startsWith(`${DS}:${HC}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new NC(t.status,t.statusText,t.data)}catch{}}function $C(e,{relative:t}={}){ut(zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=R.useContext(kn),{hash:s,pathname:l,search:c}=pl(e,{relative:t}),f=l;return r!=="/"&&(f=l==="/"?r:ei([r,l])),i.createHref({pathname:f,search:c,hash:s})}function zs(){return R.useContext(ml)!=null}function ii(){return ut(zs(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ml).location}var jS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MS(e){R.useContext(kn).static||R.useLayoutEffect(e)}function xa(){let{isDataRoute:e}=R.useContext(vr);return e?aO():XC()}function XC(){ut(zs(),"useNavigate() may be used only in the context of a <Router> component.");let e=R.useContext(ks),{basename:t,navigator:r}=R.useContext(kn),{matches:i}=R.useContext(vr),{pathname:s}=ii(),l=JSON.stringify(Am(i)),c=R.useRef(!1);return MS(()=>{c.current=!0}),R.useCallback((h,m={})=>{if(er(c.current,jS),!c.current)return;if(typeof h=="number"){r.go(h);return}let g=Rm(h,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ei([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,l,s,e])}var GC=R.createContext(null);function KC(e){let t=R.useContext(vr).outlet;return R.useMemo(()=>t&&R.createElement(GC.Provider,{value:e},t),[t,e])}function pl(e,{relative:t}={}){let{matches:r}=R.useContext(vr),{pathname:i}=ii(),s=JSON.stringify(Am(r));return R.useMemo(()=>Rm(e,JSON.parse(s),i,t==="path"),[e,s,i,t])}function WC(e,t){return NS(e,t)}function NS(e,t,r,i,s){ut(zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(kn),{matches:c}=R.useContext(vr),f=c[c.length-1],h=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let E=v&&v.path||"";kS(m,!v||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=ii(),w;if(t){let E=typeof t=="string"?Ps(t):t;ut(g==="/"||E.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${E.pathname}" was given in the \`location\` prop.`),w=E}else w=y;let C=w.pathname||"/",T=C;if(g!=="/"){let E=g.replace(/^\//,"").split("/");T="/"+C.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=_S(e,{pathname:T});er(v||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),er(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=JC(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:ei([g,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?g:ei([g,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,r,i,s);return t&&_?R.createElement(ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},_):_}function IC(){let e=iO(),t=PC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),r?R.createElement("pre",{style:s},r):null,c)}var FC=R.createElement(IC,null),PS=class extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=YC(e.digest);r&&(e=r)}let t=e!==void 0?R.createElement(vr.Provider,{value:this.props.routeContext},R.createElement(Dm.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?R.createElement(QC,{error:e},t):t}};PS.contextType=LC;var rd=new WeakMap;function QC({children:e,error:t}){let{basename:r}=R.useContext(kn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=qC(t.digest);if(i){let s=rd.get(t);if(s)throw s;let l=OS(i.location,r);if(CS&&!rd.get(t))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw rd.set(t,c),c}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function ZC({routeContext:e,match:t,children:r}){let i=R.useContext(ks);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),R.createElement(vr.Provider,{value:e},r)}function JC(e,t=[],r=null,i=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=r?.errors;if(c!=null){let g=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,h=-1;if(r)for(let g=0;g<l.length;g++){let v=l[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:y,errors:w}=r,C=v.route.loader&&!y.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||C){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=r&&i?(g,v)=>{i(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:kC(r.matches),errorInfo:v})}:void 0;return l.reduceRight((g,v,y)=>{let w,C=!1,T=null,S=null;r&&(w=c&&v.route.id?c[v.route.id]:void 0,T=v.route.errorElement||FC,f&&(h<0&&y===0?(kS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,S=null):h===y&&(C=!0,S=v.route.hydrateFallbackElement||null)));let _=t.concat(l.slice(0,y+1)),E=()=>{let O;return w?O=T:C?O=S:v.route.Component?O=R.createElement(v.route.Component,null):v.route.element?O=v.route.element:O=g,R.createElement(ZC,{match:v,routeContext:{outlet:g,matches:_,isDataRoute:r!=null},children:O})};return r&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?R.createElement(PS,{location:r.location,revalidation:r.revalidation,component:T,error:w,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:m}):E()},null)}function jm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eO(e){let t=R.useContext(ks);return ut(t,jm(e)),t}function tO(e){let t=R.useContext(Ec);return ut(t,jm(e)),t}function nO(e){let t=R.useContext(vr);return ut(t,jm(e)),t}function Mm(e){let t=nO(e),r=t.matches[t.matches.length-1];return ut(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function rO(){return Mm("useRouteId")}function iO(){let e=R.useContext(Dm),t=tO("useRouteError"),r=Mm("useRouteError");return e!==void 0?e:t.errors?.[r]}function aO(){let{router:e}=eO("useNavigate"),t=Mm("useNavigate"),r=R.useRef(!1);return MS(()=>{r.current=!0}),R.useCallback(async(s,l={})=>{er(r.current,jS),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var U0={};function kS(e,t,r){!t&&!U0[e]&&(U0[e]=!0,er(!1,r))}R.memo(sO);function sO({routes:e,future:t,state:r,onError:i}){return NS(e,void 0,r,i,t)}function Nm({to:e,replace:t,state:r,relative:i}){ut(zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=R.useContext(kn);er(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(vr),{pathname:c}=ii(),f=xa(),h=Rm(e,Am(l),c,i==="path"),m=JSON.stringify(h);return R.useEffect(()=>{f(JSON.parse(m),{replace:t,state:r,relative:i})},[f,m,i,t,r]),null}function oO(e){return KC(e.context)}function In(e){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lO({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){ut(!zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:f,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[f,s,l,c]);typeof r=="string"&&(r=Ps(r));let{pathname:m="/",search:g="",hash:v="",state:y=null,key:w="default"}=r,C=R.useMemo(()=>{let T=ti(m,f);return T==null?null:{location:{pathname:T,search:g,hash:v,state:y,key:w},navigationType:i}},[f,m,g,v,y,w,i]);return er(C!=null,`<Router basename="${f}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:R.createElement(kn.Provider,{value:h},R.createElement(ml.Provider,{children:t,value:C}))}function uO({children:e,location:t}){return WC(Ud(e),t)}function Ud(e,t=[]){let r=[];return R.Children.forEach(e,(i,s)=>{if(!R.isValidElement(i))return;let l=[...t,s];if(i.type===R.Fragment){r.push.apply(r,Ud(i.props.children,l));return}ut(i.type===In,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ud(i.props.children,l)),r.push(c)}),r}var ec="get",tc="application/x-www-form-urlencoded";function xc(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function cO(e){return xc(e)&&e.tagName.toLowerCase()==="button"}function fO(e){return xc(e)&&e.tagName.toLowerCase()==="form"}function hO(e){return xc(e)&&e.tagName.toLowerCase()==="input"}function dO(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mO(e,t){return e.button===0&&(!t||t==="_self")&&!dO(e)}var Uu=null;function pO(){if(Uu===null)try{new FormData(document.createElement("form"),0),Uu=!1}catch{Uu=!0}return Uu}var gO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(e){return e!=null&&!gO.has(e)?(er(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):e}function vO(e,t){let r,i,s,l,c;if(fO(e)){let f=e.getAttribute("action");i=f?ti(f,t):null,r=e.getAttribute("method")||ec,s=id(e.getAttribute("enctype"))||tc,l=new FormData(e)}else if(cO(e)||hO(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(i=h?ti(h,t):null,r=e.getAttribute("formmethod")||f.getAttribute("method")||ec,s=id(e.getAttribute("formenctype"))||id(f.getAttribute("enctype"))||tc,l=new FormData(f,e),!pO()){let{name:m,type:g,value:v}=e;if(g==="image"){let y=m?`${m}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else m&&l.append(m,v)}}else{if(xc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ec,i=null,s=tc,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:r.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Pm(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yO(e,t,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:t&&ti(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function bO(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wO(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function SO(e,t,r){let i=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await bO(l,r);return c.links?c.links():[]}return[]}));return xO(i.flat(1).filter(wO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function B0(e,t,r,i,s,l){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,f=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return l==="assets"?t.filter((h,m)=>c(h,m)||f(h,m)):l==="data"?t.filter((h,m)=>{let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,m)||f(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function _O(e,t,{includeHydrateFallback:r}={}){return TO(e.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function TO(e){return[...new Set(e)]}function EO(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function xO(e,t){let r=new Set;return new Set(t),e.reduce((i,s)=>{let l=JSON.stringify(EO(s));return r.has(l)||(r.add(l),i.push({key:l,link:s})),i},[])}function zS(){let e=R.useContext(ks);return Pm(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function CO(){let e=R.useContext(Ec);return Pm(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var km=R.createContext(void 0);km.displayName="FrameworkContext";function LS(){let e=R.useContext(km);return Pm(e,"You must render this element inside a <HydratedRouter> element"),e}function OO(e,t){let r=R.useContext(km),[i,s]=R.useState(!1),[l,c]=R.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,y=R.useRef(null);R.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let T=_=>{_.forEach(E=>{c(E.isIntersecting)})},S=new IntersectionObserver(T,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[e]),R.useEffect(()=>{if(i){let T=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(T)}}},[i]);let w=()=>{s(!0)},C=()=>{s(!1),c(!1)};return r?e!=="intent"?[l,y,{}]:[l,y,{onFocus:No(f,w),onBlur:No(h,C),onMouseEnter:No(m,w),onMouseLeave:No(g,C),onTouchStart:No(v,w)}]:[!1,y,{}]}function No(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function AO({page:e,...t}){let{router:r}=zS(),i=R.useMemo(()=>_S(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?R.createElement(DO,{page:e,matches:i,...t}):null}function RO(e){let{manifest:t,routeModules:r}=LS(),[i,s]=R.useState([]);return R.useEffect(()=>{let l=!1;return SO(e,t,r).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,r]),i}function DO({page:e,matches:t,...r}){let i=ii(),{manifest:s,routeModules:l}=LS(),{basename:c}=zS(),{loaderData:f,matches:h}=CO(),m=R.useMemo(()=>B0(e,t,h,s,i,"data"),[e,t,h,s,i]),g=R.useMemo(()=>B0(e,t,h,s,i,"assets"),[e,t,h,s,i]),v=R.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let C=new Set,T=!1;if(t.forEach(_=>{let E=s.routes[_.route.id];!E||!E.hasLoader||(!m.some(O=>O.route.id===_.route.id)&&_.route.id in f&&l[_.route.id]?.shouldRevalidate||E.hasClientLoader?T=!0:C.add(_.route.id))}),C.size===0)return[];let S=yO(e,c,"data");return T&&C.size>0&&S.searchParams.set("_routes",t.filter(_=>C.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[c,f,i,s,m,t,e,l]),y=R.useMemo(()=>_O(g,s),[g,s]),w=RO(g);return R.createElement(R.Fragment,null,v.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...r})),y.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...r})),w.map(({key:C,link:T})=>R.createElement("link",{key:C,nonce:r.nonce,...T})))}function jO(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var MO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{MO&&(window.__reactRouterVersion="7.11.0")}catch{}function NO({basename:e,children:t,unstable_useTransitions:r,window:i}){let s=R.useRef();s.current==null&&(s.current=cC({window:i,v5Compat:!0}));let l=s.current,[c,f]=R.useState({action:l.action,location:l.location}),h=R.useCallback(m=>{r===!1?f(m):R.startTransition(()=>f(m))},[r]);return R.useLayoutEffect(()=>l.listen(h),[l,h]),R.createElement(lO,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r})}var US=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BS=R.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:f,target:h,to:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:y,...w},C){let{basename:T,unstable_useTransitions:S}=R.useContext(kn),_=typeof m=="string"&&US.test(m),E=OS(m,T);m=E.to;let O=$C(m,{relative:s}),[N,z,L]=OO(i,w),D=LO(m,{replace:c,state:f,target:h,preventScrollReset:g,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:y,unstable_useTransitions:S});function M(Z){t&&t(Z),Z.defaultPrevented||D(Z)}let $=R.createElement("a",{...w,...L,href:E.absoluteURL||O,onClick:E.isExternal||l?t:M,ref:jO(C,z),target:h,"data-discover":!_&&r==="render"?"true":void 0});return N&&!_?R.createElement(R.Fragment,null,$,R.createElement(AO,{page:O})):$});BS.displayName="Link";var PO=R.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:f,children:h,...m},g){let v=pl(c,{relative:m.relative}),y=ii(),w=R.useContext(Ec),{navigator:C,basename:T}=R.useContext(kn),S=w!=null&&qO(v)&&f===!0,_=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,E=y.pathname,O=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(E=E.toLowerCase(),O=O?O.toLowerCase():null,_=_.toLowerCase()),O&&T&&(O=ti(O,T)||O);const N=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let z=E===_||!s&&E.startsWith(_)&&E.charAt(N)==="/",L=O!=null&&(O===_||!s&&O.startsWith(_)&&O.charAt(_.length)==="/"),D={isActive:z,isPending:L,isTransitioning:S},M=z?t:void 0,$;typeof i=="function"?$=i(D):$=[i,z?"active":null,L?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Z=typeof l=="function"?l(D):l;return R.createElement(BS,{...m,"aria-current":M,className:$,ref:g,style:Z,to:c,viewTransition:f},typeof h=="function"?h(D):h)});PO.displayName="NavLink";var kO=R.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:s,state:l,method:c=ec,action:f,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:y,...w},C)=>{let{unstable_useTransitions:T}=R.useContext(kn),S=VO(),_=HO(f,{relative:m}),E=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&US.test(f),N=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let L=z.nativeEvent.submitter,D=L?.getAttribute("formmethod")||c,M=()=>S(L||z.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:s,state:l,relative:m,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:y});T&&r!==!1?R.startTransition(()=>M()):M()};return R.createElement("form",{ref:C,method:E,action:_,onSubmit:i?h:N,...w,"data-discover":!O&&e==="render"?"true":void 0})});kO.displayName="Form";function zO(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VS(e){let t=R.useContext(ks);return ut(t,zO(e)),t}function LO(e,{target:t,replace:r,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let m=xa(),g=ii(),v=pl(e,{relative:l});return R.useCallback(y=>{if(mO(y,t)){y.preventDefault();let w=r!==void 0?r:tl(g)===tl(v),C=()=>m(e,{replace:w,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:f});h?R.startTransition(()=>C()):C()}},[g,m,v,r,i,t,e,s,l,c,f,h])}var UO=0,BO=()=>`__${String(++UO)}__`;function VO(){let{router:e}=VS("useSubmit"),{basename:t}=R.useContext(kn),r=rO(),i=e.fetch,s=e.navigate;return R.useCallback(async(l,c={})=>{let{action:f,method:h,encType:m,formData:g,body:v}=vO(l,t);if(c.navigate===!1){let y=c.fetcherKey||BO();await i(y,r,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await s(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,t,r])}function HO(e,{relative:t}={}){let{basename:r}=R.useContext(kn),i=R.useContext(vr);ut(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...pl(e||".",{relative:t})},c=ii();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:ei([r,l.pathname])),tl(l)}function qO(e,{relative:t}={}){let r=R.useContext(RS);ut(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=VS("useViewTransitionState"),s=pl(e,{relative:t});if(!r.isTransitioning)return!1;let l=ti(r.currentLocation.pathname,i)||r.currentLocation.pathname,c=ti(r.nextLocation.pathname,i)||r.nextLocation.pathname;return oc(s.pathname,c)!=null||oc(s.pathname,l)!=null}function HS(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=HS(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function gl(){for(var e,t,r=0,i="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=HS(e))&&(i&&(i+=" "),i+=t);return i}const YO=()=>A.jsxs("div",{className:"min-h-screen w-full flex flex-col bg-[var(--color-bg-primary)]",children:[A.jsxs("header",{className:"sticky top-0 z-50 px-4 py-3 flex items-center justify-between glass",children:[A.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-[var(--color-accent-pop)] to-[var(--color-error)] bg-clip-text text-transparent",children:"Dear23"}),A.jsx("div",{className:"flex gap-2",children:A.jsx("div",{className:"w-8 h-8 rounded-full bg-[var(--color-bg-secondary)]"})})]}),A.jsx("main",{className:"flex-1 w-full max-w-[1200px] mx-auto p-4 md:p-6 lg:p-8",children:A.jsx(oO,{})}),A.jsx("nav",{className:"sticky bottom-0 z-50 md:hidden glass border-t border-[rgba(255,255,255,0.4)] pb-safe-area",children:A.jsxs("div",{className:"flex justify-around items-center h-16",children:[A.jsx(Po,{label:"Home",active:!0}),A.jsx(Po,{label:"Chat"}),A.jsx(Po,{label:"Feed"}),A.jsx(Po,{label:"Diary"}),A.jsx(Po,{label:"Cal"})]})})]}),Po=({label:e,active:t})=>A.jsxs("div",{className:gl("flex flex-col items-center gap-1 p-2 transition-transform active:scale-95",t?"text-[var(--color-accent-pop)]":"text-[var(--color-text-placeholder)]"),children:[A.jsx("div",{className:"w-6 h-6 rounded bg-current opacity-20"}),A.jsx("span",{className:"text-[10px] font-medium",children:e})]});function Ls(e){const{margin:t,containerPadding:r,containerWidth:i,cols:s}=e;return(i-t[0]*(s-1)-r[0]*2)/s}function As(e,t,r){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*r):e}function ko(e,t,r,i,s,l,c){const{margin:f,containerPadding:h,rowHeight:m}=e,g=Ls(e);let v,y,w,C;if(c?(v=Math.round(c.width),y=Math.round(c.height)):(v=As(i,g,f[0]),y=As(s,m,f[1])),l?(w=Math.round(l.top),C=Math.round(l.left)):c?(w=Math.round(c.top),C=Math.round(c.left)):(w=Math.round((m+f[1])*r+h[1]),C=Math.round((g+f[0])*t+h[0])),!l&&!c){if(Number.isFinite(i)){const S=Math.round((g+f[0])*(t+i)+h[0])-C-v;S!==f[0]&&(v+=S-f[0])}if(Number.isFinite(s)){const S=Math.round((m+f[1])*(r+s)+h[1])-w-y;S!==f[1]&&(y+=S-f[1])}}return{top:w,left:C,width:v,height:y}}function $O(e,t,r,i,s){const{margin:l,containerPadding:c,cols:f,rowHeight:h,maxRows:m}=e,g=Ls(e);let v=Math.round((r-c[0])/(g+l[0])),y=Math.round((t-c[1])/(h+l[1]));return v=lc(v,0,f-i),y=lc(y,0,m-s),{x:v,y}}function Bu(e,t,r){const{margin:i,containerPadding:s,rowHeight:l}=e,c=Ls(e),f=Math.round((r-s[0])/(c+i[0])),h=Math.round((t-s[1])/(l+i[1]));return{x:f,y:h}}function XO(e,t,r){const{margin:i,rowHeight:s}=e,l=Ls(e),c=Math.max(1,Math.round((t+i[0])/(l+i[0]))),f=Math.max(1,Math.round((r+i[1])/(s+i[1])));return{w:c,h:f}}function lc(e,t,r){return Math.max(Math.min(e,r),t)}function zm(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function uc(e,t){for(let r=0;r<e.length;r++){const i=e[r];if(i!==void 0&&zm(i,t))return i}}function qS(e,t){return e.filter(r=>zm(r,t))}function GO(e,t){return t==="horizontal"?KO(e):t==="vertical"||t==="wrap"?Bd(e):[...e]}function Bd(e){return[...e].sort((t,r)=>t.y!==r.y?t.y-r.y:t.x-r.x)}function KO(e){return[...e].sort((t,r)=>t.x!==r.x?t.x-r.x:t.y-r.y)}function Lm(e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];if(i!==void 0){const s=i.y+i.h;s>t&&(t=s)}}return t}function fa(e,t){for(let r=0;r<e.length;r++){const i=e[r];if(i!==void 0&&i.i===t)return i}}function Um(e){return e.filter(t=>t.static===!0)}function Rs(e){return{i:e.i,x:e.x,y:e.y,w:e.w,h:e.h,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,constraints:e.constraints,isBounded:e.isBounded}}function YS(e){const t=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r];i!==void 0&&(t[r]=Rs(i))}return t}function WO(e,t){const r=new Array(e.length);for(let i=0;i<e.length;i++){const s=e[i];s!==void 0&&(t.i===s.i?r[i]=t:r[i]=s)}return r}function IO(e,t,r){let i=fa(e,t);return i?(i=r(Rs(i)),[WO(e,i),i]):[[...e],null]}function FO(e,t){const r=Um(e);for(let i=0;i<e.length;i++){const s=e[i];if(s!==void 0)if(s.x+s.w>t.cols&&(s.x=t.cols-s.w),s.x<0&&(s.x=0,s.w=t.cols),!s.static)r.push(s);else for(;uc(r,s);)s.y++}return e}function ya(e,t,r,i,s,l,c,f,h){if(t.static&&t.isDraggable!==!0)return[...e];if(t.y===i&&t.x===r)return[...e];const m=t.x,g=t.y;typeof r=="number"&&(t.x=r),typeof i=="number"&&(t.y=i),t.moved=!0;let v=GO(e,c);(c==="vertical"&&typeof i=="number"?g>=i:c==="horizontal"&&typeof r=="number"&&m>=r)&&(v=v.reverse());const w=qS(v,t),C=w.length>0;if(C&&h)return YS(e);if(C&&l)return t.x=m,t.y=g,t.moved=!1,e;let T=[...e];for(let S=0;S<w.length;S++){const _=w[S];_!==void 0&&(_.moved||(_.static?T=V0(T,_,t,s,c):T=V0(T,t,_,s,c)))}return T}function V0(e,t,r,i,s,l){const c=s==="horizontal",f=s==="vertical",h=t.static;if(i){i=!1;const v={x:c?Math.max(t.x-r.w,0):r.x,y:f?Math.max(t.y-r.h,0):r.y,w:r.w,h:r.h,i:"-1"},y=uc(e,v),w=y!==void 0&&y.y+y.h>t.y,C=y!==void 0&&t.x+t.w>y.x;if(!y)return ya(e,r,c?v.x:void 0,f?v.y:void 0,i,h,s);if(w&&f)return ya(e,r,void 0,r.y+1,i,h,s);if(w&&s===null)return t.y=r.y,r.y=r.y+r.h,[...e];if(C&&c)return ya(e,t,r.x,void 0,i,h,s)}const m=c?r.x+1:void 0,g=f?r.y+1:void 0;return m===void 0&&g===void 0?[...e]:ya(e,r,m,g,i,h,s)}function bs(e,t,r){return Math.max(t,Math.min(r,e))}var QO={name:"gridBounds",constrainPosition(e,t,r,{cols:i,maxRows:s}){return{x:bs(t,0,Math.max(0,i-e.w)),y:bs(r,0,Math.max(0,s-e.h))}},constrainSize(e,t,r,i,{cols:s,maxRows:l}){const c=i==="w"||i==="nw"||i==="sw"?e.x+e.w:s-e.x,f=i==="n"||i==="nw"||i==="ne"?e.y+e.h:l-e.y;return{w:bs(t,1,Math.max(1,c)),h:bs(r,1,Math.max(1,f))}}},ZO={name:"minMaxSize",constrainSize(e,t,r){return{w:bs(t,e.minW??1,e.maxW??1/0),h:bs(r,e.minH??1,e.maxH??1/0)}}},$S=[QO,ZO];function Vu(e,t,r,i,s){let l={x:r,y:i};for(const c of e)c.constrainPosition&&(l=c.constrainPosition(t,l.x,l.y,s));if(t.constraints)for(const c of t.constraints)c.constrainPosition&&(l=c.constrainPosition(t,l.x,l.y,s));return l}function JO(e,t,r,i,s,l){let c={w:r,h:i};for(const f of e)f.constrainSize&&(c=f.constrainSize(t,c.w,c.h,s,l));if(t.constraints)for(const f of t.constraints)f.constrainSize&&(c=f.constrainSize(t,c.w,c.h,s,l));return c}function XS({top:e,left:t,width:r,height:i}){const s=`translate(${t}px,${e}px)`;return{transform:s,WebkitTransform:s,MozTransform:s,msTransform:s,OTransform:s,width:`${r}px`,height:`${i}px`,position:"absolute"}}function eA({top:e,left:t,width:r,height:i}){return{top:`${e}px`,left:`${t}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function H0(e){return e*100+"%"}function tA(e,t,r,i){return e+r>i?t:r}function GS(e,t,r){return e<0?t:r}function nA(e){return Math.max(0,e)}function cc(e){return Math.max(0,e)}var Bm=(e,t,r)=>{const{left:i,height:s,width:l}=t,c=e.top-(s-e.height);return{left:i,width:l,height:GS(c,e.height,s),top:cc(c)}},Vm=(e,t,r)=>{const{top:i,left:s,height:l,width:c}=t;return{top:i,height:l,width:tA(e.left,e.width,c,r),left:nA(s)}},Hm=(e,t,r)=>{const{top:i,height:s,width:l}=t,c=e.left+e.width-l;return c<0?{height:s,width:e.left+e.width,top:cc(i),left:0}:{height:s,width:l,top:cc(i),left:c}},qm=(e,t,r)=>{const{top:i,left:s,height:l,width:c}=t;return{width:c,left:s,height:GS(i,e.height,l),top:cc(i)}},rA=(e,t,r)=>Bm(e,Vm(e,t,r)),iA=(e,t,r)=>Bm(e,Hm(e,t)),aA=(e,t,r)=>qm(e,Vm(e,t,r)),sA=(e,t,r)=>qm(e,Hm(e,t)),oA={n:Bm,ne:rA,e:Vm,se:aA,s:qm,sw:sA,w:Hm,nw:iA};function lA(e,t,r,i){const s=oA[e];return s?s(t,{...t,...r},i):r}var uA={type:"transform",scale:1,calcStyle(e){return XS(e)}},cA=uA,fA={cols:12,rowHeight:150,margin:[10,10],containerPadding:null,maxRows:1/0},hA={enabled:!0,bounded:!1,threshold:3},dA={enabled:!0,handles:["se"]},mA={enabled:!1,defaultItem:{w:1,h:1}};function KS(e,t,r,i,s){t[i]+=1;const c=e.findIndex(h=>h.i===t.i),f=s??Um(e).length>0;for(let h=c+1;h<e.length;h++){const m=e[h];if(m!==void 0&&!m.static){if(!f&&m.y>t.y+t.h)break;zm(t,m)&&KS(e,m,r+t.h,i,f)}}t[i]=r}function pA(e,t,r,i){for(t.x=Math.max(t.x,0),t.y=Math.max(t.y,0),t.y=Math.min(i,t.y);t.y>0&&!uc(e,t);)t.y--;let s;for(;(s=uc(e,t))!==void 0;)KS(r,t,s.y+s.h,"y");return t.y=Math.max(t.y,0),t}var WS={type:"vertical",allowOverlap:!1,compact(e,t){const r=Um(e);let i=Lm(r);const s=Bd(e),l=new Array(e.length);for(let c=0;c<s.length;c++){const f=s[c];if(f===void 0)continue;let h=Rs(f);h.static||(h=pA(r,h,s,i),i=Math.max(i,h.y+h.h),r.push(h));const m=e.indexOf(f);l[m]=h,h.moved=!1}return l}},gA={...WS,allowOverlap:!0,compact(e,t){return YS(e)}};function vA(e,t=!1,r=!1){let i;return t?i=gA:i=WS,r?{...i,preventCollision:r}:i}function IS(e){return function(r,i,s,l,c,f,h){return e(r,i,h)}}function Cc(e){return function(r,i,s,l){if(!r||!i||typeof r!="object"||typeof i!="object")return e(r,i,s,l);var c=l.get(r),f=l.get(i);if(c&&f)return c===i&&f===r;l.set(r,i),l.set(i,r);var h=e(r,i,s,l);return l.delete(r),l.delete(i),h}}function FS(e,t){var r={};for(var i in e)r[i]=e[i];for(var i in t)r[i]=t[i];return r}function q0(e){return e.constructor===Object||e.constructor==null}function Y0(e){return typeof e.then=="function"}function Oc(e,t){return e===t||e!==e&&t!==t}var yA="[object Arguments]",bA="[object Boolean]",wA="[object Date]",SA="[object RegExp]",_A="[object Map]",TA="[object Number]",EA="[object Object]",xA="[object Set]",CA="[object String]",$0=Object.prototype.toString;function Ac(e){var t=e.areArraysEqual,r=e.areDatesEqual,i=e.areMapsEqual,s=e.areObjectsEqual,l=e.areRegExpsEqual,c=e.areSetsEqual,f=e.createIsNestedEqual,h=f(m);function m(g,v,y){if(g===v)return!0;if(!g||!v||typeof g!="object"||typeof v!="object")return g!==g&&v!==v;if(q0(g)&&q0(v))return s(g,v,h,y);var w=Array.isArray(g),C=Array.isArray(v);if(w||C)return w===C&&t(g,v,h,y);var T=$0.call(g);return T!==$0.call(v)?!1:T===wA?r(g,v,h,y):T===SA?l(g,v,h,y):T===_A?i(g,v,h,y):T===xA?c(g,v,h,y):T===EA||T===yA?Y0(g)||Y0(v)?!1:s(g,v,h,y):T===bA||T===TA||T===CA?Oc(g.valueOf(),v.valueOf()):!1}return m}function QS(e,t,r,i){var s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!r(e[s],t[s],s,s,e,t,i))return!1;return!0}var OA=Cc(QS);function ZS(e,t){return Oc(e.valueOf(),t.valueOf())}function JS(e,t,r,i){var s=e.size===t.size;if(!s)return!1;if(!e.size)return!0;var l={},c=0;return e.forEach(function(f,h){if(s){var m=!1,g=0;t.forEach(function(v,y){!m&&!l[g]&&(m=r(h,y,c,g,e,t,i)&&r(f,v,h,y,e,t,i))&&(l[g]=!0),g++}),c++,s=m}}),s}var AA=Cc(JS),RA="_owner",DA=Object.prototype.hasOwnProperty;function e_(e,t,r,i){var s=Object.keys(e),l=s.length;if(Object.keys(t).length!==l)return!1;for(var c;l-- >0;){if(c=s[l],c===RA){var f=!!e.$$typeof,h=!!t.$$typeof;if((f||h)&&f!==h)return!1}if(!DA.call(t,c)||!r(e[c],t[c],c,c,e,t,i))return!1}return!0}var jA=Cc(e_);function t_(e,t){return e.source===t.source&&e.flags===t.flags}function n_(e,t,r,i){var s=e.size===t.size;if(!s)return!1;if(!e.size)return!0;var l={};return e.forEach(function(c,f){if(s){var h=!1,m=0;t.forEach(function(g,v){!h&&!l[m]&&(h=r(c,g,f,v,e,t,i))&&(l[m]=!0),m++}),s=h}}),s}var MA=Cc(n_),r_=Object.freeze({areArraysEqual:QS,areDatesEqual:ZS,areMapsEqual:JS,areObjectsEqual:e_,areRegExpsEqual:t_,areSetsEqual:n_,createIsNestedEqual:IS}),i_=Object.freeze({areArraysEqual:OA,areDatesEqual:ZS,areMapsEqual:AA,areObjectsEqual:jA,areRegExpsEqual:t_,areSetsEqual:MA,createIsNestedEqual:IS}),NA=Ac(r_);function ls(e,t){return NA(e,t,void 0)}Ac(FS(r_,{createIsNestedEqual:function(){return Oc}}));Ac(i_);Ac(FS(i_,{createIsNestedEqual:function(){return Oc}}));var zo={exports:{}},ad={},sd={exports:{}},od,X0;function PA(){if(X0)return od;X0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return od=e,od}var ld,G0;function kA(){if(G0)return ld;G0=1;var e=PA();function t(){}function r(){}return r.resetWarningCache=t,ld=function(){function i(c,f,h,m,g,v){if(v!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:t};return l.PropTypes=l,l},ld}var K0;function Rc(){return K0||(K0=1,sd.exports=kA()()),sd.exports}var Hu={exports:{}},W0;function zA(){if(W0)return Hu.exports;W0=1;function e(r){var i,s,l="";if(typeof r=="string"||typeof r=="number")l+=r;else if(typeof r=="object")if(Array.isArray(r)){var c=r.length;for(i=0;i<c;i++)r[i]&&(s=e(r[i]))&&(l&&(l+=" "),l+=s)}else for(s in r)r[s]&&(l&&(l+=" "),l+=s);return l}function t(){for(var r,i,s=0,l="",c=arguments.length;s<c;s++)(r=arguments[s])&&(i=e(r))&&(l&&(l+=" "),l+=i);return l}return Hu.exports=t,Hu.exports.clsx=t,Hu.exports}var _t={},ji={},I0;function Dc(){if(I0)return ji;I0=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.dontSetMe=s,ji.findInArray=e,ji.int=i,ji.isFunction=t,ji.isNum=r;function e(l,c){for(let f=0,h=l.length;f<h;f++)if(c.apply(c,[l[f],f,l]))return l[f]}function t(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Function]"}function r(l){return typeof l=="number"&&!isNaN(l)}function i(l){return parseInt(l,10)}function s(l,c,f){if(l[c])return new Error(`Invalid prop ${c} passed to ${f} - do not set this, set it on the child.`)}return ji}var Mi={},F0;function LA(){if(F0)return Mi;F0=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.browserPrefixToKey=r,Mi.browserPrefixToStyle=i,Mi.default=void 0,Mi.getPrefix=t;const e=["Moz","Webkit","O","ms"];function t(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const c=window.document?.documentElement?.style;if(!c||l in c)return"";for(let f=0;f<e.length;f++)if(r(l,e[f])in c)return e[f];return""}function r(l,c){return c?`${c}${s(l)}`:l}function i(l,c){return c?`-${c.toLowerCase()}-${l}`:l}function s(l){let c="",f=!0;for(let h=0;h<l.length;h++)f?(c+=l[h].toUpperCase(),f=!1):l[h]==="-"?f=!0:c+=l[h];return c}return Mi.default=t(),Mi}var Q0;function Ym(){if(Q0)return _t;Q0=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.addClassName=z,_t.addEvent=c,_t.addUserSelectStyles=E,_t.createCSSTransform=w,_t.createSVGTransform=C,_t.getTouch=S,_t.getTouchIdentifier=_,_t.getTranslation=T,_t.innerHeight=g,_t.innerWidth=v,_t.matchesSelector=s,_t.matchesSelectorAndParentsTo=l,_t.offsetXYFromParent=y,_t.outerHeight=h,_t.outerWidth=m,_t.removeClassName=L,_t.removeEvent=f,_t.scheduleRemoveUserSelectStyles=O;var e=Dc(),t=r(LA());function r(D,M){if(typeof WeakMap=="function")var $=new WeakMap,Z=new WeakMap;return(r=function(ee,me){if(!me&&ee&&ee.__esModule)return ee;var re,le,Te={__proto__:null,default:ee};if(ee===null||typeof ee!="object"&&typeof ee!="function")return Te;if(re=me?Z:$){if(re.has(ee))return re.get(ee);re.set(ee,Te)}for(const H in ee)H!=="default"&&{}.hasOwnProperty.call(ee,H)&&((le=(re=Object.defineProperty)&&Object.getOwnPropertyDescriptor(ee,H))&&(le.get||le.set)?re(Te,H,le):Te[H]=ee[H]);return Te})(D,M)}let i="";function s(D,M){return i||(i=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function($){return(0,e.isFunction)(D[$])})),(0,e.isFunction)(D[i])?D[i](M):!1}function l(D,M,$){let Z=D;do{if(s(Z,M))return!0;if(Z===$)return!1;Z=Z.parentNode}while(Z);return!1}function c(D,M,$,Z){if(!D)return;const ee={capture:!0,...Z};D.addEventListener?D.addEventListener(M,$,ee):D.attachEvent?D.attachEvent("on"+M,$):D["on"+M]=$}function f(D,M,$,Z){if(!D)return;const ee={capture:!0,...Z};D.removeEventListener?D.removeEventListener(M,$,ee):D.detachEvent?D.detachEvent("on"+M,$):D["on"+M]=null}function h(D){let M=D.clientHeight;const $=D.ownerDocument.defaultView.getComputedStyle(D);return M+=(0,e.int)($.borderTopWidth),M+=(0,e.int)($.borderBottomWidth),M}function m(D){let M=D.clientWidth;const $=D.ownerDocument.defaultView.getComputedStyle(D);return M+=(0,e.int)($.borderLeftWidth),M+=(0,e.int)($.borderRightWidth),M}function g(D){let M=D.clientHeight;const $=D.ownerDocument.defaultView.getComputedStyle(D);return M-=(0,e.int)($.paddingTop),M-=(0,e.int)($.paddingBottom),M}function v(D){let M=D.clientWidth;const $=D.ownerDocument.defaultView.getComputedStyle(D);return M-=(0,e.int)($.paddingLeft),M-=(0,e.int)($.paddingRight),M}function y(D,M,$){const ee=M===M.ownerDocument.body?{left:0,top:0}:M.getBoundingClientRect(),me=(D.clientX+M.scrollLeft-ee.left)/$,re=(D.clientY+M.scrollTop-ee.top)/$;return{x:me,y:re}}function w(D,M){const $=T(D,M,"px");return{[(0,t.browserPrefixToKey)("transform",t.default)]:$}}function C(D,M){return T(D,M,"")}function T(D,M,$){let{x:Z,y:ee}=D,me=`translate(${Z}${$},${ee}${$})`;if(M){const re=`${typeof M.x=="string"?M.x:M.x+$}`,le=`${typeof M.y=="string"?M.y:M.y+$}`;me=`translate(${re}, ${le})`+me}return me}function S(D,M){return D.targetTouches&&(0,e.findInArray)(D.targetTouches,$=>M===$.identifier)||D.changedTouches&&(0,e.findInArray)(D.changedTouches,$=>M===$.identifier)}function _(D){if(D.targetTouches&&D.targetTouches[0])return D.targetTouches[0].identifier;if(D.changedTouches&&D.changedTouches[0])return D.changedTouches[0].identifier}function E(D){if(!D)return;let M=D.getElementById("react-draggable-style-el");M||(M=D.createElement("style"),M.type="text/css",M.id="react-draggable-style-el",M.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,M.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,D.getElementsByTagName("head")[0].appendChild(M)),D.body&&z(D.body,"react-draggable-transparent-selection")}function O(D){window.requestAnimationFrame?window.requestAnimationFrame(()=>{N(D)}):N(D)}function N(D){if(D)try{if(D.body&&L(D.body,"react-draggable-transparent-selection"),D.selection)D.selection.empty();else{const M=(D.defaultView||window).getSelection();M&&M.type!=="Caret"&&M.removeAllRanges()}}catch{}}function z(D,M){D.classList?D.classList.add(M):D.className.match(new RegExp(`(?:^|\\s)${M}(?!\\S)`))||(D.className+=` ${M}`)}function L(D,M){D.classList?D.classList.remove(M):D.className=D.className.replace(new RegExp(`(?:^|\\s)${M}(?!\\S)`,"g"),"")}return _t}var xr={},Z0;function a_(){if(Z0)return xr;Z0=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.canDragX=s,xr.canDragY=l,xr.createCoreData=f,xr.createDraggableData=h,xr.getBoundPosition=r,xr.getControlPosition=c,xr.snapToGrid=i;var e=Dc(),t=Ym();function r(v,y,w){if(!v.props.bounds)return[y,w];let{bounds:C}=v.props;C=typeof C=="string"?C:m(C);const T=g(v);if(typeof C=="string"){const{ownerDocument:S}=T,_=S.defaultView;let E;if(C==="parent"?E=T.parentNode:E=T.getRootNode().querySelector(C),!(E instanceof _.HTMLElement))throw new Error('Bounds selector "'+C+'" could not find an element.');const O=E,N=_.getComputedStyle(T),z=_.getComputedStyle(O);C={left:-T.offsetLeft+(0,e.int)(z.paddingLeft)+(0,e.int)(N.marginLeft),top:-T.offsetTop+(0,e.int)(z.paddingTop)+(0,e.int)(N.marginTop),right:(0,t.innerWidth)(O)-(0,t.outerWidth)(T)-T.offsetLeft+(0,e.int)(z.paddingRight)-(0,e.int)(N.marginRight),bottom:(0,t.innerHeight)(O)-(0,t.outerHeight)(T)-T.offsetTop+(0,e.int)(z.paddingBottom)-(0,e.int)(N.marginBottom)}}return(0,e.isNum)(C.right)&&(y=Math.min(y,C.right)),(0,e.isNum)(C.bottom)&&(w=Math.min(w,C.bottom)),(0,e.isNum)(C.left)&&(y=Math.max(y,C.left)),(0,e.isNum)(C.top)&&(w=Math.max(w,C.top)),[y,w]}function i(v,y,w){const C=Math.round(y/v[0])*v[0],T=Math.round(w/v[1])*v[1];return[C,T]}function s(v){return v.props.axis==="both"||v.props.axis==="x"}function l(v){return v.props.axis==="both"||v.props.axis==="y"}function c(v,y,w){const C=typeof y=="number"?(0,t.getTouch)(v,y):null;if(typeof y=="number"&&!C)return null;const T=g(w),S=w.props.offsetParent||T.offsetParent||T.ownerDocument.body;return(0,t.offsetXYFromParent)(C||v,S,w.props.scale)}function f(v,y,w){const C=!(0,e.isNum)(v.lastX),T=g(v);return C?{node:T,deltaX:0,deltaY:0,lastX:y,lastY:w,x:y,y:w}:{node:T,deltaX:y-v.lastX,deltaY:w-v.lastY,lastX:v.lastX,lastY:v.lastY,x:y,y:w}}function h(v,y){const w=v.props.scale;return{node:y.node,x:v.state.x+y.deltaX/w,y:v.state.y+y.deltaY/w,deltaX:y.deltaX/w,deltaY:y.deltaY/w,lastX:v.state.x,lastY:v.state.y}}function m(v){return{left:v.left,top:v.top,right:v.right,bottom:v.bottom}}function g(v){const y=v.findDOMNode();if(!y)throw new Error("<DraggableCore>: Unmounted during event!");return y}return xr}var Lo={},qu={},J0;function s_(){if(J0)return qu;J0=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.default=e;function e(){}return qu}var eb;function UA(){if(eb)return Lo;eb=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.default=void 0;var e=h(qi()),t=f(Rc()),r=f(Om()),i=Ym(),s=a_(),l=Dc(),c=f(s_());function f(T){return T&&T.__esModule?T:{default:T}}function h(T,S){if(typeof WeakMap=="function")var _=new WeakMap,E=new WeakMap;return(h=function(O,N){if(!N&&O&&O.__esModule)return O;var z,L,D={__proto__:null,default:O};if(O===null||typeof O!="object"&&typeof O!="function")return D;if(z=N?E:_){if(z.has(O))return z.get(O);z.set(O,D)}for(const M in O)M!=="default"&&{}.hasOwnProperty.call(O,M)&&((L=(z=Object.defineProperty)&&Object.getOwnPropertyDescriptor(O,M))&&(L.get||L.set)?z(D,M,L):D[M]=O[M]);return D})(T,S)}function m(T,S,_){return(S=g(S))in T?Object.defineProperty(T,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):T[S]=_,T}function g(T){var S=v(T,"string");return typeof S=="symbol"?S:S+""}function v(T,S){if(typeof T!="object"||!T)return T;var _=T[Symbol.toPrimitive];if(_!==void 0){var E=_.call(T,S);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(T)}const y={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let w=y.mouse,C=class extends e.Component{constructor(){super(...arguments),m(this,"dragging",!1),m(this,"lastX",NaN),m(this,"lastY",NaN),m(this,"touchIdentifier",null),m(this,"mounted",!1),m(this,"handleDragStart",S=>{if(this.props.onMouseDown(S),!this.props.allowAnyClick&&typeof S.button=="number"&&S.button!==0)return!1;const _=this.findDOMNode();if(!_||!_.ownerDocument||!_.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:E}=_;if(this.props.disabled||!(S.target instanceof E.defaultView.Node)||this.props.handle&&!(0,i.matchesSelectorAndParentsTo)(S.target,this.props.handle,_)||this.props.cancel&&(0,i.matchesSelectorAndParentsTo)(S.target,this.props.cancel,_))return;S.type==="touchstart"&&!this.props.allowMobileScroll&&S.preventDefault();const O=(0,i.getTouchIdentifier)(S);this.touchIdentifier=O;const N=(0,s.getControlPosition)(S,O,this);if(N==null)return;const{x:z,y:L}=N,D=(0,s.createCoreData)(this,z,L);(0,c.default)("DraggableCore: handleDragStart: %j",D),(0,c.default)("calling",this.props.onStart),!(this.props.onStart(S,D)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(E),this.dragging=!0,this.lastX=z,this.lastY=L,(0,i.addEvent)(E,w.move,this.handleDrag),(0,i.addEvent)(E,w.stop,this.handleDragStop))}),m(this,"handleDrag",S=>{const _=(0,s.getControlPosition)(S,this.touchIdentifier,this);if(_==null)return;let{x:E,y:O}=_;if(Array.isArray(this.props.grid)){let L=E-this.lastX,D=O-this.lastY;if([L,D]=(0,s.snapToGrid)(this.props.grid,L,D),!L&&!D)return;E=this.lastX+L,O=this.lastY+D}const N=(0,s.createCoreData)(this,E,O);if((0,c.default)("DraggableCore: handleDrag: %j",N),this.props.onDrag(S,N)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const D=document.createEvent("MouseEvents");D.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(D)}return}this.lastX=E,this.lastY=O}),m(this,"handleDragStop",S=>{if(!this.dragging)return;const _=(0,s.getControlPosition)(S,this.touchIdentifier,this);if(_==null)return;let{x:E,y:O}=_;if(Array.isArray(this.props.grid)){let D=E-this.lastX||0,M=O-this.lastY||0;[D,M]=(0,s.snapToGrid)(this.props.grid,D,M),E=this.lastX+D,O=this.lastY+M}const N=(0,s.createCoreData)(this,E,O);if(this.props.onStop(S,N)===!1||this.mounted===!1)return!1;const L=this.findDOMNode();L&&this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(L.ownerDocument),(0,c.default)("DraggableCore: handleDragStop: %j",N),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,L&&((0,c.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(L.ownerDocument,w.move,this.handleDrag),(0,i.removeEvent)(L.ownerDocument,w.stop,this.handleDragStop))}),m(this,"onMouseDown",S=>(w=y.mouse,this.handleDragStart(S))),m(this,"onMouseUp",S=>(w=y.mouse,this.handleDragStop(S))),m(this,"onTouchStart",S=>(w=y.touch,this.handleDragStart(S))),m(this,"onTouchEnd",S=>(w=y.touch,this.handleDragStop(S)))}componentDidMount(){this.mounted=!0;const S=this.findDOMNode();S&&(0,i.addEvent)(S,y.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const S=this.findDOMNode();if(S){const{ownerDocument:_}=S;(0,i.removeEvent)(_,y.mouse.move,this.handleDrag),(0,i.removeEvent)(_,y.touch.move,this.handleDrag),(0,i.removeEvent)(_,y.mouse.stop,this.handleDragStop),(0,i.removeEvent)(_,y.touch.stop,this.handleDragStop),(0,i.removeEvent)(S,y.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.scheduleRemoveUserSelectStyles)(_)}}findDOMNode(){return this.props?.nodeRef?this.props?.nodeRef?.current:r.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Lo.default=C,m(C,"displayName","DraggableCore"),m(C,"propTypes",{allowAnyClick:t.default.bool,allowMobileScroll:t.default.bool,children:t.default.node.isRequired,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(T,S){if(T[S]&&T[S].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe}),m(C,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Lo}var tb;function BA(){return tb||(tb=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return h.default}}),e.default=void 0;var t=v(qi()),r=g(Rc()),i=g(Om()),s=zA(),l=Ym(),c=a_(),f=Dc(),h=g(UA()),m=g(s_());function g(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(typeof WeakMap=="function")var O=new WeakMap,N=new WeakMap;return(v=function(z,L){if(!L&&z&&z.__esModule)return z;var D,M,$={__proto__:null,default:z};if(z===null||typeof z!="object"&&typeof z!="function")return $;if(D=L?N:O){if(D.has(z))return D.get(z);D.set(z,$)}for(const Z in z)Z!=="default"&&{}.hasOwnProperty.call(z,Z)&&((M=(D=Object.defineProperty)&&Object.getOwnPropertyDescriptor(z,Z))&&(M.get||M.set)?D($,Z,M):$[Z]=z[Z]);return $})(_,E)}function y(){return y=Object.assign?Object.assign.bind():function(_){for(var E=1;E<arguments.length;E++){var O=arguments[E];for(var N in O)({}).hasOwnProperty.call(O,N)&&(_[N]=O[N])}return _},y.apply(null,arguments)}function w(_,E,O){return(E=C(E))in _?Object.defineProperty(_,E,{value:O,enumerable:!0,configurable:!0,writable:!0}):_[E]=O,_}function C(_){var E=T(_,"string");return typeof E=="symbol"?E:E+""}function T(_,E){if(typeof _!="object"||!_)return _;var O=_[Symbol.toPrimitive];if(O!==void 0){var N=O.call(_,E);if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(_)}class S extends t.Component{static getDerivedStateFromProps(E,O){let{position:N}=E,{prevPropsPosition:z}=O;return N&&(!z||N.x!==z.x||N.y!==z.y)?((0,m.default)("Draggable: getDerivedStateFromProps %j",{position:N,prevPropsPosition:z}),{x:N.x,y:N.y,prevPropsPosition:{...N}}):null}constructor(E){super(E),w(this,"onDragStart",(O,N)=>{if((0,m.default)("Draggable: onDragStart: %j",N),this.props.onStart(O,(0,c.createDraggableData)(this,N))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(O,N)=>{if(!this.state.dragging)return!1;(0,m.default)("Draggable: onDrag: %j",N);const z=(0,c.createDraggableData)(this,N),L={x:z.x,y:z.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:$}=L;L.x+=this.state.slackX,L.y+=this.state.slackY;const[Z,ee]=(0,c.getBoundPosition)(this,L.x,L.y);L.x=Z,L.y=ee,L.slackX=this.state.slackX+(M-L.x),L.slackY=this.state.slackY+($-L.y),z.x=L.x,z.y=L.y,z.deltaX=L.x-this.state.x,z.deltaY=L.y-this.state.y}if(this.props.onDrag(O,z)===!1)return!1;this.setState(L)}),w(this,"onDragStop",(O,N)=>{if(!this.state.dragging||this.props.onStop(O,(0,c.createDraggableData)(this,N))===!1)return!1;(0,m.default)("Draggable: onDragStop: %j",N);const L={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:$}=this.props.position;L.x=M,L.y=$}this.setState(L)}),this.state={dragging:!1,dragged:!1,x:E.position?E.position.x:E.defaultPosition.x,y:E.position?E.position.y:E.defaultPosition.y,prevPropsPosition:{...E.position},slackX:0,slackY:0,isElementSVG:!1},E.position&&!(E.onDrag||E.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){return this.props?.nodeRef?.current??i.default.findDOMNode(this)}render(){const{axis:E,bounds:O,children:N,defaultPosition:z,defaultClassName:L,defaultClassNameDragging:D,defaultClassNameDragged:M,position:$,positionOffset:Z,scale:ee,...me}=this.props;let re={},le=null;const H=!!!$||this.state.dragging,K=$||z,Q={x:(0,c.canDragX)(this)&&H?this.state.x:K.x,y:(0,c.canDragY)(this)&&H?this.state.y:K.y};this.state.isElementSVG?le=(0,l.createSVGTransform)(Q,Z):re=(0,l.createCSSTransform)(Q,Z);const pe=(0,s.clsx)(N.props.className||"",L,{[D]:this.state.dragging,[M]:this.state.dragged});return t.createElement(h.default,y({},me,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(N),{className:pe,style:{...N.props.style,...re},transform:le}))}}e.default=S,w(S,"displayName","Draggable"),w(S,"propTypes",{...h.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),w(S,"defaultProps",{...h.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(ad)),ad}var nb;function $m(){if(nb)return zo.exports;nb=1;const{default:e,DraggableCore:t}=BA();return zo.exports=e,zo.exports.default=e,zo.exports.DraggableCore=t,zo.exports}var VA=$m(),Uo={exports:{}},Bo={},Yu={},rb;function HA(){if(rb)return Yu;rb=1,Yu.__esModule=!0,Yu.cloneElement=f;var e=t(qi());function t(h){return h&&h.__esModule?h:{default:h}}function r(h,m){var g=Object.keys(h);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(h);m&&(v=v.filter(function(y){return Object.getOwnPropertyDescriptor(h,y).enumerable})),g.push.apply(g,v)}return g}function i(h){for(var m=1;m<arguments.length;m++){var g=arguments[m]!=null?arguments[m]:{};m%2?r(Object(g),!0).forEach(function(v){s(h,v,g[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(v){Object.defineProperty(h,v,Object.getOwnPropertyDescriptor(g,v))})}return h}function s(h,m,g){return(m=l(m))in h?Object.defineProperty(h,m,{value:g,enumerable:!0,configurable:!0,writable:!0}):h[m]=g,h}function l(h){var m=c(h,"string");return typeof m=="symbol"?m:m+""}function c(h,m){if(typeof h!="object"||!h)return h;var g=h[Symbol.toPrimitive];if(g!==void 0){var v=g.call(h,m);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(h)}function f(h,m){return m.style&&h.props.style&&(m.style=i(i({},h.props.style),m.style)),m.className&&h.props.className&&(m.className=`${h.props.className} ${m.className}`),e.default.cloneElement(h,m)}return Yu}var Vo={},ib;function o_(){if(ib)return Vo;ib=1,Vo.__esModule=!0,Vo.resizableProps=void 0;var e=t(Rc());$m();function t(r){return r&&r.__esModule?r:{default:r}}return Vo.resizableProps={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.instanceOf(Element),grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const[l]=i;return l.axis==="both"||l.axis==="y"?e.default.number.isRequired(...i):e.default.number(...i)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const[l]=i;return l.axis==="both"||l.axis==="x"?e.default.number.isRequired(...i):e.default.number(...i)}},Vo}var ab;function l_(){if(ab)return Bo;ab=1,Bo.__esModule=!0,Bo.default=void 0;var e=l(qi()),t=$m(),r=HA(),i=o_();const s=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function l(T,S){if(typeof WeakMap=="function")var _=new WeakMap,E=new WeakMap;return(l=function(O,N){if(!N&&O&&O.__esModule)return O;var z,L,D={__proto__:null,default:O};if(O===null||typeof O!="object"&&typeof O!="function")return D;if(z=N?E:_){if(z.has(O))return z.get(O);z.set(O,D)}for(const M in O)M!=="default"&&{}.hasOwnProperty.call(O,M)&&((L=(z=Object.defineProperty)&&Object.getOwnPropertyDescriptor(O,M))&&(L.get||L.set)?z(D,M,L):D[M]=O[M]);return D})(T,S)}function c(){return c=Object.assign?Object.assign.bind():function(T){for(var S=1;S<arguments.length;S++){var _=arguments[S];for(var E in _)({}).hasOwnProperty.call(_,E)&&(T[E]=_[E])}return T},c.apply(null,arguments)}function f(T,S){if(T==null)return{};var _,E,O=h(T,S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);for(E=0;E<N.length;E++)_=N[E],S.indexOf(_)===-1&&{}.propertyIsEnumerable.call(T,_)&&(O[_]=T[_])}return O}function h(T,S){if(T==null)return{};var _={};for(var E in T)if({}.hasOwnProperty.call(T,E)){if(S.indexOf(E)!==-1)continue;_[E]=T[E]}return _}function m(T,S){var _=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);S&&(E=E.filter(function(O){return Object.getOwnPropertyDescriptor(T,O).enumerable})),_.push.apply(_,E)}return _}function g(T){for(var S=1;S<arguments.length;S++){var _=arguments[S]!=null?arguments[S]:{};S%2?m(Object(_),!0).forEach(function(E){v(T,E,_[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(_)):m(Object(_)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(_,E))})}return T}function v(T,S,_){return(S=y(S))in T?Object.defineProperty(T,S,{value:_,enumerable:!0,configurable:!0,writable:!0}):T[S]=_,T}function y(T){var S=w(T,"string");return typeof S=="symbol"?S:S+""}function w(T,S){if(typeof T!="object"||!T)return T;var _=T[Symbol.toPrimitive];if(_!==void 0){var E=_.call(T,S);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(T)}let C=class extends e.Component{constructor(){super(...arguments),this.handleRefs={},this.lastHandleRect=null,this.slack=null,this.lastSize=null}componentWillUnmount(){this.resetData()}resetData(){this.lastHandleRect=this.slack=this.lastSize=null}runConstraints(S,_){const{minConstraints:E,maxConstraints:O,lockAspectRatio:N}=this.props;if(!E&&!O&&!N)return[S,_];if(N){const $=this.props.width/this.props.height,Z=S-this.props.width,ee=_-this.props.height;Math.abs(Z)>Math.abs(ee*$)?_=S/$:S=_*$}const[z,L]=[S,_];let[D,M]=this.slack||[0,0];return S+=D,_+=M,E&&(S=Math.max(E[0],S),_=Math.max(E[1],_)),O&&(S=Math.min(O[0],S),_=Math.min(O[1],_)),this.slack=[D+(z-S),M+(L-_)],[S,_]}resizeHandler(S,_){return(E,O)=>{let{node:N,deltaX:z,deltaY:L}=O;S==="onResizeStart"&&this.resetData();const D=(this.props.axis==="both"||this.props.axis==="x")&&_!=="n"&&_!=="s",M=(this.props.axis==="both"||this.props.axis==="y")&&_!=="e"&&_!=="w";if(!D&&!M)return;const $=_[0],Z=_[_.length-1],ee=N.getBoundingClientRect();if(this.lastHandleRect!=null){if(Z==="w"){const K=ee.left-this.lastHandleRect.left;z+=K}if($==="n"){const K=ee.top-this.lastHandleRect.top;L+=K}}this.lastHandleRect=ee,Z==="w"&&(z=-z),$==="n"&&(L=-L);let me=this.props.width+(D?z/this.props.transformScale:0),re=this.props.height+(M?L/this.props.transformScale:0);[me,re]=this.runConstraints(me,re),S==="onResizeStop"&&this.lastSize&&({width:me,height:re}=this.lastSize);const le=me!==this.props.width||re!==this.props.height;S!=="onResizeStop"&&(this.lastSize={width:me,height:re});const Te=typeof this.props[S]=="function"?this.props[S]:null;Te&&!(S==="onResize"&&!le)&&(E.persist?.(),Te(E,{node:N,size:{width:me,height:re},handle:_})),S==="onResizeStop"&&this.resetData()}}renderResizeHandle(S,_){const{handle:E}=this.props;if(!E)return e.createElement("span",{className:`react-resizable-handle react-resizable-handle-${S}`,ref:_});if(typeof E=="function")return E(S,_);const O=typeof E.type=="string",N=g({ref:_},O?{}:{handleAxis:S});return e.cloneElement(E,N)}render(){const S=this.props,{children:_,className:E,draggableOpts:O,width:N,height:z,handle:L,handleSize:D,lockAspectRatio:M,axis:$,minConstraints:Z,maxConstraints:ee,onResize:me,onResizeStop:re,onResizeStart:le,resizeHandles:Te,transformScale:H}=S,K=f(S,s);return(0,r.cloneElement)(_,g(g({},K),{},{className:`${E?`${E} `:""}react-resizable`,children:[...e.Children.toArray(_.props.children),...Te.map(Q=>{const pe=this.handleRefs[Q]??(this.handleRefs[Q]=e.createRef());return e.createElement(t.DraggableCore,c({},O,{nodeRef:pe,key:`resizableHandle-${Q}`,onStop:this.resizeHandler("onResizeStop",Q),onStart:this.resizeHandler("onResizeStart",Q),onDrag:this.resizeHandler("onResize",Q)}),this.renderResizeHandle(Q,pe))})]}))}};return Bo.default=C,C.propTypes=i.resizableProps,C.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Bo}var Ho={},sb;function qA(){if(sb)return Ho;sb=1,Ho.__esModule=!0,Ho.default=void 0;var e=c(qi()),t=l(Rc()),r=l(l_()),i=o_();const s=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function l(S){return S&&S.__esModule?S:{default:S}}function c(S,_){if(typeof WeakMap=="function")var E=new WeakMap,O=new WeakMap;return(c=function(N,z){if(!z&&N&&N.__esModule)return N;var L,D,M={__proto__:null,default:N};if(N===null||typeof N!="object"&&typeof N!="function")return M;if(L=z?O:E){if(L.has(N))return L.get(N);L.set(N,M)}for(const $ in N)$!=="default"&&{}.hasOwnProperty.call(N,$)&&((D=(L=Object.defineProperty)&&Object.getOwnPropertyDescriptor(N,$))&&(D.get||D.set)?L(M,$,D):M[$]=N[$]);return M})(S,_)}function f(){return f=Object.assign?Object.assign.bind():function(S){for(var _=1;_<arguments.length;_++){var E=arguments[_];for(var O in E)({}).hasOwnProperty.call(E,O)&&(S[O]=E[O])}return S},f.apply(null,arguments)}function h(S,_){var E=Object.keys(S);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(S);_&&(O=O.filter(function(N){return Object.getOwnPropertyDescriptor(S,N).enumerable})),E.push.apply(E,O)}return E}function m(S){for(var _=1;_<arguments.length;_++){var E=arguments[_]!=null?arguments[_]:{};_%2?h(Object(E),!0).forEach(function(O){g(S,O,E[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(E)):h(Object(E)).forEach(function(O){Object.defineProperty(S,O,Object.getOwnPropertyDescriptor(E,O))})}return S}function g(S,_,E){return(_=v(_))in S?Object.defineProperty(S,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):S[_]=E,S}function v(S){var _=y(S,"string");return typeof _=="symbol"?_:_+""}function y(S,_){if(typeof S!="object"||!S)return S;var E=S[Symbol.toPrimitive];if(E!==void 0){var O=E.call(S,_);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(S)}function w(S,_){if(S==null)return{};var E,O,N=C(S,_);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(S);for(O=0;O<z.length;O++)E=z[O],_.indexOf(E)===-1&&{}.propertyIsEnumerable.call(S,E)&&(N[E]=S[E])}return N}function C(S,_){if(S==null)return{};var E={};for(var O in S)if({}.hasOwnProperty.call(S,O)){if(_.indexOf(O)!==-1)continue;E[O]=S[O]}return E}let T=class extends e.Component{constructor(){super(...arguments),this.state={width:this.props.width,height:this.props.height,propsWidth:this.props.width,propsHeight:this.props.height},this.onResize=(_,E)=>{const{size:O}=E;this.props.onResize?(_.persist?.(),this.setState(O,()=>this.props.onResize&&this.props.onResize(_,E))):this.setState(O)}}static getDerivedStateFromProps(_,E){return E.propsWidth!==_.width||E.propsHeight!==_.height?{width:_.width,height:_.height,propsWidth:_.width,propsHeight:_.height}:null}render(){const _=this.props,{handle:E,handleSize:O,onResize:N,onResizeStart:z,onResizeStop:L,draggableOpts:D,minConstraints:M,maxConstraints:$,lockAspectRatio:Z,axis:ee,width:me,height:re,resizeHandles:le,style:Te,transformScale:H}=_,K=w(_,s);return e.createElement(r.default,{axis:ee,draggableOpts:D,handle:E,handleSize:O,height:this.state.height,lockAspectRatio:Z,maxConstraints:$,minConstraints:M,onResizeStart:z,onResize:this.onResize,onResizeStop:L,resizeHandles:le,transformScale:H,width:this.state.width},e.createElement("div",f({},K,{style:m(m({},Te),{},{width:this.state.width+"px",height:this.state.height+"px"})})))}};return Ho.default=T,T.propTypes=m(m({},i.resizableProps),{},{children:t.default.element}),Ho}var ob;function YA(){return ob||(ob=1,Uo.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},Uo.exports.Resizable=l_().default,Uo.exports.ResizableBox=qA().default),Uo.exports}var $A=YA();function lb(e){const{children:t,cols:r,containerWidth:i,margin:s,containerPadding:l,rowHeight:c,maxRows:f,isDraggable:h,isResizable:m,isBounded:g,static:v,useCSSTransforms:y=!0,usePercentages:w=!1,transformScale:C=1,positionStrategy:T,dragThreshold:S=0,droppingPosition:_,className:E="",style:O,handle:N="",cancel:z="",x:L,y:D,w:M,h:$,minW:Z=1,maxW:ee=1/0,minH:me=1,maxH:re=1/0,i:le,resizeHandles:Te,resizeHandle:H,constraints:K=$S,layoutItem:Q,layout:pe=[],onDragStart:ye,onDrag:P,onDragStop:G,onResizeStart:F,onResize:J,onResizeStop:fe}=e,[se,xe]=R.useState(!1),[nt,be]=R.useState(!1),ct=R.useRef(null),Be=R.useRef({left:0,top:0}),$t=R.useRef({top:0,left:0,width:0,height:0}),Xt=R.useRef(void 0),un=R.useRef(pe);un.current=pe;const bn=R.useRef(null),cn=R.useRef(null),tr=R.useRef(!1),Rr=R.useRef({x:0,y:0}),Qe=R.useRef(!1),He=R.useMemo(()=>({cols:r,containerPadding:l,containerWidth:i,margin:s,maxRows:f,rowHeight:c}),[r,l,i,s,f,c]),Dt=R.useMemo(()=>({cols:r,maxRows:f,containerWidth:i,containerHeight:0,rowHeight:c,margin:s,layout:[]}),[r,f,i,c,s]),jt=R.useCallback(()=>({...Dt,layout:un.current}),[Dt]),wn=R.useMemo(()=>Q??{i:le,x:L,y:D,w:M,h:$,minW:Z,maxW:ee,minH:me,maxH:re},[Q,le,L,D,M,$,Z,ee,me,re]),Lt=R.useCallback(Ne=>{if(T?.calcStyle)return T.calcStyle(Ne);if(y)return XS(Ne);const Oe=eA(Ne);return w?{...Oe,left:H0(Ne.left/i),width:H0(Ne.width/i)}:Oe},[T,y,w,i]),zn=R.useCallback((Ne,{node:Oe})=>{if(!ye)return;const{offsetParent:Ze}=Oe;if(!Ze)return;const ze=Ze.getBoundingClientRect(),Tt=Oe.getBoundingClientRect(),Bt=Tt.left/C,Vt=ze.left/C,bt=Tt.top/C,fn=ze.top/C;let rn;if(T?.calcDragPosition){const Se=Ne;rn=T.calcDragPosition(Se.clientX,Se.clientY,Se.clientX-Tt.left,Se.clientY-Tt.top)}else rn={left:Bt-Vt+Ze.scrollLeft,top:bt-fn+Ze.scrollTop};if(Be.current=rn,S>0){const Se=Ne;Rr.current={x:Se.clientX,y:Se.clientY},tr.current=!0,Qe.current=!1,xe(!0);return}xe(!0);const ir=Bu(He,rn.top,rn.left),{x:ar,y:ne}=Vu(K,wn,ir.x,ir.y,jt());ye(le,ar,ne,{e:Ne,node:Oe,newPosition:rn})},[ye,C,He,T,S,K,wn,jt,le]),Dr=R.useCallback((Ne,{node:Oe,deltaX:Ze,deltaY:ze})=>{if(!P||!se)return;const Tt=Ne;if(tr.current&&!Qe.current){const ar=Tt.clientX-Rr.current.x,ne=Tt.clientY-Rr.current.y;if(Math.hypot(ar,ne)<S)return;if(Qe.current=!0,tr.current=!1,ye){const ue=Bu(He,Be.current.top,Be.current.left),{x:Pe,y:Ae}=Vu(K,wn,ue.x,ue.y,jt());ye(le,Pe,Ae,{e:Ne,node:Oe,newPosition:Be.current})}}let Bt=Be.current.top+ze,Vt=Be.current.left+Ze;if(g){const{offsetParent:ar}=Oe;if(ar){const ne=ar.clientHeight-As($,c,s[1]);Bt=lc(Bt,0,ne);const Se=Ls(He),ue=i-As(M,Se,s[0]);Vt=lc(Vt,0,ue)}}const bt={top:Bt,left:Vt};Be.current=bt;const fn=Bu(He,Bt,Vt),{x:rn,y:ir}=Vu(K,wn,fn.x,fn.y,jt());P(le,rn,ir,{e:Ne,node:Oe,newPosition:bt})},[P,ye,se,S,g,$,c,s,He,i,M,le,K,wn,jt]),nr=R.useCallback((Ne,{node:Oe})=>{if(!G||!se)return;const Ze=tr.current;if(tr.current=!1,Qe.current=!1,Rr.current={x:0,y:0},Ze){xe(!1),Be.current={left:0,top:0};return}const{left:ze,top:Tt}=Be.current,Bt={top:Tt,left:ze};xe(!1),Be.current={left:0,top:0};const Vt=Bu(He,Tt,ze),{x:bt,y:fn}=Vu(K,wn,Vt.x,Vt.y,jt());G(le,bt,fn,{e:Ne,node:Oe,newPosition:Bt})},[G,se,He,K,wn,jt,le]);bn.current=zn,cn.current=Dr;const Jt=R.useCallback((Ne,{node:Oe,size:Ze,handle:ze},Tt,Bt)=>{const Vt=Bt==="onResizeStart"?F:Bt==="onResize"?J:fe;if(!Vt)return;let bt;Oe?bt=lA(ze,Tt,Ze,i):bt={...Ze,top:Tt.top,left:Tt.left},$t.current=bt;const fn=XO(He,bt.width,bt.height),{w:rn,h:ir}=JO(K,wn,fn.w,fn.h,ze,jt());Vt(le,rn,ir,{e:Ne.nativeEvent,node:Oe,size:bt,handle:ze})},[F,J,fe,i,He,le,K,wn,jt]),si=R.useCallback((Ne,Oe)=>{be(!0);const Ze=ko(He,L,D,M,$),ze={...Oe,handle:Oe.handle};Jt(Ne,ze,Ze,"onResizeStart")},[Jt,He,L,D,M,$]),jr=R.useCallback((Ne,Oe)=>{const Ze=ko(He,L,D,M,$),ze={...Oe,handle:Oe.handle};Jt(Ne,ze,Ze,"onResize")},[Jt,He,L,D,M,$]),yr=R.useCallback((Ne,Oe)=>{be(!1),$t.current={top:0,left:0,width:0,height:0};const Ze=ko(He,L,D,M,$),ze={...Oe,handle:Oe.handle};Jt(Ne,ze,Ze,"onResizeStop")},[Jt,He,L,D,M,$]);R.useEffect(()=>{if(!_)return;const Ne=ct.current;if(!Ne)return;const Oe=Xt.current||{left:0,top:0},Ze=se&&(_.left!==Oe.left||_.top!==Oe.top);if(se){if(Ze){const ze=_.left-Be.current.left,Tt=_.top-Be.current.top,Bt={node:Ne,deltaX:ze,deltaY:Tt,lastX:Be.current.left,lastY:Be.current.top,x:_.left,y:_.top};cn.current?.(_.e,Bt)}}else{const ze={node:Ne,deltaX:_.left,deltaY:_.top,lastX:0,lastY:0,x:_.left,y:_.top};bn.current?.(_.e,ze)}Xt.current=_},[_,se,le]);const Ln=ko(He,L,D,M,$,se?Be.current:null,nt?$t.current:null),rr=Ye.Children.only(t),Mt=ko(He,0,0,1,1),Sn=[Mt.width,Mt.height],Ut=[1/0,1/0],nn=rr.props,qs=nn.className,Ca=nn.style;let _n=Ye.cloneElement(rr,{ref:ct,className:gl("react-grid-item",qs,E,{static:v,resizing:nt,"react-draggable":h,"react-draggable-dragging":se,dropping:!!_,cssTransforms:y}),style:{...O,...Ca,...Lt(Ln)}});const Mr=H;return _n=A.jsx($A.Resizable,{draggableOpts:{disabled:!m},className:m?void 0:"react-resizable-hide",width:Ln.width,height:Ln.height,minConstraints:Sn,maxConstraints:Ut,onResizeStart:si,onResize:jr,onResizeStop:yr,transformScale:C,resizeHandles:Te,handle:Mr,children:_n}),_n=A.jsx(VA.DraggableCore,{disabled:!h,onStart:zn,onDrag:Dr,onStop:nr,handle:N,cancel:".react-resizable-handle"+(z?","+z:""),scale:C,nodeRef:ct,children:_n}),_n}var Qr=()=>{},ub="react-grid-layout",u_=!1;try{u_=/firefox/i.test(navigator.userAgent)}catch{}function XA(e,t){const r=Ye.Children.toArray(e),i=Ye.Children.toArray(t);if(r.length!==i.length)return!1;for(let s=0;s<r.length;s++){const l=r[s],c=i[s];if(l?.key!==c?.key)return!1}return!0}function cb(e,t,r,i){const s=[],l=new Set;Ye.Children.forEach(t,f=>{if(!Ye.isValidElement(f)||f.key===null)return;const h=String(f.key);l.add(h);const m=e.find(g=>g.i===h);if(m)s.push(Rs(m));else{const v=f.props["data-grid"];v?s.push({i:h,x:v.x??0,y:v.y??0,w:v.w??1,h:v.h??1,minW:v.minW,maxW:v.maxW,minH:v.minH,maxH:v.maxH,static:v.static,isDraggable:v.isDraggable,isResizable:v.isResizable,resizeHandles:v.resizeHandles,isBounded:v.isBounded}):s.push({i:h,x:0,y:Lm(s),w:1,h:1})}});const c=FO(s,{cols:r});return i.compact(c,r)}function GA(e){const{children:t,width:r,gridConfig:i,dragConfig:s,resizeConfig:l,dropConfig:c,positionStrategy:f=cA,compactor:h,constraints:m=$S,layout:g=[],droppingItem:v,autoSize:y=!0,className:w="",style:C={},innerRef:T,onLayoutChange:S=Qr,onDragStart:_=Qr,onDrag:E=Qr,onDragStop:O=Qr,onResizeStart:N=Qr,onResize:z=Qr,onResizeStop:L=Qr,onDrop:D=Qr,onDropDragOver:M=Qr}=e,$=R.useMemo(()=>({...fA,...i}),[i]),Z=R.useMemo(()=>({...hA,...s}),[s]),ee=R.useMemo(()=>({...dA,...l}),[l]),me=R.useMemo(()=>({...mA,...c}),[c]),{cols:re,rowHeight:le,maxRows:Te,margin:H,containerPadding:K}=$,{enabled:Q,bounded:pe,handle:ye,cancel:P,threshold:G}=Z,{enabled:F,handles:J,handleComponent:fe}=ee,{enabled:se,defaultItem:xe,onDragOver:nt}=me,be=h??vA(),ct=be.type,Be=be.allowOverlap,$t=be.preventCollision??!1,Xt=R.useMemo(()=>v??{i:"__dropping-elem__",...xe},[v,xe]),un=f.type==="transform",bn=f.scale,cn=K??H,[tr,Rr]=R.useState(!1),[Qe,He]=R.useState(()=>cb(g,t,re,be)),[Dt,jt]=R.useState(null),[wn,Lt]=R.useState(!1),[zn,Dr]=R.useState(null),[nr,Jt]=R.useState(),si=R.useRef(null),jr=R.useRef(null),yr=R.useRef(null),Ln=R.useRef(0),rr=R.useRef(Qe),Mt=R.useRef(g),Sn=R.useRef(t),Ut=R.useRef(ct),nn=R.useRef(Qe);nn.current=Qe,R.useEffect(()=>{Rr(!0),ls(Qe,g)||S(Qe)},[]),R.useEffect(()=>{if(Dt||zn)return;const ne=!ls(g,Mt.current),Se=!XA(t,Sn.current),ue=ct!==Ut.current;if(ne||Se||ue){const Ae=cb(ne?g:Qe,t,re,be);ls(Ae,Qe)||He(Ae)}Mt.current=g,Sn.current=t,Ut.current=ct},[g,t,re,ct,be,Dt,zn,Qe]),R.useEffect(()=>{if(!Dt&&!ls(Qe,rr.current)){rr.current=Qe;const ne=Qe.filter(Se=>Se.i!==Xt.i);S(ne)}},[Qe,Dt,S,Xt.i]);const qs=R.useMemo(()=>{if(!y)return;const ne=Lm(Qe),Se=cn[1];return ne*le+(ne-1)*H[1]+Se*2+"px"},[y,Qe,le,H,cn]),Ca=R.useCallback((ne,Se,ue,Pe)=>{const Ae=nn.current,ge=fa(Ae,ne);if(!ge)return;const Ce={w:ge.w,h:ge.h,x:ge.x,y:ge.y,i:ne};si.current=Rs(ge),yr.current=Ae,jt(Ce),_(Ae,ge,ge,null,Pe.e,Pe.node)},[_]),_n=R.useCallback((ne,Se,ue,Pe)=>{const Ae=nn.current,ge=si.current,Ce=fa(Ae,ne);if(!Ce)return;const rt={w:Ce.w,h:Ce.h,x:Ce.x,y:Ce.y,i:ne},Ke=ya(Ae,Ce,Se,ue,!0,$t,ct,re,Be);E(Ke,ge,Ce,rt,Pe.e,Pe.node),He(be.compact(Ke,re)),jt(rt)},[$t,ct,re,Be,be,E]),Mr=R.useCallback((ne,Se,ue,Pe)=>{if(!Dt)return;const Ae=nn.current,ge=si.current,Ce=fa(Ae,ne);if(!Ce)return;const rt=ya(Ae,Ce,Se,ue,!0,$t,ct,re,Be),Ke=be.compact(rt,re);O(Ke,ge,Ce,null,Pe.e,Pe.node);const Ht=yr.current;si.current=null,yr.current=null,jt(null),He(Ke),Ht&&!ls(Ht,Ke)&&S(Ke)},[Dt,$t,ct,re,Be,be,O,S]),Ne=R.useCallback((ne,Se,ue,Pe)=>{const Ae=nn.current,ge=fa(Ae,ne);ge&&(jr.current=Rs(ge),yr.current=Ae,Lt(!0),N(Ae,ge,ge,null,Pe.e,Pe.node))},[N]),Oe=R.useCallback((ne,Se,ue,Pe)=>{const Ae=nn.current,ge=jr.current,{handle:Ce}=Pe;let rt=!1,Ke,Ht;const[Oa,Un]=IO(Ae,ne,qe=>(Ke=qe.x,Ht=qe.y,["sw","w","nw","n","ne"].includes(Ce)&&(["sw","nw","w"].includes(Ce)&&(Ke=qe.x+(qe.w-Se),Se=qe.x!==Ke&&Ke<0?qe.w:Se,Ke=Ke<0?0:Ke),["ne","n","nw"].includes(Ce)&&(Ht=qe.y+(qe.h-ue),ue=qe.y!==Ht&&Ht<0?qe.h:ue,Ht=Ht<0?0:Ht),rt=!0),$t&&!Be&&qS(Ae,{...qe,w:Se,h:ue,x:Ke??qe.x,y:Ht??qe.y}).filter(wr=>wr.i!==qe.i).length>0&&(Ht=qe.y,ue=qe.h,Ke=qe.x,Se=qe.w,rt=!1),qe.w=Se,qe.h=ue,qe));if(!Un)return;let sr=Oa;rt&&Ke!==void 0&&Ht!==void 0&&(sr=ya(Oa,Un,Ke,Ht,!0,$t,ct,re,Be));const oi={w:Un.w,h:Un.h,x:Un.x,y:Un.y,i:ne,static:!0};z(sr,ge,Un,oi,Pe.e,Pe.node),He(be.compact(sr,re)),jt(oi)},[$t,ct,re,Be,be,z]),Ze=R.useCallback((ne,Se,ue,Pe)=>{const Ae=nn.current,ge=jr.current,Ce=fa(Ae,ne),rt=be.compact(Ae,re);L(rt,ge,Ce??null,null,Pe.e,Pe.node);const Ke=yr.current;jr.current=null,yr.current=null,jt(null),Lt(!1),He(rt),Ke&&!ls(Ke,rt)&&S(rt)},[re,be,L,S]),ze=R.useCallback(()=>{const ne=nn.current;if(!ne.some(Pe=>Pe.i===Xt.i)){Dr(null),jt(null),Jt(void 0);return}const ue=be.compact(ne.filter(Pe=>Pe.i!==Xt.i),re);He(ue),Dr(null),jt(null),Jt(void 0)},[Xt.i,re,be]),Tt=R.useCallback(ne=>{if(ne.preventDefault(),ne.stopPropagation(),u_&&!ne.nativeEvent.target?.classList.contains(ub))return!1;const Se=nt?nt(ne.nativeEvent):M(ne);if(Se===!1)return zn&&ze(),!1;const{dragOffsetX:ue=0,dragOffsetY:Pe=0,...Ae}=Se??{},ge={...Xt,...Ae},Ce=ne.currentTarget.getBoundingClientRect(),rt={cols:re,margin:H,maxRows:Te,rowHeight:le,containerWidth:r,containerPadding:cn},Ke=Ls(rt),Ht=As(ge.w,Ke,H[0]),Oa=As(ge.h,le,H[1]),Un=Ht/2,sr=Oa/2,oi=ne.clientX-Ce.left+ue-Un,qe=ne.clientY-Ce.top+Pe-sr,br=Math.max(0,oi),wr=Math.max(0,qe),or={left:br/bn,top:wr/bn,e:ne.nativeEvent};if(zn)nr&&(nr.left!==or.left||nr.top!==or.top)&&Jt(or);else{const mt=$O(rt,wr,br,ge.w,ge.h);Dr(A.jsx("div",{},ge.i)),Jt(or),He([...nn.current,{...ge,x:mt.x,y:mt.y,static:!1,isDraggable:!0}])}},[zn,nr,Xt,nt,M,ze,bn,re,H,Te,le,r,cn]),Bt=R.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation(),Ln.current--,Ln.current<0&&(Ln.current=0),Ln.current===0&&ze()},[ze]),Vt=R.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation(),Ln.current++},[]),bt=R.useCallback(ne=>{ne.preventDefault(),ne.stopPropagation();const Se=nn.current,ue=Se.find(Pe=>Pe.i===Xt.i);Ln.current=0,ze(),D(Se,ue,ne.nativeEvent)},[Xt.i,ze,D]),fn=R.useCallback((ne,Se)=>{if(!ne||!ne.key)return null;const ue=fa(Qe,String(ne.key));if(!ue)return null;const Pe=typeof ue.isDraggable=="boolean"?ue.isDraggable:!ue.static&&Q,Ae=typeof ue.isResizable=="boolean"?ue.isResizable:!ue.static&&F,ge=ue.resizeHandles||[...J],Ce=Pe&&pe&&ue.isBounded!==!1,rt=fe;return A.jsx(lb,{containerWidth:r,cols:re,margin:H,containerPadding:cn,maxRows:Te,rowHeight:le,cancel:P,handle:ye,onDragStart:Ca,onDrag:_n,onDragStop:Mr,onResizeStart:Ne,onResize:Oe,onResizeStop:Ze,isDraggable:Pe,isResizable:Ae,isBounded:Ce,useCSSTransforms:un&&tr,usePercentages:!tr,transformScale:bn,positionStrategy:f,dragThreshold:G,w:ue.w,h:ue.h,x:ue.x,y:ue.y,i:ue.i,minH:ue.minH,minW:ue.minW,maxH:ue.maxH,maxW:ue.maxW,static:ue.static,droppingPosition:Se?nr:void 0,resizeHandles:ge,resizeHandle:rt,constraints:m,layoutItem:ue,layout:Qe,children:ne},ue.i)},[Qe,r,re,H,cn,Te,le,P,ye,Ca,_n,Mr,Ne,Oe,Ze,Q,F,pe,un,tr,bn,f,G,nr,J,fe,m]),rn=()=>Dt?A.jsx(lb,{w:Dt.w,h:Dt.h,x:Dt.x,y:Dt.y,i:Dt.i,className:`react-grid-placeholder ${wn?"placeholder-resizing":""}`,containerWidth:r,cols:re,margin:H,containerPadding:cn,maxRows:Te,rowHeight:le,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:un,transformScale:bn,constraints:m,layout:Qe,children:A.jsx("div",{})}):null,ir=gl(ub,w),ar={height:qs,...C};return A.jsxs("div",{ref:T,className:ir,style:ar,onDrop:se?bt:void 0,onDragLeave:se?Bt:void 0,onDragEnter:se?Vt:void 0,onDragOver:se?Tt:void 0,children:[Ye.Children.map(t,ne=>Ye.isValidElement(ne)?fn(ne):null),se&&zn&&fn(zn,!0),rn()]})}const fb=e=>{let t;const r=new Set,i=(m,g)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const y=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(w=>w(t,y))}},s=()=>t,f={setState:i,getState:s,getInitialState:()=>h,subscribe:m=>(r.add(m),()=>r.delete(m))},h=t=e(i,s,f);return f},KA=(e=>e?fb(e):fb),WA=e=>e;function IA(e,t=WA){const r=Ye.useSyncExternalStore(e.subscribe,Ye.useCallback(()=>t(e.getState()),[e,t]),Ye.useCallback(()=>t(e.getInitialState()),[e,t]));return Ye.useDebugValue(r),r}const hb=e=>{const t=KA(e),r=i=>IA(t,i);return Object.assign(r,t),r},c_=(e=>e?hb(e):hb);function FA(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var l;const c=h=>h===null?null:JSON.parse(h,void 0),f=(l=r.getItem(s))!=null?l:null;return f instanceof Promise?f.then(c):c(f)},setItem:(s,l)=>r.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>r.removeItem(s)}}const Vd=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(i){return Vd(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Vd(i)(r)}}}},QA=(e,t)=>(r,i,s)=>{let l={storage:FA(()=>localStorage),partialize:T=>T,version:0,merge:(T,S)=>({...S,...T}),...t},c=!1;const f=new Set,h=new Set;let m=l.storage;if(!m)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...T)},i,s);const g=()=>{const T=l.partialize({...i()});return m.setItem(l.name,{state:T,version:l.version})},v=s.setState;s.setState=(T,S)=>(v(T,S),g());const y=e((...T)=>(r(...T),g()),i,s);s.getInitialState=()=>y;let w;const C=()=>{var T,S;if(!m)return;c=!1,f.forEach(E=>{var O;return E((O=i())!=null?O:y)});const _=((S=l.onRehydrateStorage)==null?void 0:S.call(l,(T=i())!=null?T:y))||void 0;return Vd(m.getItem.bind(m))(l.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==l.version){if(l.migrate){const O=l.migrate(E.state,E.version);return O instanceof Promise?O.then(N=>[!0,N]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var O;const[N,z]=E;if(w=l.merge(z,(O=i())!=null?O:y),r(w,!0),N)return g()}).then(()=>{_?.(w,void 0),w=i(),c=!0,h.forEach(E=>E(w))}).catch(E=>{_?.(void 0,E)})};return s.persist={setOptions:T=>{l={...l,...T},T.storage&&(m=T.storage)},clearStorage:()=>{m?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>C(),hasHydrated:()=>c,onHydrate:T=>(f.add(T),()=>{f.delete(T)}),onFinishHydration:T=>(h.add(T),()=>{h.delete(T)})},l.skipHydration||C(),w||y},ZA=QA,db={lg:[{i:"chat-shortcut",x:0,y:0,w:2,h:2},{i:"calendar-widget",x:2,y:0,w:4,h:4},{i:"feed-shortcut",x:0,y:2,w:2,h:2},{i:"memo-widget",x:6,y:0,w:2,h:4}],md:[{i:"chat-shortcut",x:0,y:0,w:2,h:2},{i:"calendar-widget",x:2,y:0,w:4,h:4},{i:"feed-shortcut",x:0,y:2,w:2,h:2},{i:"memo-widget",x:0,y:4,w:4,h:4}],sm:[{i:"chat-shortcut",x:0,y:0,w:2,h:2},{i:"feed-shortcut",x:2,y:0,w:2,h:2},{i:"calendar-widget",x:0,y:2,w:4,h:4},{i:"memo-widget",x:0,y:6,w:4,h:4}]},JA=c_()(ZA(e=>({layouts:db,updateLayout:(t,r)=>e(i=>({layouts:{...i.layouts,[t]:r}})),resetLayouts:()=>e({layouts:db})}),{name:"dear23-layout-storage"})),Xm=R.createContext({});function Gm(e){const t=R.useRef(null);return t.current===null&&(t.current=e()),t.current}const Km=typeof window<"u",f_=Km?R.useLayoutEffect:R.useEffect,jc=R.createContext(null);function Wm(e,t){e.indexOf(t)===-1&&e.push(t)}function Im(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ni=(e,t,r)=>r>t?t:r<e?e:r;let Fm=()=>{};const ri={},h_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function d_(e){return typeof e=="object"&&e!==null}const m_=e=>/^0[^.\s]+$/u.test(e);function Qm(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jn=e=>e,eR=(e,t)=>r=>t(e(r)),vl=(...e)=>e.reduce(eR),nl=(e,t,r)=>{const i=t-e;return i===0?1:(r-e)/i};class Zm{constructor(){this.subscriptions=[]}add(t){return Wm(this.subscriptions,t),()=>Im(this.subscriptions,t)}notify(t,r,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,i);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Or=e=>e*1e3,Qn=e=>e/1e3;function p_(e,t){return t?e*(1e3/t):0}const g_=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,tR=1e-7,nR=12;function rR(e,t,r,i,s){let l,c,f=0;do c=t+(r-t)/2,l=g_(c,i,s)-e,l>0?r=c:t=c;while(Math.abs(l)>tR&&++f<nR);return c}function yl(e,t,r,i){if(e===t&&r===i)return Jn;const s=l=>rR(l,0,1,e,r);return l=>l===0||l===1?l:g_(s(l),t,i)}const v_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,y_=e=>t=>1-e(1-t),b_=yl(.33,1.53,.69,.99),Jm=y_(b_),w_=v_(Jm),S_=e=>(e*=2)<1?.5*Jm(e):.5*(2-Math.pow(2,-10*(e-1))),ep=e=>1-Math.sin(Math.acos(e)),__=y_(ep),T_=v_(ep),iR=yl(.42,0,1,1),aR=yl(0,0,.58,1),E_=yl(.42,0,.58,1),sR=e=>Array.isArray(e)&&typeof e[0]!="number",x_=e=>Array.isArray(e)&&typeof e[0]=="number",oR={linear:Jn,easeIn:iR,easeInOut:E_,easeOut:aR,circIn:ep,circInOut:T_,circOut:__,backIn:Jm,backInOut:w_,backOut:b_,anticipate:S_},lR=e=>typeof e=="string",mb=e=>{if(x_(e)){Fm(e.length===4);const[t,r,i,s]=e;return yl(t,r,i,s)}else if(lR(e))return oR[e];return e},$u=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uR(e,t){let r=new Set,i=new Set,s=!1,l=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function h(g){c.has(g)&&(m.schedule(g),e()),g(f)}const m={schedule:(g,v=!1,y=!1)=>{const C=y&&s?r:i;return v&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),c.delete(g)},process:g=>{if(f=g,s){l=!0;return}s=!0,[r,i]=[i,r],r.forEach(h),r.clear(),s=!1,l&&(l=!1,m.process(g))}};return m}const cR=40;function C_(e,t){let r=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>r=!0,c=$u.reduce((O,N)=>(O[N]=uR(l),O),{}),{setup:f,read:h,resolveKeyframes:m,preUpdate:g,update:v,preRender:y,render:w,postRender:C}=c,T=()=>{const O=ri.useManualTiming?s.timestamp:performance.now();r=!1,ri.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(O-s.timestamp,cR),1)),s.timestamp=O,s.isProcessing=!0,f.process(s),h.process(s),m.process(s),g.process(s),v.process(s),y.process(s),w.process(s),C.process(s),s.isProcessing=!1,r&&t&&(i=!1,e(T))},S=()=>{r=!0,i=!0,s.isProcessing||e(T)};return{schedule:$u.reduce((O,N)=>{const z=c[N];return O[N]=(L,D=!1,M=!1)=>(r||S(),z.schedule(L,D,M)),O},{}),cancel:O=>{for(let N=0;N<$u.length;N++)c[$u[N]].cancel(O)},state:s,steps:c}}const{schedule:lt,cancel:Bi,state:Zt,steps:ud}=C_(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let nc;function fR(){nc=void 0}const yn={now:()=>(nc===void 0&&yn.set(Zt.isProcessing||ri.useManualTiming?Zt.timestamp:performance.now()),nc),set:e=>{nc=e,queueMicrotask(fR)}},O_=e=>t=>typeof t=="string"&&t.startsWith(e),A_=O_("--"),hR=O_("var(--"),tp=e=>hR(e)?dR.test(e.split("/*")[0].trim()):!1,dR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Us={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rl={...Us,transform:e=>ni(0,1,e)},Xu={...Us,default:1},Io=e=>Math.round(e*1e5)/1e5,np=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mR(e){return e==null}const pR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rp=(e,t)=>r=>!!(typeof r=="string"&&pR.test(r)&&r.startsWith(e)||t&&!mR(r)&&Object.prototype.hasOwnProperty.call(r,t)),R_=(e,t,r)=>i=>{if(typeof i!="string")return i;const[s,l,c,f]=i.match(np);return{[e]:parseFloat(s),[t]:parseFloat(l),[r]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},gR=e=>ni(0,255,e),cd={...Us,transform:e=>Math.round(gR(e))},ba={test:rp("rgb","red"),parse:R_("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:i=1})=>"rgba("+cd.transform(e)+", "+cd.transform(t)+", "+cd.transform(r)+", "+Io(rl.transform(i))+")"};function vR(e){let t="",r="",i="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),i=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),i=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,i+=i,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const Hd={test:rp("#"),parse:vR,transform:ba.transform},bl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pi=bl("deg"),Ar=bl("%"),ve=bl("px"),yR=bl("vh"),bR=bl("vw"),pb={...Ar,parse:e=>Ar.parse(e)/100,transform:e=>Ar.transform(e*100)},ws={test:rp("hsl","hue"),parse:R_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:i=1})=>"hsla("+Math.round(e)+", "+Ar.transform(Io(t))+", "+Ar.transform(Io(r))+", "+Io(rl.transform(i))+")"},Rt={test:e=>ba.test(e)||Hd.test(e)||ws.test(e),parse:e=>ba.test(e)?ba.parse(e):ws.test(e)?ws.parse(e):Hd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ba.transform(e):ws.transform(e),getAnimatableNone:e=>{const t=Rt.parse(e);return t.alpha=0,Rt.transform(t)}},wR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SR(e){return isNaN(e)&&typeof e=="string"&&(e.match(np)?.length||0)+(e.match(wR)?.length||0)>0}const D_="number",j_="color",_R="var",TR="var(",gb="${}",ER=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function il(e){const t=e.toString(),r=[],i={color:[],number:[],var:[]},s=[];let l=0;const f=t.replace(ER,h=>(Rt.test(h)?(i.color.push(l),s.push(j_),r.push(Rt.parse(h))):h.startsWith(TR)?(i.var.push(l),s.push(_R),r.push(h)):(i.number.push(l),s.push(D_),r.push(parseFloat(h))),++l,gb)).split(gb);return{values:r,split:f,indexes:i,types:s}}function M_(e){return il(e).values}function N_(e){const{split:t,types:r}=il(e),i=t.length;return s=>{let l="";for(let c=0;c<i;c++)if(l+=t[c],s[c]!==void 0){const f=r[c];f===D_?l+=Io(s[c]):f===j_?l+=Rt.transform(s[c]):l+=s[c]}return l}}const xR=e=>typeof e=="number"?0:Rt.test(e)?Rt.getAnimatableNone(e):e;function CR(e){const t=M_(e);return N_(e)(t.map(xR))}const Vi={test:SR,parse:M_,createTransformer:N_,getAnimatableNone:CR};function fd(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function OR({hue:e,saturation:t,lightness:r,alpha:i}){e/=360,t/=100,r/=100;let s=0,l=0,c=0;if(!t)s=l=c=r;else{const f=r<.5?r*(1+t):r+t-r*t,h=2*r-f;s=fd(h,f,e+1/3),l=fd(h,f,e),c=fd(h,f,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function fc(e,t){return r=>r>0?t:e}const ht=(e,t,r)=>e+(t-e)*r,hd=(e,t,r)=>{const i=e*e,s=r*(t*t-i)+i;return s<0?0:Math.sqrt(s)},AR=[Hd,ba,ws],RR=e=>AR.find(t=>t.test(e));function vb(e){const t=RR(e);if(!t)return!1;let r=t.parse(e);return t===ws&&(r=OR(r)),r}const yb=(e,t)=>{const r=vb(e),i=vb(t);if(!r||!i)return fc(e,t);const s={...r};return l=>(s.red=hd(r.red,i.red,l),s.green=hd(r.green,i.green,l),s.blue=hd(r.blue,i.blue,l),s.alpha=ht(r.alpha,i.alpha,l),ba.transform(s))},qd=new Set(["none","hidden"]);function DR(e,t){return qd.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function jR(e,t){return r=>ht(e,t,r)}function ip(e){return typeof e=="number"?jR:typeof e=="string"?tp(e)?fc:Rt.test(e)?yb:PR:Array.isArray(e)?P_:typeof e=="object"?Rt.test(e)?yb:MR:fc}function P_(e,t){const r=[...e],i=r.length,s=e.map((l,c)=>ip(l)(l,t[c]));return l=>{for(let c=0;c<i;c++)r[c]=s[c](l);return r}}function MR(e,t){const r={...e,...t},i={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(i[s]=ip(e[s])(e[s],t[s]));return s=>{for(const l in i)r[l]=i[l](s);return r}}function NR(e,t){const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][i[l]],f=e.values[c]??0;r[s]=f,i[l]++}return r}const PR=(e,t)=>{const r=Vi.createTransformer(t),i=il(e),s=il(t);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?qd.has(e)&&!s.values.length||qd.has(t)&&!i.values.length?DR(e,t):vl(P_(NR(i,s),s.values),r):fc(e,t)};function k_(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ht(e,t,r):ip(e)(e,t)}const kR=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>lt.update(t,r),stop:()=>Bi(t),now:()=>Zt.isProcessing?Zt.timestamp:yn.now()}},z_=(e,t,r=10)=>{let i="";const s=Math.max(Math.round(t/r),2);for(let l=0;l<s;l++)i+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},hc=2e4;function ap(e){let t=0;const r=50;let i=e.next(t);for(;!i.done&&t<hc;)t+=r,i=e.next(t);return t>=hc?1/0:t}function zR(e,t=100,r){const i=r({...e,keyframes:[0,t]}),s=Math.min(ap(i),hc);return{type:"keyframes",ease:l=>i.next(s*l).value/t,duration:Qn(s)}}const LR=5;function L_(e,t,r){const i=Math.max(t-LR,0);return p_(r-e(i),t-i)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dd=.001;function UR({duration:e=yt.duration,bounce:t=yt.bounce,velocity:r=yt.velocity,mass:i=yt.mass}){let s,l,c=1-t;c=ni(yt.minDamping,yt.maxDamping,c),e=ni(yt.minDuration,yt.maxDuration,Qn(e)),c<1?(s=m=>{const g=m*c,v=g*e,y=g-r,w=Yd(m,c),C=Math.exp(-v);return dd-y/w*C},l=m=>{const v=m*c*e,y=v*r+r,w=Math.pow(c,2)*Math.pow(m,2)*e,C=Math.exp(-v),T=Yd(Math.pow(m,2),c);return(-s(m)+dd>0?-1:1)*((y-w)*C)/T}):(s=m=>{const g=Math.exp(-m*e),v=(m-r)*e+1;return-dd+g*v},l=m=>{const g=Math.exp(-m*e),v=(r-m)*(e*e);return g*v});const f=5/e,h=VR(s,l,f);if(e=Or(e),isNaN(h))return{stiffness:yt.stiffness,damping:yt.damping,duration:e};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:e}}}const BR=12;function VR(e,t,r){let i=r;for(let s=1;s<BR;s++)i=i-e(i)/t(i);return i}function Yd(e,t){return e*Math.sqrt(1-t*t)}const HR=["duration","bounce"],qR=["stiffness","damping","mass"];function bb(e,t){return t.some(r=>e[r]!==void 0)}function YR(e){let t={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...e};if(!bb(e,qR)&&bb(e,HR))if(e.visualDuration){const r=e.visualDuration,i=2*Math.PI/(r*1.2),s=i*i,l=2*ni(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:yt.mass,stiffness:s,damping:l}}else{const r=UR(e);t={...t,...r,mass:yt.mass},t.isResolvedFromDuration=!0}return t}function dc(e=yt.visualDuration,t=yt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:s}=r;const l=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],f={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:v,velocity:y,isResolvedFromDuration:w}=YR({...r,velocity:-Qn(r.velocity||0)}),C=y||0,T=m/(2*Math.sqrt(h*g)),S=c-l,_=Qn(Math.sqrt(h/g)),E=Math.abs(S)<5;i||(i=E?yt.restSpeed.granular:yt.restSpeed.default),s||(s=E?yt.restDelta.granular:yt.restDelta.default);let O;if(T<1){const z=Yd(_,T);O=L=>{const D=Math.exp(-T*_*L);return c-D*((C+T*_*S)/z*Math.sin(z*L)+S*Math.cos(z*L))}}else if(T===1)O=z=>c-Math.exp(-_*z)*(S+(C+_*S)*z);else{const z=_*Math.sqrt(T*T-1);O=L=>{const D=Math.exp(-T*_*L),M=Math.min(z*L,300);return c-D*((C+T*_*S)*Math.sinh(M)+z*S*Math.cosh(M))/z}}const N={calculatedDuration:w&&v||null,next:z=>{const L=O(z);if(w)f.done=z>=v;else{let D=z===0?C:0;T<1&&(D=z===0?Or(C):L_(O,z,L));const M=Math.abs(D)<=i,$=Math.abs(c-L)<=s;f.done=M&&$}return f.value=f.done?c:L,f},toString:()=>{const z=Math.min(ap(N),hc),L=z_(D=>N.next(z*D).value,z,30);return z+"ms "+L},toTransition:()=>{}};return N}dc.applyToOptions=e=>{const t=zR(e,100,dc);return e.ease=t.ease,e.duration=Or(t.duration),e.type="keyframes",e};function $d({keyframes:e,velocity:t=0,power:r=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:h,restDelta:m=.5,restSpeed:g}){const v=e[0],y={done:!1,value:v},w=M=>f!==void 0&&M<f||h!==void 0&&M>h,C=M=>f===void 0?h:h===void 0||Math.abs(f-M)<Math.abs(h-M)?f:h;let T=r*t;const S=v+T,_=c===void 0?S:c(S);_!==S&&(T=_-v);const E=M=>-T*Math.exp(-M/i),O=M=>_+E(M),N=M=>{const $=E(M),Z=O(M);y.done=Math.abs($)<=m,y.value=y.done?_:Z};let z,L;const D=M=>{w(y.value)&&(z=M,L=dc({keyframes:[y.value,C(y.value)],velocity:L_(O,M,y.value),damping:s,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:M=>{let $=!1;return!L&&z===void 0&&($=!0,N(M),D(M)),z!==void 0&&M>=z?L.next(M-z):(!$&&N(M),y)}}}function $R(e,t,r){const i=[],s=r||ri.mix||k_,l=e.length-1;for(let c=0;c<l;c++){let f=s(e[c],e[c+1]);if(t){const h=Array.isArray(t)?t[c]||Jn:t;f=vl(h,f)}i.push(f)}return i}function XR(e,t,{clamp:r=!0,ease:i,mixer:s}={}){const l=e.length;if(Fm(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=$R(t,i,s),h=f.length,m=g=>{if(c&&g<e[0])return t[0];let v=0;if(h>1)for(;v<e.length-2&&!(g<e[v+1]);v++);const y=nl(e[v],e[v+1],g);return f[v](y)};return r?g=>m(ni(e[0],e[l-1],g)):m}function GR(e,t){const r=e[e.length-1];for(let i=1;i<=t;i++){const s=nl(0,t,i);e.push(ht(r,1,s))}}function KR(e){const t=[0];return GR(t,e.length-1),t}function WR(e,t){return e.map(r=>r*t)}function IR(e,t){return e.map(()=>t||E_).splice(0,e.length-1)}function Fo({duration:e=300,keyframes:t,times:r,ease:i="easeInOut"}){const s=sR(i)?i.map(mb):mb(i),l={done:!1,value:t[0]},c=WR(r&&r.length===t.length?r:KR(t),e),f=XR(c,t,{ease:Array.isArray(s)?s:IR(t,s)});return{calculatedDuration:e,next:h=>(l.value=f(h),l.done=h>=e,l)}}const FR=e=>e!==null;function sp(e,{repeat:t,repeatType:r="loop"},i,s=1){const l=e.filter(FR),f=s<0||t&&r!=="loop"&&t%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const QR={decay:$d,inertia:$d,tween:Fo,keyframes:Fo,spring:dc};function U_(e){typeof e.type=="string"&&(e.type=QR[e.type])}class op{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const ZR=e=>e/100;class lp extends op{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;U_(t);const{type:r=Fo,repeat:i=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:f}=t;const h=r||Fo;h!==Fo&&typeof f[0]!="number"&&(this.mixKeyframes=vl(ZR,k_(f[0],f[1])),f=[0,100]);const m=h({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...f].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=ap(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:i,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:y,repeatDelay:w,type:C,onUpdate:T,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const _=this.currentTime-m*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let O=this.currentTime,N=i;if(v){const M=Math.min(this.currentTime,s)/f;let $=Math.floor(M),Z=M%1;!Z&&M>=1&&(Z=1),Z===1&&$--,$=Math.min($,v+1),$%2&&(y==="reverse"?(Z=1-Z,w&&(Z-=w/f)):y==="mirror"&&(N=c)),O=ni(0,1,Z)*f}const z=E?{done:!1,value:g[0]}:N.next(O);l&&(z.value=l(z.value));let{done:L}=z;!E&&h!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return D&&C!==$d&&(z.value=sp(g,this.options,S,this.speed)),T&&T(z.value),D&&this.finish(),z}then(t,r){return this.finished.then(t,r)}get duration(){return Qn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(this.currentTime)}set time(t){t=Or(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Qn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=kR,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function JR(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wa=e=>e*180/Math.PI,Xd=e=>{const t=wa(Math.atan2(e[1],e[0]));return Gd(t)},eD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xd,rotateZ:Xd,skewX:e=>wa(Math.atan(e[1])),skewY:e=>wa(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Gd=e=>(e=e%360,e<0&&(e+=360),e),wb=Xd,Sb=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_b=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),tD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sb,scaleY:_b,scale:e=>(Sb(e)+_b(e))/2,rotateX:e=>Gd(wa(Math.atan2(e[6],e[5]))),rotateY:e=>Gd(wa(Math.atan2(-e[2],e[0]))),rotateZ:wb,rotate:wb,skewX:e=>wa(Math.atan(e[4])),skewY:e=>wa(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Kd(e){return e.includes("scale")?1:0}function Wd(e,t){if(!e||e==="none")return Kd(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(r)i=tD,s=r;else{const f=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=eD,s=f}if(!s)return Kd(t);const l=i[t],c=s[1].split(",").map(rD);return typeof l=="function"?l(c):c[l]}const nD=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Wd(r,t)};function rD(e){return parseFloat(e.trim())}const Bs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vs=new Set(Bs),Tb=e=>e===Us||e===ve,iD=new Set(["x","y","z"]),aD=Bs.filter(e=>!iD.has(e));function sD(e){const t=[];return aD.forEach(r=>{const i=e.getValue(r);i!==void 0&&(t.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),t}const _a={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Wd(t,"x"),y:(e,{transform:t})=>Wd(t,"y")};_a.translateX=_a.x;_a.translateY=_a.y;const Ta=new Set;let Id=!1,Fd=!1,Qd=!1;function B_(){if(Fd){const e=Array.from(Ta).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),r=new Map;t.forEach(i=>{const s=sD(i);s.length&&(r.set(i,s),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const s=r.get(i);s&&s.forEach(([l,c])=>{i.getValue(l)?.set(c)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Fd=!1,Id=!1,Ta.forEach(e=>e.complete(Qd)),Ta.clear()}function V_(){Ta.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fd=!0)})}function oD(){Qd=!0,V_(),B_(),Qd=!1}class up{constructor(t,r,i,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=i,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ta.add(this),Id||(Id=!0,lt.read(V_),lt.resolveKeyframes(B_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:i,motionValue:s}=this;if(t[0]===null){const l=s?.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&r){const f=i.readValue(r,c);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}JR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ta.delete(this)}cancel(){this.state==="scheduled"&&(Ta.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lD=e=>e.startsWith("--");function uD(e,t,r){lD(t)?e.style.setProperty(t,r):e.style[t]=r}const cD=Qm(()=>window.ScrollTimeline!==void 0),fD={};function hD(e,t){const r=Qm(e);return()=>fD[t]??r()}const H_=hD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ko=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`,Eb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ko([0,.65,.55,1]),circOut:Ko([.55,0,1,.45]),backIn:Ko([.31,.01,.66,-.59]),backOut:Ko([.33,1.53,.69,.99])};function q_(e,t){if(e)return typeof e=="function"?H_()?z_(e,t):"ease-out":x_(e)?Ko(e):Array.isArray(e)?e.map(r=>q_(r,t)||Eb.easeOut):Eb[e]}function dD(e,t,r,{delay:i=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:f="easeOut",times:h}={},m=void 0){const g={[t]:r};h&&(g.offset=h);const v=q_(f,s);Array.isArray(v)&&(g.easing=v);const y={delay:i,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(y.pseudoElement=m),e.animate(g,y)}function Y_(e){return typeof e=="function"&&"applyToOptions"in e}function mD({type:e,...t}){return Y_(e)&&H_()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class pD extends op{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:i,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:f,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Fm(typeof t.type!="string");const m=mD(t);this.animation=dD(r,i,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=sp(s,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):uD(r,i,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Qn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Qn(t)}get time(){return Qn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Or(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&cD()?(this.animation.timeline=t,Jn):r(this)}}const $_={anticipate:S_,backInOut:w_,circInOut:T_};function gD(e){return e in $_}function vD(e){typeof e.ease=="string"&&gD(e.ease)&&(e.ease=$_[e.ease])}const xb=10;class yD extends pD{constructor(t){vD(t),U_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:i,onComplete:s,element:l,...c}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const f=new lp({...c,autoplay:!1}),h=Or(this.finishedTime??this.time);r.setWithVelocity(f.sample(h-xb).value,f.sample(h).value,xb),f.stop()}}const Cb=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Vi.test(e)||e==="0")&&!e.startsWith("url("));function bD(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function wD(e,t,r,i){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Cb(s,t),f=Cb(l,t);return!c||!f?!1:bD(e)||(r==="spring"||Y_(r))&&i}function Zd(e){e.duration=0,e.type="keyframes"}const SD=new Set(["opacity","clipPath","filter","transform"]),_D=Qm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TD(e){const{motionValue:t,name:r,repeatDelay:i,repeatType:s,damping:l,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=t.owner.getProps();return _D()&&r&&SD.has(r)&&(r!=="transform"||!m)&&!h&&!i&&s!=="mirror"&&l!==0&&c!=="inertia"}const ED=40;class xD extends op{constructor({autoplay:t=!0,delay:r=0,type:i="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:f,name:h,motionValue:m,element:g,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const y={autoplay:t,delay:r,type:i,repeat:s,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:g,...v},w=g?.KeyframeResolver||up;this.keyframeResolver=new w(f,(C,T,S)=>this.onKeyframesResolved(C,T,y,!S),h,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,i,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:f,delay:h,isHandoff:m,onUpdate:g}=i;this.resolvedAt=yn.now(),wD(t,l,c,f)||((ri.instantAnimations||!h)&&g?.(sp(t,i,r)),t[0]=t[t.length-1],Zd(i),i.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>ED?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:t},w=!m&&TD(y)?new yD({...y,element:y.motionValue.owner.current}):new lp(y);w.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const CD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function OD(e){const t=CD.exec(e);if(!t)return[,];const[,r,i,s]=t;return[`--${r??i}`,s]}function X_(e,t,r=1){const[i,s]=OD(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const c=l.trim();return h_(c)?parseFloat(c):c}return tp(s)?X_(s,t,r+1):s}function cp(e,t){return e?.[t]??e?.default??e}const G_=new Set(["width","height","top","left","right","bottom",...Bs]),AD={test:e=>e==="auto",parse:e=>e},K_=e=>t=>t.test(e),W_=[Us,ve,Ar,Pi,bR,yR,AD],Ob=e=>W_.find(K_(e));function RD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||m_(e):!0}const DD=new Set(["brightness","contrast","saturate","opacity"]);function jD(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=r.match(np)||[];if(!i)return e;const s=r.replace(i,"");let l=DD.has(t)?1:0;return i!==r&&(l*=100),t+"("+l+s+")"}const MD=/\b([a-z-]*)\(.*?\)/gu,Jd={...Vi,getAnimatableNone:e=>{const t=e.match(MD);return t?t.map(jD).join(" "):e}},Ab={...Us,transform:Math.round},ND={rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:Pi,skewX:Pi,skewY:Pi,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:rl,originX:pb,originY:pb,originZ:ve},fp={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...ND,zIndex:Ab,fillOpacity:rl,strokeOpacity:rl,numOctaves:Ab},PD={...fp,color:Rt,backgroundColor:Rt,outlineColor:Rt,fill:Rt,stroke:Rt,borderColor:Rt,borderTopColor:Rt,borderRightColor:Rt,borderBottomColor:Rt,borderLeftColor:Rt,filter:Jd,WebkitFilter:Jd},I_=e=>PD[e];function F_(e,t){let r=I_(e);return r!==Jd&&(r=Vi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const kD=new Set(["auto","none","0"]);function zD(e,t,r){let i=0,s;for(;i<e.length&&!s;){const l=e[i];typeof l=="string"&&!kD.has(l)&&il(l).values.length&&(s=e[i]),i++}if(s&&r)for(const l of t)e[l]=F_(r,s)}class LD extends up{constructor(t,r,i,s,l){super(t,r,i,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),tp(m))){const g=X_(m,r.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!G_.has(i)||t.length!==2)return;const[s,l]=t,c=Ob(s),f=Ob(l);if(c!==f)if(Tb(c)&&Tb(f))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else _a[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,i=[];for(let s=0;s<t.length;s++)(t[s]===null||RD(t[s]))&&i.push(s);i.length&&zD(t,i,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[i](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(i,s).jump(s,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=_a[r](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,h])=>{t.getValue(f).set(h)}),this.resolveNoneKeyframes()}}function UD(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const s=r?.[e]??i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Q_=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Z_(e){return d_(e)&&"offsetHeight"in e}const Rb=30,BD=e=>!isNaN(parseFloat(e));class VD{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const s=yn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=BD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Zm);const i=this.events[t].add(r);return t==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Rb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Rb);return p_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ds(e,t){return new VD(e,t)}const{schedule:hp}=C_(queueMicrotask,!1),dr={x:!1,y:!1};function J_(){return dr.x||dr.y}function HD(e){return e==="x"||e==="y"?dr[e]?null:(dr[e]=!0,()=>{dr[e]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function e1(e,t){const r=UD(e),i=new AbortController,s={passive:!0,...t,signal:i.signal};return[r,s,()=>i.abort()]}function Db(e){return!(e.pointerType==="touch"||J_())}function qD(e,t,r={}){const[i,s,l]=e1(e,r),c=f=>{if(!Db(f))return;const{target:h}=f,m=t(h,f);if(typeof m!="function"||!h)return;const g=v=>{Db(v)&&(m(v),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return i.forEach(f=>{f.addEventListener("pointerenter",c,s)}),l}const t1=(e,t)=>t?e===t?!0:t1(e,t.parentElement):!1,dp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,YD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $D(e){return YD.has(e.tagName)||e.tabIndex!==-1}const rc=new WeakSet;function jb(e){return t=>{t.key==="Enter"&&e(t)}}function md(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const XD=(e,t)=>{const r=e.currentTarget;if(!r)return;const i=jb(()=>{if(rc.has(r))return;md(r,"down");const s=jb(()=>{md(r,"up")}),l=()=>md(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",l,t)});r.addEventListener("keydown",i,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),t)};function Mb(e){return dp(e)&&!J_()}function GD(e,t,r={}){const[i,s,l]=e1(e,r),c=f=>{const h=f.currentTarget;if(!Mb(f))return;rc.add(h);const m=t(h,f),g=(w,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",y),rc.has(h)&&rc.delete(h),Mb(w)&&typeof m=="function"&&m(w,{success:C})},v=w=>{g(w,h===window||h===document||r.useGlobalTarget||t1(h,w.target))},y=w=>{g(w,!1)};window.addEventListener("pointerup",v,s),window.addEventListener("pointercancel",y,s)};return i.forEach(f=>{(r.useGlobalTarget?window:f).addEventListener("pointerdown",c,s),Z_(f)&&(f.addEventListener("focus",m=>XD(m,s)),!$D(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function n1(e){return d_(e)&&"ownerSVGElement"in e}function KD(e){return n1(e)&&e.tagName==="svg"}const tn=e=>!!(e&&e.getVelocity),WD=[...W_,Rt,Vi],ID=e=>WD.find(K_(e)),mp=R.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Nb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function FD(...e){return t=>{let r=!1;const i=e.map(s=>{const l=Nb(s,t);return!r&&typeof l=="function"&&(r=!0),l});if(r)return()=>{for(let s=0;s<i.length;s++){const l=i[s];typeof l=="function"?l():Nb(e[s],null)}}}}function QD(...e){return R.useCallback(FD(...e),e)}class ZD extends R.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const i=r.offsetParent,s=Z_(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JD({children:e,isPresent:t,anchorX:r,root:i}){const s=R.useId(),l=R.useRef(null),c=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=R.useContext(mp),h=QD(l,e?.ref);return R.useInsertionEffect(()=>{const{width:m,height:g,top:v,left:y,right:w}=c.current;if(t||!l.current||!m||!g)return;const C=r==="left"?`left: ${y}`:`right: ${w}`;l.current.dataset.motionPopId=s;const T=document.createElement("style");f&&(T.nonce=f);const S=i??document.head;return S.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${C}px !important;
            top: ${v}px !important;
          }
        `),()=>{S.contains(T)&&S.removeChild(T)}},[t]),A.jsx(ZD,{isPresent:t,childRef:l,sizeRef:c,children:R.cloneElement(e,{ref:h})})}const e2=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:l,mode:c,anchorX:f,root:h})=>{const m=Gm(t2),g=R.useId();let v=!0,y=R.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:r,custom:s,onExitComplete:w=>{m.set(w,!0);for(const C of m.values())if(!C)return;i&&i()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[r,m,i]);return l&&v&&(y={...y}),R.useMemo(()=>{m.forEach((w,C)=>m.set(C,!1))},[r]),R.useEffect(()=>{!r&&!m.size&&i&&i()},[r]),c==="popLayout"&&(e=A.jsx(JD,{isPresent:r,anchorX:f,root:h,children:e})),A.jsx(jc.Provider,{value:y,children:e})};function t2(){return new Map}function r1(e=!0){const t=R.useContext(jc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:s}=t,l=R.useId();R.useEffect(()=>{if(e)return s(l)},[e]);const c=R.useCallback(()=>e&&i&&i(l),[l,i,e]);return!r&&i?[!1,c]:[!0]}const Gu=e=>e.key||"";function Pb(e){const t=[];return R.Children.forEach(e,r=>{R.isValidElement(r)&&t.push(r)}),t}const n2=({children:e,custom:t,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:f="left",root:h})=>{const[m,g]=r1(c),v=R.useMemo(()=>Pb(e),[e]),y=c&&!m?[]:v.map(Gu),w=R.useRef(!0),C=R.useRef(v),T=Gm(()=>new Map),[S,_]=R.useState(v),[E,O]=R.useState(v);f_(()=>{w.current=!1,C.current=v;for(let L=0;L<E.length;L++){const D=Gu(E[L]);y.includes(D)?T.delete(D):T.get(D)!==!0&&T.set(D,!1)}},[E,y.length,y.join("-")]);const N=[];if(v!==S){let L=[...v];for(let D=0;D<E.length;D++){const M=E[D],$=Gu(M);y.includes($)||(L.splice(D,0,M),N.push(M))}return l==="wait"&&N.length&&(L=N),O(Pb(L)),_(v),null}const{forceRender:z}=R.useContext(Xm);return A.jsx(A.Fragment,{children:E.map(L=>{const D=Gu(L),M=c&&!m?!1:v===E||y.includes(D),$=()=>{if(T.has(D))T.set(D,!0);else return;let Z=!0;T.forEach(ee=>{ee||(Z=!1)}),Z&&(z?.(),O(C.current),c&&g?.(),i&&i())};return A.jsx(e2,{isPresent:M,initial:!w.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:h,onExitComplete:M?void 0:$,anchorX:f,children:L},D)})})},i1=R.createContext({strict:!1}),kb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},js={};for(const e in kb)js[e]={isEnabled:t=>kb[e].some(r=>!!t[r])};function r2(e){for(const t in e)js[t]={...js[t],...e[t]}}const i2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||i2.has(e)}let a1=e=>!mc(e);function a2(e){typeof e=="function"&&(a1=t=>t.startsWith("on")?!mc(t):e(t))}try{a2(require("@emotion/is-prop-valid").default)}catch{}function s2(e,t,r){const i={};for(const s in e)s==="values"&&typeof e.values=="object"||(a1(s)||r===!0&&mc(s)||!t&&!mc(s)||e.draggable&&s.startsWith("onDrag"))&&(i[s]=e[s]);return i}const Mc=R.createContext({});function Nc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function al(e){return typeof e=="string"||Array.isArray(e)}const pp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gp=["initial",...pp];function Pc(e){return Nc(e.animate)||gp.some(t=>al(e[t]))}function s1(e){return!!(Pc(e)||e.variants)}function o2(e,t){if(Pc(e)){const{initial:r,animate:i}=e;return{initial:r===!1||al(r)?r:void 0,animate:al(i)?i:void 0}}return e.inherit!==!1?t:{}}function l2(e){const{initial:t,animate:r}=o2(e,R.useContext(Mc));return R.useMemo(()=>({initial:t,animate:r}),[zb(t),zb(r)])}function zb(e){return Array.isArray(e)?e.join(" "):e}function Lb(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ve.test(e))e=parseFloat(e);else return e;const r=Lb(e,t.target.x),i=Lb(e,t.target.y);return`${r}% ${i}%`}},u2={correct:(e,{treeScale:t,projectionDelta:r})=>{const i=e,s=Vi.parse(e);if(s.length>5)return i;const l=Vi.createTransformer(e),c=typeof s[0]!="number"?1:0,f=r.x.scale*t.x,h=r.y.scale*t.y;s[0+c]/=f,s[1+c]/=h;const m=ht(f,h,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}},em={borderRadius:{...qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qo,borderTopRightRadius:qo,borderBottomLeftRadius:qo,borderBottomRightRadius:qo,boxShadow:u2};function o1(e,{layout:t,layoutId:r}){return Vs.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!em[e]||e==="opacity")}const c2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f2=Bs.length;function h2(e,t,r){let i="",s=!0;for(let l=0;l<f2;l++){const c=Bs[l],f=e[c];if(f===void 0)continue;let h=!0;if(typeof f=="number"?h=f===(c.startsWith("scale")?1:0):h=parseFloat(f)===0,!h||r){const m=Q_(f,fp[c]);if(!h){s=!1;const g=c2[c]||c;i+=`${g}(${m}) `}r&&(t[c]=m)}}return i=i.trim(),r?i=r(t,s?"":i):s&&(i="none"),i}function vp(e,t,r){const{style:i,vars:s,transformOrigin:l}=e;let c=!1,f=!1;for(const h in t){const m=t[h];if(Vs.has(h)){c=!0;continue}else if(A_(h)){s[h]=m;continue}else{const g=Q_(m,fp[h]);h.startsWith("origin")?(f=!0,l[h]=g):i[h]=g}}if(t.transform||(c||r?i.transform=h2(t,e.transform,r):i.transform&&(i.transform="none")),f){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${h} ${m} ${g}`}}const yp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l1(e,t,r){for(const i in t)!tn(t[i])&&!o1(i,r)&&(e[i]=t[i])}function d2({transformTemplate:e},t){return R.useMemo(()=>{const r=yp();return vp(r,t,e),Object.assign({},r.vars,r.style)},[t])}function m2(e,t){const r=e.style||{},i={};return l1(i,r,e),Object.assign(i,d2(e,t)),i}function p2(e,t){const r={},i=m2(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const g2={offset:"stroke-dashoffset",array:"stroke-dasharray"},v2={offset:"strokeDashoffset",array:"strokeDasharray"};function y2(e,t,r=1,i=0,s=!0){e.pathLength=1;const l=s?g2:v2;e[l.offset]=ve.transform(-i);const c=ve.transform(t),f=ve.transform(r);e[l.array]=`${c} ${f}`}function u1(e,{attrX:t,attrY:r,attrScale:i,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...f},h,m,g){if(vp(e,f,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:y}=e;v.transform&&(y.transform=v.transform,delete v.transform),(y.transform||v.transformOrigin)&&(y.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),y.transform&&(y.transformBox=g?.transformBox??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),i!==void 0&&(v.scale=i),s!==void 0&&y2(v,s,l,c,!1)}const c1=()=>({...yp(),attrs:{}}),f1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function b2(e,t,r,i){const s=R.useMemo(()=>{const l=c1();return u1(l,t,f1(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};l1(l,e.style,e),s.style={...l,...s.style}}return s}const w2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bp(e){return typeof e!="string"||e.includes("-")?!1:!!(w2.indexOf(e)>-1||/[A-Z]/u.test(e))}function S2(e,t,r,{latestValues:i},s,l=!1){const f=(bp(e)?b2:p2)(t,i,s,e),h=s2(t,typeof e=="string",l),m=e!==R.Fragment?{...h,...f,ref:r}:{},{children:g}=t,v=R.useMemo(()=>tn(g)?g.get():g,[g]);return R.createElement(e,{...m,children:v})}function Ub(e){const t=[{},{}];return e?.values.forEach((r,i)=>{t[0][i]=r.get(),t[1][i]=r.getVelocity()}),t}function wp(e,t,r,i){if(typeof t=="function"){const[s,l]=Ub(i);t=t(r!==void 0?r:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=Ub(i);t=t(r!==void 0?r:e.custom,s,l)}return t}function ic(e){return tn(e)?e.get():e}function _2({scrapeMotionValuesFromProps:e,createRenderState:t},r,i,s){return{latestValues:T2(r,i,s,e),renderState:t()}}function T2(e,t,r,i){const s={},l=i(e,{});for(const y in l)s[y]=ic(l[y]);let{initial:c,animate:f}=e;const h=Pc(e),m=s1(e);t&&m&&!h&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let g=r?r.initial===!1:!1;g=g||c===!1;const v=g?f:c;if(v&&typeof v!="boolean"&&!Nc(v)){const y=Array.isArray(v)?v:[v];for(let w=0;w<y.length;w++){const C=wp(e,y[w]);if(C){const{transitionEnd:T,transition:S,..._}=C;for(const E in _){let O=_[E];if(Array.isArray(O)){const N=g?O.length-1:0;O=O[N]}O!==null&&(s[E]=O)}for(const E in T)s[E]=T[E]}}}return s}const h1=e=>(t,r)=>{const i=R.useContext(Mc),s=R.useContext(jc),l=()=>_2(e,t,i,s);return r?l():Gm(l)};function Sp(e,t,r){const{style:i}=e,s={};for(const l in i)(tn(i[l])||t.style&&tn(t.style[l])||o1(l,e)||r?.getValue(l)?.liveStyle!==void 0)&&(s[l]=i[l]);return s}const E2=h1({scrapeMotionValuesFromProps:Sp,createRenderState:yp});function d1(e,t,r){const i=Sp(e,t,r);for(const s in e)if(tn(e[s])||tn(t[s])){const l=Bs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[l]=e[s]}return i}const x2=h1({scrapeMotionValuesFromProps:d1,createRenderState:c1}),C2=Symbol.for("motionComponentSymbol");function Ss(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O2(e,t,r){return R.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),r&&(typeof r=="function"?r(i):Ss(r)&&(r.current=i))},[t])}const _p=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A2="framerAppearId",m1="data-"+_p(A2),p1=R.createContext({});function R2(e,t,r,i,s){const{visualElement:l}=R.useContext(Mc),c=R.useContext(i1),f=R.useContext(jc),h=R.useContext(mp).reducedMotion,m=R.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:l,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,v=R.useContext(p1);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&D2(m.current,r,s,v);const y=R.useRef(!1);R.useInsertionEffect(()=>{g&&y.current&&g.update(r,f)});const w=r[m1],C=R.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return f_(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),R.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),C.current=!1),g.enteringChildren=void 0)}),g}function D2(e,t,r,i){const{layoutId:s,layout:l,drag:c,dragConstraints:f,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:g1(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||f&&Ss(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:m})}function g1(e){if(e)return e.options.allowProjection!==!1?e.projection:g1(e.parent)}function pd(e,{forwardMotionProps:t=!1}={},r,i){r&&r2(r);const s=bp(e)?x2:E2;function l(f,h){let m;const g={...R.useContext(mp),...f,layoutId:j2(f)},{isStatic:v}=g,y=l2(f),w=s(f,v);if(!v&&Km){M2();const C=N2(g);m=C.MeasureLayout,y.visualElement=R2(e,w,g,i,C.ProjectionNode)}return A.jsxs(Mc.Provider,{value:y,children:[m&&y.visualElement?A.jsx(m,{visualElement:y.visualElement,...g}):null,S2(e,f,O2(w,y.visualElement,h),w,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=R.forwardRef(l);return c[C2]=e,c}function j2({layoutId:e}){const t=R.useContext(Xm).id;return t&&e!==void 0?t+"-"+e:e}function M2(e,t){R.useContext(i1).strict}function N2(e){const{drag:t,layout:r}=js;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function P2(e,t){if(typeof Proxy>"u")return pd;const r=new Map,i=(l,c)=>pd(l,c,e,t),s=(l,c)=>i(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?i:(r.has(c)||r.set(c,pd(c,void 0,e,t)),r.get(c))})}function v1({top:e,left:t,right:r,bottom:i}){return{x:{min:t,max:r},y:{min:e,max:i}}}function k2({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function z2(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function gd(e){return e===void 0||e===1}function tm({scale:e,scaleX:t,scaleY:r}){return!gd(e)||!gd(t)||!gd(r)}function ha(e){return tm(e)||y1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function y1(e){return Bb(e.x)||Bb(e.y)}function Bb(e){return e&&e!=="0%"}function pc(e,t,r){const i=e-r,s=t*i;return r+s}function Vb(e,t,r,i,s){return s!==void 0&&(e=pc(e,s,i)),pc(e,r,i)+t}function nm(e,t=0,r=1,i,s){e.min=Vb(e.min,t,r,i,s),e.max=Vb(e.max,t,r,i,s)}function b1(e,{x:t,y:r}){nm(e.x,t.translate,t.scale,t.originPoint),nm(e.y,r.translate,r.scale,r.originPoint)}const Hb=.999999999999,qb=1.0000000000001;function L2(e,t,r,i=!1){const s=r.length;if(!s)return;t.x=t.y=1;let l,c;for(let f=0;f<s;f++){l=r[f],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ts(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,b1(e,c)),i&&ha(l.latestValues)&&Ts(e,l.latestValues))}t.x<qb&&t.x>Hb&&(t.x=1),t.y<qb&&t.y>Hb&&(t.y=1)}function _s(e,t){e.min=e.min+t,e.max=e.max+t}function Yb(e,t,r,i,s=.5){const l=ht(e.min,e.max,s);nm(e,t,r,l,i)}function Ts(e,t){Yb(e.x,t.x,t.scaleX,t.scale,t.originX),Yb(e.y,t.y,t.scaleY,t.scale,t.originY)}function w1(e,t){return v1(z2(e.getBoundingClientRect(),t))}function U2(e,t,r){const i=w1(e,r),{scroll:s}=t;return s&&(_s(i.x,s.offset.x),_s(i.y,s.offset.y)),i}const $b=()=>({translate:0,scale:1,origin:0,originPoint:0}),Es=()=>({x:$b(),y:$b()}),Xb=()=>({min:0,max:0}),kt=()=>({x:Xb(),y:Xb()}),rm={current:null},S1={current:!1};function B2(){if(S1.current=!0,!!Km)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rm.current=e.matches;e.addEventListener("change",t),t()}else rm.current=!1}const V2=new WeakMap;function H2(e,t,r){for(const i in t){const s=t[i],l=r[i];if(tn(s))e.addValue(i,s);else if(tn(l))e.addValue(i,Ds(s,{owner:e}));else if(l!==s)if(e.hasValue(i)){const c=e.getValue(i);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(i);e.addValue(i,Ds(c!==void 0?c:s,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const Gb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q2{scrapeMotionValuesFromProps(t,r,i){return{}}constructor({parent:t,props:r,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=up,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=yn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,lt.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=r,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Pc(r),this.isVariantNode=s1(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in v){const w=v[y];h[y]!==void 0&&tn(w)&&w.set(h[y])}}mount(t){this.current=t,V2.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),S1.current||B2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bi(this.notifyUpdate),Bi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Vs.has(t);i&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in js){const r=js[t];if(!r)continue;const{isEnabled:i,Feature:s}=r;if(!this.features[t]&&s&&i(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<Gb.length;i++){const s=Gb[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=H2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const i=this.values.get(t);r!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&r!==void 0&&(i=Ds(r===null?void 0:r,{owner:this}),this.addValue(t,i)),i}readValue(t,r){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(h_(i)||m_(i))?i=parseFloat(i):!ID(i)&&Vi.test(r)&&(i=F_(t,r)),this.setBaseTarget(t,tn(i)?i.get():i)),tn(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=wp(this.props,r,this.presenceContext?.custom);l&&(i=l[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!tn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Zm),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){hp.render(this.render)}}class _1 extends q2{constructor(){super(...arguments),this.KeyframeResolver=LD}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:i}){delete r[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function T1(e,{style:t,vars:r},i,s){const l=e.style;let c;for(c in t)l[c]=t[c];s?.applyProjectionStyles(l,i);for(c in r)l.setProperty(c,r[c])}function Y2(e){return window.getComputedStyle(e)}class $2 extends _1{constructor(){super(...arguments),this.type="html",this.renderInstance=T1}readValueFromInstance(t,r){if(Vs.has(r))return this.projection?.isProjecting?Kd(r):nD(t,r);{const i=Y2(t),s=(A_(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return w1(t,r)}build(t,r,i){vp(t,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,r,i){return Sp(t,r,i)}}const E1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X2(e,t,r,i){T1(e,t,void 0,i);for(const s in t.attrs)e.setAttribute(E1.has(s)?s:_p(s),t.attrs[s])}class G2 extends _1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vs.has(r)){const i=I_(r);return i&&i.default||0}return r=E1.has(r)?r:_p(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,i){return d1(t,r,i)}build(t,r,i){u1(t,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,r,i,s){X2(t,r,i,s)}mount(t){this.isSVGTag=f1(t.tagName),super.mount(t)}}const K2=(e,t)=>bp(e)?new G2(t):new $2(t,{allowProjection:e!==R.Fragment});function Cs(e,t,r){const i=e.getProps();return wp(i,t,r!==void 0?r:i.custom,e)}const im=e=>Array.isArray(e);function W2(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ds(r))}function I2(e){return im(e)?e[e.length-1]||0:e}function F2(e,t){const r=Cs(e,t);let{transitionEnd:i={},transition:s={},...l}=r||{};l={...l,...i};for(const c in l){const f=I2(l[c]);W2(e,c,f)}}function Q2(e){return!!(tn(e)&&e.add)}function am(e,t){const r=e.getValue("willChange");if(Q2(r))return r.add(t);if(!r&&ri.WillChange){const i=new ri.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function x1(e){return e.props[m1]}const Z2=e=>e!==null;function J2(e,{repeat:t,repeatType:r="loop"},i){const s=e.filter(Z2),l=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[l]}const ej={type:"spring",stiffness:500,damping:25,restSpeed:10},tj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nj={type:"keyframes",duration:.8},rj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ij=(e,{keyframes:t})=>t.length>2?nj:Vs.has(e)?e.startsWith("scale")?tj(t[1]):ej:rj;function aj({when:e,delay:t,delayChildren:r,staggerChildren:i,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:f,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const Tp=(e,t,r,i={},s,l)=>c=>{const f=cp(i,e)||{},h=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Or(h);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:y=>{t.set(y),f.onUpdate&&f.onUpdate(y)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:s};aj(f)||Object.assign(g,ij(e,g)),g.duration&&(g.duration=Or(g.duration)),g.repeatDelay&&(g.repeatDelay=Or(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Zd(g),g.delay===0&&(v=!0)),(ri.instantAnimations||ri.skipAnimations)&&(v=!0,Zd(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,v&&!l&&t.get()!==void 0){const y=J2(g.keyframes,f);if(y!==void 0){lt.update(()=>{g.onUpdate(y),g.onComplete()});return}}return f.isSync?new lp(g):new xD(g)};function sj({protectedKeys:e,needsAnimating:t},r){const i=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,i}function C1(e,t,{delay:r=0,transitionOverride:i,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...f}=t;i&&(l=i);const h=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const g in f){const v=e.getValue(g,e.latestValues[g]??null),y=f[g];if(y===void 0||m&&sj(m,g))continue;const w={delay:r,...cp(l||{},g)},C=v.get();if(C!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===C&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const _=x1(e);if(_){const E=window.MotionHandoffAnimation(_,g,lt);E!==null&&(w.startTime=E,T=!0)}}am(e,g),v.start(Tp(g,v,y,e.shouldReduceMotion&&G_.has(g)?{type:!1}:w,e,T));const S=v.animation;S&&h.push(S)}return c&&Promise.all(h).then(()=>{lt.update(()=>{c&&F2(e,c)})}),h}function O1(e,t,r,i=0,s=1){const l=Array.from(e).sort((m,g)=>m.sortNodePosition(g)).indexOf(t),c=e.size,f=(c-1)*i;return typeof r=="function"?r(l,c):s===1?l*i:f-l*i}function sm(e,t,r={}){const i=Cs(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const l=i?()=>Promise.all(C1(e,i,r)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:v}=s;return oj(e,t,h,m,g,v,r)}:()=>Promise.resolve(),{when:f}=s;if(f){const[h,m]=f==="beforeChildren"?[l,c]:[c,l];return h().then(()=>m())}else return Promise.all([l(),c(r.delay)])}function oj(e,t,r=0,i=0,s=0,l=1,c){const f=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),f.push(sm(h,t,{...c,delay:r+(typeof i=="function"?0:i)+O1(e.variantChildren,h,i,s,l)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(f)}function lj(e,t,r={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const s=t.map(l=>sm(e,l,r));i=Promise.all(s)}else if(typeof t=="string")i=sm(e,t,r);else{const s=typeof t=="function"?Cs(e,t,r.custom):t;i=Promise.all(C1(e,s,r))}return i.then(()=>{e.notify("AnimationComplete",t)})}function A1(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}const uj=gp.length;function R1(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?R1(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uj;r++){const i=gp[r],s=e.props[i];(al(s)||s===!1)&&(t[i]=s)}return t}const cj=[...pp].reverse(),fj=pp.length;function hj(e){return t=>Promise.all(t.map(({animation:r,options:i})=>lj(e,r,i)))}function dj(e){let t=hj(e),r=Kb(),i=!0;const s=h=>(m,g)=>{const v=Cs(e,g,h==="exit"?e.presenceContext?.custom:void 0);if(v){const{transition:y,transitionEnd:w,...C}=v;m={...m,...C,...w}}return m};function l(h){t=h(e)}function c(h){const{props:m}=e,g=R1(e.parent)||{},v=[],y=new Set;let w={},C=1/0;for(let S=0;S<fj;S++){const _=cj[S],E=r[_],O=m[_]!==void 0?m[_]:g[_],N=al(O),z=_===h?E.isActive:null;z===!1&&(C=S);let L=O===g[_]&&O!==m[_]&&N;if(L&&i&&e.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...w},!E.isActive&&z===null||!O&&!E.prevProp||Nc(O)||typeof O=="boolean")continue;const D=mj(E.prevProp,O);let M=D||_===h&&E.isActive&&!L&&N||S>C&&N,$=!1;const Z=Array.isArray(O)?O:[O];let ee=Z.reduce(s(_),{});z===!1&&(ee={});const{prevResolvedValues:me={}}=E,re={...me,...ee},le=K=>{M=!0,y.has(K)&&($=!0,y.delete(K)),E.needsAnimating[K]=!0;const Q=e.getValue(K);Q&&(Q.liveStyle=!1)};for(const K in re){const Q=ee[K],pe=me[K];if(w.hasOwnProperty(K))continue;let ye=!1;im(Q)&&im(pe)?ye=!A1(Q,pe):ye=Q!==pe,ye?Q!=null?le(K):y.add(K):Q!==void 0&&y.has(K)?le(K):E.protectedKeys[K]=!0}E.prevProp=O,E.prevResolvedValues=ee,E.isActive&&(w={...w,...ee}),i&&e.blockInitialAnimation&&(M=!1);const Te=L&&D;M&&(!Te||$)&&v.push(...Z.map(K=>{const Q={type:_};if(typeof K=="string"&&i&&!Te&&e.manuallyAnimateOnMount&&e.parent){const{parent:pe}=e,ye=Cs(pe,K);if(pe.enteringChildren&&ye){const{delayChildren:P}=ye.transition||{};Q.delay=O1(pe.enteringChildren,e,P)}}return{animation:K,options:Q}}))}if(y.size){const S={};if(typeof m.initial!="boolean"){const _=Cs(e,Array.isArray(m.initial)?m.initial[0]:m.initial);_&&_.transition&&(S.transition=_.transition)}y.forEach(_=>{const E=e.getBaseTarget(_),O=e.getValue(_);O&&(O.liveStyle=!0),S[_]=E??null}),v.push({animation:S})}let T=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(T=!1),i=!1,T?t(v):Promise.resolve()}function f(h,m){if(r[h].isActive===m)return Promise.resolve();e.variantChildren?.forEach(v=>v.animationState?.setActive(h,m)),r[h].isActive=m;const g=c(h);for(const v in r)r[v].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>r,reset:()=>{r=Kb()}}}function mj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!A1(t,e):!1}function la(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kb(){return{animate:la(!0),whileInView:la(),whileHover:la(),whileTap:la(),whileDrag:la(),whileFocus:la(),exit:la()}}class Yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class pj extends Yi{constructor(t){super(t),t.animationState||(t.animationState=dj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Nc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let gj=0;class vj extends Yi{constructor(){super(...arguments),this.id=gj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const yj={animation:{Feature:pj},exit:{Feature:vj}};function sl(e,t,r,i={passive:!0}){return e.addEventListener(t,r,i),()=>e.removeEventListener(t,r)}function wl(e){return{point:{x:e.pageX,y:e.pageY}}}const bj=e=>t=>dp(t)&&e(t,wl(t));function Qo(e,t,r,i){return sl(e,t,bj(r),i)}const D1=1e-4,wj=1-D1,Sj=1+D1,j1=.01,_j=0-j1,Tj=0+j1;function sn(e){return e.max-e.min}function Ej(e,t,r){return Math.abs(e-t)<=r}function Wb(e,t,r,i=.5){e.origin=i,e.originPoint=ht(t.min,t.max,e.origin),e.scale=sn(r)/sn(t),e.translate=ht(r.min,r.max,e.origin)-e.originPoint,(e.scale>=wj&&e.scale<=Sj||isNaN(e.scale))&&(e.scale=1),(e.translate>=_j&&e.translate<=Tj||isNaN(e.translate))&&(e.translate=0)}function Zo(e,t,r,i){Wb(e.x,t.x,r.x,i?i.originX:void 0),Wb(e.y,t.y,r.y,i?i.originY:void 0)}function Ib(e,t,r){e.min=r.min+t.min,e.max=e.min+sn(t)}function xj(e,t,r){Ib(e.x,t.x,r.x),Ib(e.y,t.y,r.y)}function Fb(e,t,r){e.min=t.min-r.min,e.max=e.min+sn(t)}function gc(e,t,r){Fb(e.x,t.x,r.x),Fb(e.y,t.y,r.y)}function Fn(e){return[e("x"),e("y")]}const M1=({current:e})=>e?e.ownerDocument.defaultView:null,Qb=(e,t)=>Math.abs(e-t);function Cj(e,t){const r=Qb(e.x,t.x),i=Qb(e.y,t.y);return Math.sqrt(r**2+i**2)}class N1{constructor(t,r,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=yd(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,C=Cj(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!C)return;const{point:T}=y,{timestamp:S}=Zt;this.history.push({...T,timestamp:S});const{onStart:_,onMove:E}=this.handlers;w||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=vd(w,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:C,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=yd(y.type==="pointercancel"?this.lastMoveEventInfo:vd(w,this.transformPagePoint),this.history);this.startEvent&&C&&C(y,_),T&&T(y,_)},!dp(t))return;this.dragSnapToOrigin=l,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=c,this.contextWindow=s||window;const f=wl(t),h=vd(f,this.transformPagePoint),{point:m}=h,{timestamp:g}=Zt;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=r;v&&v(t,yd(h,this.history)),this.removeListeners=vl(Qo(this.contextWindow,"pointermove",this.handlePointerMove),Qo(this.contextWindow,"pointerup",this.handlePointerUp),Qo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bi(this.updatePoint)}}function vd(e,t){return t?{point:t(e.point)}:e}function Zb(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yd({point:e},t){return{point:e,delta:Zb(e,P1(t)),offset:Zb(e,Oj(t)),velocity:Aj(t,.1)}}function Oj(e){return e[0]}function P1(e){return e[e.length-1]}function Aj(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,i=null;const s=P1(e);for(;r>=0&&(i=e[r],!(s.timestamp-i.timestamp>Or(t)));)r--;if(!i)return{x:0,y:0};const l=Qn(s.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-i.x)/l,y:(s.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Rj(e,{min:t,max:r},i){return t!==void 0&&e<t?e=i?ht(t,e,i.min):Math.max(e,t):r!==void 0&&e>r&&(e=i?ht(r,e,i.max):Math.min(e,r)),e}function Jb(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Dj(e,{top:t,left:r,bottom:i,right:s}){return{x:Jb(e.x,r,s),y:Jb(e.y,t,i)}}function ew(e,t){let r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,i]=[i,r]),{min:r,max:i}}function jj(e,t){return{x:ew(e.x,t.x),y:ew(e.y,t.y)}}function Mj(e,t){let r=.5;const i=sn(e),s=sn(t);return s>i?r=nl(t.min,t.max-i,e.min):i>s&&(r=nl(e.min,e.max-s,t.min)),ni(0,1,r)}function Nj(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const om=.35;function Pj(e=om){return e===!1?e=0:e===!0&&(e=om),{x:tw(e,"left","right"),y:tw(e,"top","bottom")}}function tw(e,t,r){return{min:nw(e,t),max:nw(e,r)}}function nw(e,t){return typeof e=="number"?e:e[t]||0}const kj=new WeakMap;class zj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(wl(v).point)},c=(v,y)=>{const{drag:w,dragPropagation:C,onDragStart:T}=this.getProps();if(w&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HD(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(_=>{let E=this.getAxisMotionValue(_).get()||0;if(Ar.test(E)){const{projection:O}=this.visualElement;if(O&&O.layout){const N=O.layout.layoutBox[_];N&&(E=sn(N)*(parseFloat(E)/100))}}this.originPoint[_]=E}),T&&lt.postRender(()=>T(v,y)),am(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},f=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y;const{dragPropagation:w,dragDirectionLock:C,onDirectionLock:T,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:_}=y;if(C&&this.currentDirection===null){this.currentDirection=Lj(_),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),S&&S(v,y)},h=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y,this.stop(v,y),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Fn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new N1(t,{onSessionStart:l,onStart:c,onMove:f,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:M1(this.visualElement)})}stop(t,r){const i=t||this.latestPointerEvent,s=r||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!i)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&lt.postRender(()=>f(i,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,i){const{drag:s}=this.getProps();if(!i||!Ku(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=Rj(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&Ss(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Dj(i.layoutBox,t):this.constraints=!1,this.elastic=Pj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Nj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ss(t))return!1;const i=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=U2(i,s.root,this.visualElement.getTransformPagePoint());let c=jj(s.layout.layoutBox,l);if(r){const f=r(k2(c));this.hasMutatedConstraints=!!f,f&&(c=v1(f))}return c}startAnimation(t){const{drag:r,dragMomentum:i,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),h=this.constraints||{},m=Fn(g=>{if(!Ku(g,r,this.currentDirection))return;let v=h&&h[g]||{};c&&(v={min:0,max:0});const y=s?200:1e6,w=s?40:1e7,C={type:"inertia",velocity:i?t[g]:0,bounceStiffness:y,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(f)}startAxisValueAnimation(t,r){const i=this.getAxisMotionValue(t);return am(this.visualElement,t),i.start(Tp(t,i,0,r,this.visualElement,!1))}stopAnimation(){Fn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),s=i[r];return s||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Fn(r=>{const{drag:i}=this.getProps();if(!Ku(r,i,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(r);if(s&&s.layout){const{min:c,max:f}=s.layout.layoutBox[r];l.set(t[r]-ht(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Ss(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const h=f.get();s[c]=Mj({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Fn(c=>{if(!Ku(c,t,null))return;const f=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];f.set(ht(h,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;kj.set(this.visualElement,this);const t=this.visualElement.current,r=Qo(t,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Ss(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),lt.read(i);const c=sl(window,"resize",()=>this.scalePositionWithinConstraints()),f=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Fn(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=h[g].translate,v.set(v.get()+h[g].translate))}),this.visualElement.render())}));return()=>{c(),r(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=om,dragMomentum:f=!0}=t;return{...t,drag:r,dragDirectionLock:i,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Ku(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Lj(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Uj extends Yi{constructor(t){super(t),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new zj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const rw=e=>(t,r)=>{e&&lt.postRender(()=>e(t,r))};class Bj extends Yi{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(t){this.session=new N1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:M1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:rw(t),onStart:rw(r),onMove:i,onEnd:(l,c)=>{delete this.session,s&&lt.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Qo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let bd=!1;class Vj extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i,layoutId:s}=this.props,{projection:l}=t;l&&(r.group&&r.group.add(l),i&&i.register&&s&&i.register(l),bd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:i,drag:s,isPresent:l}=this.props,{projection:c}=i;return c&&(c.isPresent=l,bd=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||lt.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:s}=t;bd=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function k1(e){const[t,r]=r1(),i=R.useContext(Xm);return A.jsx(Vj,{...e,layoutGroup:i,switchLayoutGroup:R.useContext(p1),isPresent:t,safeToRemove:r})}function Hj(e,t,r){const i=tn(e)?e:Ds(e);return i.start(Tp("",i,t,r)),i.animation}const qj=(e,t)=>e.depth-t.depth;class Yj{constructor(){this.children=[],this.isDirty=!1}add(t){Wm(this.children,t),this.isDirty=!0}remove(t){Im(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qj),this.isDirty=!1,this.children.forEach(t)}}function $j(e,t){const r=yn.now(),i=({timestamp:s})=>{const l=s-r;l>=t&&(Bi(i),e(l-t))};return lt.setup(i,!0),()=>Bi(i)}const z1=["TopLeft","TopRight","BottomLeft","BottomRight"],Xj=z1.length,iw=e=>typeof e=="string"?parseFloat(e):e,aw=e=>typeof e=="number"||ve.test(e);function Gj(e,t,r,i,s,l){s?(e.opacity=ht(0,r.opacity??1,Kj(i)),e.opacityExit=ht(t.opacity??1,0,Wj(i))):l&&(e.opacity=ht(t.opacity??1,r.opacity??1,i));for(let c=0;c<Xj;c++){const f=`border${z1[c]}Radius`;let h=sw(t,f),m=sw(r,f);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||aw(h)===aw(m)?(e[f]=Math.max(ht(iw(h),iw(m),i),0),(Ar.test(m)||Ar.test(h))&&(e[f]+="%")):e[f]=m}(t.rotate||r.rotate)&&(e.rotate=ht(t.rotate||0,r.rotate||0,i))}function sw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Kj=L1(0,.5,__),Wj=L1(.5,.95,Jn);function L1(e,t,r){return i=>i<e?0:i>t?1:r(nl(e,t,i))}function ow(e,t){e.min=t.min,e.max=t.max}function fr(e,t){ow(e.x,t.x),ow(e.y,t.y)}function lw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uw(e,t,r,i,s){return e-=t,e=pc(e,1/r,i),s!==void 0&&(e=pc(e,1/s,i)),e}function Ij(e,t=0,r=1,i=.5,s,l=e,c=e){if(Ar.test(t)&&(t=parseFloat(t),t=ht(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=ht(l.min,l.max,i);e===l&&(f-=t),e.min=uw(e.min,t,r,f,s),e.max=uw(e.max,t,r,f,s)}function cw(e,t,[r,i,s],l,c){Ij(e,t[r],t[i],t[s],t.scale,l,c)}const Fj=["x","scaleX","originX"],Qj=["y","scaleY","originY"];function fw(e,t,r,i){cw(e.x,t,Fj,r?r.x:void 0,i?i.x:void 0),cw(e.y,t,Qj,r?r.y:void 0,i?i.y:void 0)}function hw(e){return e.translate===0&&e.scale===1}function U1(e){return hw(e.x)&&hw(e.y)}function dw(e,t){return e.min===t.min&&e.max===t.max}function Zj(e,t){return dw(e.x,t.x)&&dw(e.y,t.y)}function mw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function B1(e,t){return mw(e.x,t.x)&&mw(e.y,t.y)}function pw(e){return sn(e.x)/sn(e.y)}function gw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Jj{constructor(){this.members=[]}add(t){Wm(this.members,t),t.scheduleRender()}remove(t){if(Im(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let i;for(let s=r;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,r){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,r&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:i}=t;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eM(e,t,r){let i="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=r?.z||0;if((s||l||c)&&(i=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:y,skewX:w,skewY:C}=r;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),y&&(i+=`rotateY(${y}deg) `),w&&(i+=`skewX(${w}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=e.x.scale*t.x,h=e.y.scale*t.y;return(f!==1||h!==1)&&(i+=`scale(${f}, ${h})`),i||"none"}const wd=["","X","Y","Z"],tM=1e3;let nM=0;function Sd(e,t,r,i){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),i&&(i[e]=0))}function V1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=x1(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",lt,!(s||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&V1(i)}function H1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(c={},f=t?.()){this.id=nM++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(aM),this.nodes.forEach(uM),this.nodes.forEach(cM),this.nodes.forEach(sM)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Yj)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Zm),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const h=this.eventHandlers.get(c);h&&h.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=n1(c)&&!KD(c),this.instance=c;const{layoutId:f,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||f)&&(this.isLayoutDirty=!0),e){let g,v=0;const y=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{v=window.innerWidth}),e(c,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,g&&g(),g=$j(y,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(bw)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&m&&(f||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||pM,{onLayoutAnimationStart:T,onLayoutAnimationComplete:S}=m.getProps(),_=!this.targetLayout||!B1(this.targetLayout,w),E=!v&&y;if(this.options.layoutRoot||this.resumeFrom||E||v&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...cp(C,"layout"),onPlay:T,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,E)}else v||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&V1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:h}=this.options;if(f===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lM),this.nodes.forEach(rM),this.nodes.forEach(iM)):this.nodes.forEach(yw),this.clearAllSnapshots();const f=yn.now();Zt.delta=ni(0,1e3/60,f-Zt.timestamp),Zt.timestamp=f,Zt.isProcessing=!0,ud.update.process(Zt),ud.preRender.process(Zt),ud.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oM),this.sharedNodes.forEach(hM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!U1(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;c&&this.instance&&(f||ha(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let h=this.removeElementScroll(f);return c&&(h=this.removeTransform(h)),gM(h),{animationId:this.root.animationId,measuredBox:f,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return kt();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vM))){const{scroll:m}=this.root;m&&(_s(f.x,m.offset.x),_s(f.y,m.offset.y))}return f}removeElementScroll(c){const f=kt();if(fr(f,c),this.scroll?.wasRoot)return f;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:v}=m;m!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&fr(f,c),_s(f.x,g.offset.x),_s(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const h=kt();fr(h,c);for(let m=0;m<this.path.length;m++){const g=this.path[m];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ts(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ha(g.latestValues)&&Ts(h,g.latestValues)}return ha(this.latestValues)&&Ts(h,this.latestValues),h}removeTransform(c){const f=kt();fr(f,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!ha(m.latestValues))continue;tm(m.latestValues)&&m.updateSnapshot();const g=kt(),v=m.measurePageBox();fr(g,v),fw(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ha(this.latestValues)&&fw(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==f;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!this.layout||!(g||v))return;this.resolvedRelativeTargetAt=Zt.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kt(),this.targetWithTransforms=kt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fr(this.target,this.layout.layoutBox),b1(this.target,this.targetDelta)):fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tm(this.parent.latestValues)||y1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,h){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kt(),this.relativeTargetOrigin=kt(),gc(this.relativeTargetOrigin,f,h),fr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;fr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;L2(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=kt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lw(this.prevProjectionDelta.x,this.projectionDelta.x),lw(this.prevProjectionDelta.y,this.projectionDelta.y)),Zo(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==y||!gw(this.projectionDelta.x,this.prevProjectionDelta.x)||!gw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Es(),this.projectionDelta=Es(),this.projectionDeltaWithTransform=Es()}setAnimationOrigin(c,f=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},v=Es();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const y=kt(),w=h?h.source:void 0,C=this.layout?this.layout.source:void 0,T=w!==C,S=this.getStack(),_=!S||S.members.length<=1,E=!!(T&&!_&&this.options.crossfade===!0&&!this.path.some(mM));this.animationProgress=0;let O;this.mixTargetDelta=N=>{const z=N/1e3;ww(v.x,c.x,z),ww(v.y,c.y,z),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dM(this.relativeTarget,this.relativeTargetOrigin,y,z),O&&Zj(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=kt()),fr(O,this.relativeTarget)),T&&(this.animationValues=g,Gj(g,m,this.latestValues,z,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Bi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ds(0)),this.currentAnimation=Hj(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:h,layout:m,latestValues:g}=c;if(!(!f||!h||!m)){if(this!==c&&this.layout&&m&&q1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||kt();const v=sn(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+v;const y=sn(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}fr(f,h),Ts(f,g),Zo(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Jj),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(f=!0),!f)return;const m={};h.z&&Sd("z",c,m,this.animationValues);for(let g=0;g<wd.length;g++)Sd(`rotate${wd[g]}`,c,m,this.animationValues),Sd(`skew${wd[g]}`,c,m,this.animationValues);c.render();for(const g in m)c.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=ic(f?.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=ic(f?.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=eM(this.projectionDeltaWithTransform,this.treeScale,g);h&&(v=h(g,v)),c.transform=v;const{x:y,y:w}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,m.animationValues?c.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in em){if(g[C]===void 0)continue;const{correct:T,applyTo:S,isCSSVariable:_}=em[C],E=v==="none"?g[C]:T(g[C],m);if(S){const O=S.length;for(let N=0;N<O;N++)c[S[N]]=E}else _?this.options.visualElement.renderState.vars[C]=E:c[C]=E}this.options.layoutId&&(c.pointerEvents=m===this?ic(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(vw),this.root.sharedNodes.clear()}}}function rM(e){e.updateLayout()}function iM(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?Fn(g=>{const v=l?t.measuredBox[g]:t.layoutBox[g],y=sn(v);v.min=r[g].min,v.max=v.min+y}):q1(s,t.layoutBox,r)&&Fn(g=>{const v=l?t.measuredBox[g]:t.layoutBox[g],y=sn(r[g]);v.max=v.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+y)});const c=Es();Zo(c,r,t.layoutBox);const f=Es();l?Zo(f,e.applyTransform(i,!0),t.measuredBox):Zo(f,r,t.layoutBox);const h=!U1(c);let m=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:y}=g;if(v&&y){const w=kt();gc(w,t.layoutBox,v.layoutBox);const C=kt();gc(C,r,y.layoutBox),B1(w,C)||(m=!0),g.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function aM(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sM(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oM(e){e.clearSnapshot()}function vw(e){e.clearMeasurements()}function yw(e){e.isLayoutDirty=!1}function lM(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uM(e){e.resolveTargetDelta()}function cM(e){e.calcProjection()}function fM(e){e.resetSkewAndRotation()}function hM(e){e.removeLeadSnapshot()}function ww(e,t,r){e.translate=ht(t.translate,0,r),e.scale=ht(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Sw(e,t,r,i){e.min=ht(t.min,r.min,i),e.max=ht(t.max,r.max,i)}function dM(e,t,r,i){Sw(e.x,t.x,r.x,i),Sw(e.y,t.y,r.y,i)}function mM(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pM={duration:.45,ease:[.4,0,.1,1]},_w=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Tw=_w("applewebkit/")&&!_w("chrome/")?Math.round:Jn;function Ew(e){e.min=Tw(e.min),e.max=Tw(e.max)}function gM(e){Ew(e.x),Ew(e.y)}function q1(e,t,r){return e==="position"||e==="preserve-aspect"&&!Ej(pw(t),pw(r),.2)}function vM(e){return e!==e.root&&e.scroll?.wasRoot}const yM=H1({attachResizeListener:(e,t)=>sl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_d={current:void 0},Y1=H1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_d.current){const e=new yM({});e.mount(window),e.setOptions({layoutScroll:!0}),_d.current=e}return _d.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bM={pan:{Feature:Bj},drag:{Feature:Uj,ProjectionNode:Y1,MeasureLayout:k1}};function xw(e,t,r){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,l=i[s];l&&lt.postRender(()=>l(t,wl(t)))}class wM extends Yi{mount(){const{current:t}=this.node;t&&(this.unmount=qD(t,(r,i)=>(xw(this.node,i,"Start"),s=>xw(this.node,s,"End"))))}unmount(){}}class SM extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vl(sl(this.node.current,"focus",()=>this.onFocus()),sl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cw(e,t,r){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),l=i[s];l&&lt.postRender(()=>l(t,wl(t)))}class _M extends Yi{mount(){const{current:t}=this.node;t&&(this.unmount=GD(t,(r,i)=>(Cw(this.node,i,"Start"),(s,{success:l})=>Cw(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lm=new WeakMap,Td=new WeakMap,TM=e=>{const t=lm.get(e.target);t&&t(e)},EM=e=>{e.forEach(TM)};function xM({root:e,...t}){const r=e||document;Td.has(r)||Td.set(r,{});const i=Td.get(r),s=JSON.stringify(t);return i[s]||(i[s]=new IntersectionObserver(EM,{root:e,...t})),i[s]}function CM(e,t,r){const i=xM(t);return lm.set(e,r),i.observe(e),()=>{lm.delete(e),i.unobserve(e)}}const OM={some:0,all:1};class AM extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:i,amount:s="some",once:l}=t,c={root:r?r.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:OM[s]},f=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),y=m?g:v;y&&y(h)};return CM(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(RM(t,r))&&this.startObserver()}unmount(){}}function RM({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const DM={inView:{Feature:AM},tap:{Feature:_M},focus:{Feature:SM},hover:{Feature:wM}},jM={layout:{ProjectionNode:Y1,MeasureLayout:k1}},MM={...yj,...DM,...bM,...jM},Ms=P2(MM,K2),jn=({className:e,children:t,variant:r="default",padding:i="md",...s})=>{const l="rounded-[20px] overflow-hidden transition-all duration-300",c={default:"bg-white shadow-sm border border-[rgba(0,0,0,0.02)]",glass:"glass shadow-float",flat:"bg-[var(--color-bg-secondary)]"},f={none:"p-0",sm:"p-3",md:"p-5",lg:"p-8"};return A.jsx(Ms.div,{className:gl(l,c[r],f[i],e),initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileHover:{scale:1.02},whileTap:{scale:.98},...s,children:t})},{Responsive:NM,WidthProvider:PM}=GA,kM=PM(NM),zM=()=>{const e=xa(),{layouts:t,updateLayout:r}=JA(),[i,s]=R.useState(!0),l=(c,f)=>{f.lg&&r("lg",f.lg),f.md&&r("md",f.md),f.sm&&r("sm",f.sm)};return A.jsxs("div",{className:"w-full h-full min-h-[80vh]",children:[A.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[A.jsx("h2",{className:"text-2xl font-bold",children:"My Home"}),A.jsx("button",{onClick:()=>s(!i),className:"text-sm text-[var(--color-text-secondary)] bg-[var(--color-bg-secondary)] px-3 py-1 rounded-full",children:i?"Done":"Edit Widgets"})]}),A.jsxs(kM,{className:"layout",layouts:t,breakpoints:{lg:1024,md:768,sm:0},cols:{lg:12,md:10,sm:4},rowHeight:100,onLayoutChange:l,isDraggable:i,isResizable:i,margin:[16,16],containerPadding:[0,0],useCSSTransforms:!0,children:[A.jsx("div",{onClick:()=>e("/chat"),children:A.jsxs(jn,{variant:"glass",className:"h-full flex flex-col items-center justify-center cursor-pointer hover:bg-white/50 active:scale-95 transition-transform",children:[A.jsx("span",{className:"text-3xl",children:""}),A.jsx("span",{className:"mt-2 font-medium",children:"Chat"})]})},"chat-shortcut"),A.jsx("div",{onClick:()=>e("/calendar"),children:A.jsxs(jn,{variant:"default",className:"h-full p-4 cursor-pointer hover:shadow-md transition-shadow",children:[A.jsx("h3",{className:"font-bold text-[var(--color-accent-pop)]",children:"Upcoming"}),A.jsxs("ul",{className:"mt-2 text-sm space-y-2",children:[A.jsxs("li",{className:"flex justify-between",children:[A.jsx("span",{children:"D-Day"})," ",A.jsx("span",{children:"D-23"})]}),A.jsxs("li",{className:"flex justify-between",children:[A.jsx("span",{children:"Date Night"})," ",A.jsx("span",{children:"Fri"})]})]})]})},"calendar-widget"),A.jsx("div",{onClick:()=>e("/feed"),children:A.jsxs(jn,{variant:"flat",className:"h-full flex flex-col items-center justify-center bg-blue-50 text-blue-500 cursor-pointer hover:bg-blue-100 transition-colors",children:[A.jsx("span",{className:"text-3xl",children:""}),A.jsx("span",{className:"mt-2 font-medium",children:"Feed"})]})},"feed-shortcut"),A.jsx("div",{onClick:()=>e("/diary"),children:A.jsxs(jn,{className:"h-full flex flex-col items-center justify-center bg-pink-50 text-pink-500 cursor-pointer hover:bg-pink-100 transition-colors",children:[A.jsx("span",{className:"text-3xl",children:""}),A.jsx("span",{className:"mt-2 font-medium",children:"Diary"})]})},"diary-shortcut"),A.jsx("div",{onClick:()=>e("/settings"),children:A.jsxs(jn,{variant:"flat",className:"h-full flex flex-col items-center justify-center bg-gray-50 text-gray-500 cursor-pointer hover:bg-gray-200 transition-colors",children:[A.jsx("span",{className:"text-3xl",children:""}),A.jsx("span",{className:"mt-2 font-medium",children:"Settings"})]})},"settings-shortcut")]})]})};function kc(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(r[i[s]]=e[i[s]]);return r}function LM(e,t,r,i){function s(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function f(g){try{m(i.next(g))}catch(v){c(v)}}function h(g){try{m(i.throw(g))}catch(v){c(v)}}function m(g){g.done?l(g.value):s(g.value).then(f,h)}m((i=i.apply(e,t||[])).next())})}const UM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ep extends Error{constructor(t,r="FunctionsError",i){super(t),this.name=r,this.context=i}}class BM extends Ep{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ow extends Ep{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Aw extends Ep{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var um;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(um||(um={}));class VM{constructor(t,{headers:r={},customFetch:i,region:s=um.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=UM(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return LM(this,arguments,void 0,function*(r,i={}){var s;let l,c;try{const{headers:f,method:h,body:m,signal:g,timeout:v}=i;let y={},{region:w}=i;w||(w=this.region);const C=new URL(`${this.url}/${r}`);w&&w!=="any"&&(y["x-region"]=w,C.searchParams.set("forceFunctionRegion",w));let T;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=m):typeof m=="string"?(y["Content-Type"]="text/plain",T=m):typeof FormData<"u"&&m instanceof FormData?T=m:(y["Content-Type"]="application/json",T=JSON.stringify(m)):T=m;let S=g;v&&(c=new AbortController,l=setTimeout(()=>c.abort(),v),g?(S=c.signal,g.addEventListener("abort",()=>c.abort())):S=c.signal);const _=yield this.fetch(C.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),f),body:T,signal:S}).catch(z=>{throw new BM(z)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new Ow(_);if(!_.ok)throw new Aw(_);let O=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return O==="application/json"?N=yield _.json():O==="application/octet-stream"||O==="application/pdf"?N=yield _.blob():O==="text/event-stream"?N=_:O==="multipart/form-data"?N=yield _.formData():N=yield _.text(),{data:N,error:null,response:_}}catch(f){return{data:null,error:f,response:f instanceof Aw||f instanceof Ow?f.context:void 0}}finally{l&&clearTimeout(l)}})}}var HM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},qM=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let c=null,f=null,h=null,m=l.status,g=l.statusText;if(l.ok){var v,y;if(r.method!=="HEAD"){var w;const _=await l.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?f=_:f=JSON.parse(_))}const T=(v=r.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),S=(y=l.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&S&&S.length>1&&(h=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,m=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const T=await l.text();try{c=JSON.parse(T),Array.isArray(c)&&l.status===404&&(f=[],c=null,m=200,g="OK")}catch{l.status===404&&T===""?(m=204,g="No Content"):c={message:T}}if(c&&r.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&r.shouldThrowOnError)throw new HM(c)}return{error:c,data:f,count:h,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(l=>{var c;let f="";const h=l?.cause;if(h){var m,g,v,y;const C=(m=h?.message)!==null&&m!==void 0?m:"",T=(g=h?.code)!==null&&g!==void 0?g:"";f=`${(v=l?.name)!==null&&v!==void 0?v:"FetchError"}: ${l?.message}`,f+=`

Caused by: ${(y=h?.name)!==null&&y!==void 0?y:"Error"}: ${C}`,T&&(f+=` (${T})`),h?.stack&&(f+=`
${h.stack}`)}else{var w;f=(w=l?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=l?.name)!==null&&c!==void 0?c:"FetchError"}: ${l?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},YM=class extends qM{select(e){let t=!1;const r=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const l=s?`${s}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:l="text"}={}){var c;const f=[e?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${h}"; options=${f};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Rw=new RegExp("[,()]");var gs=class extends YM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&Rw.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(i=>typeof i=="string"&&Rw.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$M=class{constructor(e,{headers:t={},schema:r,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=i}select(e,t){const{head:r=!1,count:i}=t??{},s=r?"HEAD":"GET";let l=!1;const c=(e??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",c),i&&this.headers.append("Prefer",`count=${i}`),new gs({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var i;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new gs({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){var l;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new gs({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:t}={}){var r;const i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new gs({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new gs({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},XM=class $1{constructor(t,{headers:r={},schema:i,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=i,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $M(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:i=!1,get:s=!1,count:l}={}){var c;let f;const h=new URL(`${this.url}/rpc/${t}`);let m;i||s?(f=i?"HEAD":"GET",Object.entries(r).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{h.searchParams.append(v,y)})):(f="POST",m=r);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new gs({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class GM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const i=this.getWebSocketConstructor();return new i(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const KM="2.89.0",WM=`realtime-js/${KM}`,X1="1.0.0",IM="2.0.0",Dw=X1,cm=1e4,FM=1e3,QM=100;var ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ki||(ki={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pr||(pr={}));var fm;(function(e){e.websocket="websocket"})(fm||(fm={}));var ga;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ga||(ga={}));class ZM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,i;const s=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,i;const s=(i=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,i){var s,l;const c=t.topic,f=(s=t.ref)!==null&&s!==void 0?s:"",h=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+m.length+v.length,w=new ArrayBuffer(this.HEADER_LENGTH+y);let C=new DataView(w),T=0;C.setUint8(T++,this.KINDS.userBroadcastPush),C.setUint8(T++,h.length),C.setUint8(T++,f.length),C.setUint8(T++,c.length),C.setUint8(T++,m.length),C.setUint8(T++,v.length),C.setUint8(T++,r),Array.from(h,_=>C.setUint8(T++,_.charCodeAt(0))),Array.from(f,_=>C.setUint8(T++,_.charCodeAt(0))),Array.from(c,_=>C.setUint8(T++,_.charCodeAt(0))),Array.from(m,_=>C.setUint8(T++,_.charCodeAt(0))),Array.from(v,_=>C.setUint8(T++,_.charCodeAt(0)));var S=new Uint8Array(w.byteLength+i.byteLength);return S.set(new Uint8Array(w),0),S.set(new Uint8Array(i),w.byteLength),S.buffer}decode(t,r){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return r(i)}if(typeof t=="string"){const i=JSON.parse(t),[s,l,c,f,h]=i;return r({join_ref:s,ref:l,topic:c,event:f,payload:h})}return r({})}_binaryDecode(t){const r=new DataView(t),i=r.getUint8(0),s=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,s)}_decodeUserBroadcast(t,r,i){const s=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=i.decode(t.slice(h,h+s));h=h+s;const g=i.decode(t.slice(h,h+l));h=h+l;const v=i.decode(t.slice(h,h+c));h=h+c;const y=t.slice(h,t.byteLength),w=f===this.JSON_ENCODING?JSON.parse(i.decode(y)):y,C={type:this.BROADCAST_EVENT,event:g,payload:w};return c>0&&(C.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>r.includes(i)))}}class G1{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const jw=(e,t,r={})=>{var i;const s=(i=r.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,c)=>(l[c]=JM(c,e,t,s),l),{}):{}},JM=(e,t,r,i)=>{const s=t.find(f=>f.name===e),l=s?.type,c=r[e];return l&&!i.includes(l)?K1(l,c):hm(c)},K1=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rN(t,r)}switch(e){case et.bool:return eN(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return tN(t);case et.json:case et.jsonb:return nN(t);case et.timestamp:return iN(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return hm(t);default:return hm(t)}},hm=e=>e,eN=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tN=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nN=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},rN=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,i=e[r];if(e[0]==="{"&&i==="}"){let l;const c=e.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(f=>K1(t,f))}return e},iN=e=>typeof e=="string"?e.replace(" ","T"):e,W1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ed{constructor(t,r,i={},s=cm){this.channel=t,this.event=r,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var i;return this._hasReceived(t)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mw||(Mw={}));class Jo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jo.syncState(this.state,s,l,c),this.pendingDiffs.forEach(h=>{this.state=Jo.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},s=>{const{onJoin:l,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Jo.syncDiff(this.state,s,l,c),f())}),this.onJoin((s,l,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:c})}),this.onLeave((s,l,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,i,s){const l=this.cloneDeep(t),c=this.transformState(r),f={},h={};return this.map(l,(m,g)=>{c[m]||(h[m]=g)}),this.map(c,(m,g)=>{const v=l[m];if(v){const y=g.map(S=>S.presence_ref),w=v.map(S=>S.presence_ref),C=g.filter(S=>w.indexOf(S.presence_ref)<0),T=v.filter(S=>y.indexOf(S.presence_ref)<0);C.length>0&&(f[m]=C),T.length>0&&(h[m]=T)}else f[m]=g}),this.syncDiff(l,{joins:f,leaves:h},i,s)}static syncDiff(t,r,i,s){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(l,(f,h)=>{var m;const g=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(h),g.length>0){const v=t[f].map(w=>w.presence_ref),y=g.filter(w=>v.indexOf(w.presence_ref)<0);t[f].unshift(...y)}i(f,g,h)}),this.map(c,(f,h)=>{let m=t[f];if(!m)return;const g=h.map(v=>v.presence_ref);m=m.filter(v=>g.indexOf(v.presence_ref)<0),t[f]=m,s(f,m,h),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(i=>r(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,i)=>{const s=t[i];return"metas"in s?r[i]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[i]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nw||(Nw={}));var el;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(el||(el={}));var Jr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jr||(Jr={}));class xs{constructor(t,r={config:{}},i){var s,l;if(this.topic=t,this.params=r,this.socket=i,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ed(this,pr.join,this.params,this.timeout),this.rejoinTimer=new G1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new Jo(this),this.broadcastEndpointURL=W1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var i,s,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,m=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[el.PRESENCE]&&this.bindings[el.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,v={},y={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(w=>t?.(Jr.CHANNEL_ERROR,w)),this._onClose(()=>t?.(Jr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},v)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){t?.(Jr.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,S=(C=T?.length)!==null&&C!==void 0?C:0,_=[];for(let E=0;E<S;E++){const O=T[E],{filter:{event:N,schema:z,table:L,filter:D}}=O,M=w&&w[E];if(M&&M.event===N&&xs.isFilterValueEqual(M.schema,z)&&xs.isFilterValueEqual(M.table,L)&&xs.isFilterValueEqual(M.filter,D))_.push(Object.assign(Object.assign({},O),{id:M.id}));else{this.unsubscribe(),this.state=Pt.errored,t?.(Jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Jr.SUBSCRIBED);return}}).receive("error",w=>{this.state=Pt.errored,t?.(Jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{t?.(Jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,i){return this.state===Pt.joined&&t===el.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,i)}async httpSend(t,r,i={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const m=await f.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(t,r={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,f,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Ed(this,pr.leave,{},t),i.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,i){const s=new AbortController,l=setTimeout(()=>s.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(l),c}_push(t,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ed(this,t,r,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>QM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,i){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,i){var s,l;const c=t.toLocaleLowerCase(),{close:f,error:h,leave:m,join:g}=pr;if(i&&[f,h,m,g].indexOf(c)>=0&&i!==this._joinRef())return;let y=this._onMessage(c,r,i);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var C,T,S;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((S=(T=w.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(w=>w.callback(y,i)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var C,T,S,_,E,O;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const N=w.id,z=(C=w.filter)===null||C===void 0?void 0:C.event;return N&&((T=r.ids)===null||T===void 0?void 0:T.includes(N))&&(z==="*"||z?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const N=(E=(_=w?.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return N==="*"||N===((O=r?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof y=="object"&&"ids"in y){const C=y.data,{schema:T,table:S,commit_timestamp:_,type:E,errors:O}=C;y=Object.assign(Object.assign({},{schema:T,table:S,commit_timestamp:_,eventType:E,new:{},old:{},errors:O}),this._getPayloadRecords(C))}w.callback(y,i)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,i){const s=t.toLocaleLowerCase(),l={type:s,filter:r,callback:i};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(t,r){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&xs.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const i in t)if(t[i]!==r[i])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pr.close,{},t)}_onError(t){this._on(pr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jw(t.columns,t.old_record)),r}}const xd=()=>{},Wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},aN=[1e3,2e3,5e3,1e4],sN=1e4,oN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lN{constructor(t,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cm,this.transport=null,this.heartbeatIntervalMs=Wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xd,this.ref=0,this.reconnectTimer=null,this.vsn=Dw,this.logger=xd,this.conn=null,this.sendBuffer=[],this.serializer=new ZM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...l)=>s(...l):(...l)=>fetch(...l),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${fm.websocket}`,this.httpEndpoint=W1(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=GM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,i){this.logger(t,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ki.connecting:return ga.Connecting;case ki.open:return ga.Open;case ki.closing:return ga.Closing;default:return ga.Closed}}isConnected(){return this.connectionState()===ga.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const i=`realtime:${t}`,s=this.getChannels().find(l=>l.topic===i);if(s)return s;{const l=new xs(`realtime:${t}`,r,this);return this.channels.push(l),l}}push(t){const{topic:r,event:i,payload:s,ref:l}=t,c=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${r} ${i} (${l})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(FM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:l,ref:c}=r,f=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${i} ${s} ${f}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(s,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ki.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ki.open||this.conn.readyState===ki.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const i=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${i}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const i=new Blob([oN],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,i=!1;if(t)r=t,i=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const l={access_token:r,version:WM};r&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(pr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new G1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,i,s,l,c,f,h,m,g,v,y,w;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:cm,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:Wu.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:xd,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:Dw,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t?.reconnectAfterMs)!==null&&m!==void 0?m:(C=>aN[C-1]||sN),this.vsn){case X1:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((C,T)=>T(JSON.stringify(C))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((C,T)=>T(JSON.parse(C)));break;case IM:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(w=t?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var ol=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uN(e,t,r){const i=new URL(t,e);if(r)for(const[s,l]of Object.entries(r))l!==void 0&&i.searchParams.set(s,l);return i.toString()}async function cN(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function fN(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:i,query:s,body:l,headers:c}){const f=uN(e.baseUrl,i,s),h=await cN(e.auth),m=await t(f,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),g=await m.text(),v=(m.headers.get("content-type")||"").includes("application/json"),y=v&&g?JSON.parse(g):g;if(!m.ok){const w=v?y:void 0,C=w?.error;throw new ol(C?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:C?.type,icebergCode:C?.code,details:w})}return{status:m.status,headers:m.headers,data:y}}}}function Iu(e){return e.join("")}var hN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Iu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Iu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Iu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Iu(e.namespace)}`}),!0}catch(t){if(t instanceof ol&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ol&&r.status===409)return;throw r}}};function us(e){return e.join("")}var dN=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${us(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${us(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${us(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${us(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${us(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ol&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ol&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},mN=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=fN({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new hN(this.client,t),this.tableOps=new dN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},zc=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var pN=class extends zc{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dm=class extends zc{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const xp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gN=()=>Response,mm=e=>{if(Array.isArray(e))return e.map(r=>mm(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,i])=>{const s=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[s]=mm(i)}),t},vN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}function bN(e,t){if(ll(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(ll(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wN(e){var t=bN(e,"string");return ll(t)=="symbol"?t:t+""}function SN(e,t,r){return(t=wN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pw(Object(r),!0).forEach(function(i){SN(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pw(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const Cd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},_N=async(e,t,r)=>{e instanceof await gN()&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,l=i?.statusCode||s+"";t(new pN(Cd(i),s,l))}).catch(i=>{t(new dm(Cd(i),i))}):t(new dm(Cd(e),e))},TN=(e,t,r,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!i?s:(vN(i)?(s.headers=de({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,t?.duplex&&(s.duplex=t.duplex),de(de({},s),r))};async function Sl(e,t,r,i,s,l){return new Promise((c,f)=>{e(r,TN(t,i,s,l)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>_N(h,f,i))})}async function ul(e,t,r,i){return Sl(e,"GET",t,r,i)}async function mr(e,t,r,i,s){return Sl(e,"POST",t,i,s,r)}async function pm(e,t,r,i,s){return Sl(e,"PUT",t,i,s,r)}async function EN(e,t,r,i){return Sl(e,"HEAD",t,de(de({},r),{},{noResolveJson:!0}),i)}async function Cp(e,t,r,i,s){return Sl(e,"DELETE",t,i,s,r)}var xN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};let I1;I1=Symbol.toStringTag;var CN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[I1]="BlobDownloadBuilder",this.promise=null}asStream(){return new xN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};const ON={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var AN=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=xp(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,i){var s=this;try{let l;const c=de(de({},kw),i);let f=de(de({},s.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",s.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",s.encodeMetadata(h))):(l=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=s.toBase64(s.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(f=de(de({},f),i.headers));const m=s._removeEmptyFolders(t),g=s._getFinalPath(m),v=await(e=="PUT"?pm:mr)(s.fetch,`${s.url}/object/${g}`,l,de({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(ft(l))return{data:null,error:l};throw l}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,i){var s=this;const l=s._removeEmptyFolders(e),c=s._getFinalPath(l),f=new URL(s.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let h;const m=de({upsert:kw.upsert},i),g=de(de({},s.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",m.cacheControl)):(h=r,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:l,fullPath:(await pm(s.fetch,f.toString(),h,{headers:g})).Key},error:null}}catch(h){if(s.shouldThrowOnError)throw h;if(ft(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var r=this;try{let i=r._getFinalPath(e);const s=de({},r.headers);t?.upsert&&(s["x-upsert"]="true");const l=await mr(r.fetch,`${r.url}/object/upload/sign/${i}`,{},{headers:s}),c=new URL(r.url+l.url),f=c.searchParams.get("token");if(!f)throw new zc("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var i=this;try{return{data:await mr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers}),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async copy(e,t,r){var i=this;try{return{data:{path:(await mr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var i=this;try{let s=i._getFinalPath(e),l=await mr(i.fetch,`${i.url}/object/sign/${s}`,de({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:i.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var i=this;try{const s=await mr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${l}`):null})),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>ul(this.fetch,`${this.url}/${r}/${l}${s}`,{headers:this.headers,noResolveJson:!0});return new CN(c,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:mm(await ul(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await EN(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(ft(i)&&i instanceof dm){const s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&i.push(s);const l=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${f}`)}}}async remove(e){var t=this;try{return{data:await Cp(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async list(e,t,r){var i=this;try{const s=de(de(de({},ON),t),{},{prefix:e||""});return{data:await mr(i.fetch,`${i.url}/object/list/${i.bucketId}`,s,{headers:i.headers},r),error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const i=de({},e);return{data:await mr(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,i,{headers:r.headers},t),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const F1="2.89.0",Q1={"X-Client-Info":`storage-js/${F1}`};var RN=class{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=de(de({},Q1),t),this.fetch=xp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ul(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ul(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await mr(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async updateBucket(e,t){var r=this;try{return{data:await pm(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ft(i))return{data:null,error:i};throw i}}async emptyBucket(e){var t=this;try{return{data:await mr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Cp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},DN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Q1),t),this.fetch=xp(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await mr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const i=r.toString(),s=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await ul(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Cp(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!yN(e))throw new zc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new mN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(r,{get(s,l){const c=s[l];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(s,f),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}};const Op={"X-Client-Info":`storage-js/${F1}`,"Content-Type":"application/json"};var Z1=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Od=class extends Z1{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jN=class extends Z1{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ap=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),MN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NN=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const i=e.status||500,s=e;if(typeof s.json=="function")s.json().then(l=>{const c=l?.statusCode||l?.code||i+"";t(new Od(zw(l),i,c))}).catch(()=>{const l=i+"";t(new Od(s.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";t(new Od(s.statusText||`HTTP ${i} error`,i,l))}}else t(new jN(zw(e),e))},PN=(e,t,r,i)=>{const s={method:e,headers:t?.headers||{}};return i?(MN(i)?(s.headers=de({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(i)):s.body=i,de(de({},s),r)):s};async function kN(e,t,r,i,s,l){return new Promise((c,f)=>{e(r,PN(t,i,s,l)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>NN(h,f,i))})}async function Nn(e,t,r,i,s){return kN(e,"POST",t,i,s,r)}var zN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Op),t),this.fetch=Ap(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Nn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}}async listIndexes(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Nn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Mn(i))return{data:null,error:i};throw i}}},LN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Op),t),this.fetch=Ap(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Nn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Nn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Nn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}},UN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Op),t),this.fetch=Ap(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Nn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mn(r))return{data:null,error:r};throw r}}},BN=class extends UN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new VN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},VN=class extends zN{constructor(e,t,r,i){super(e,t,i),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new HN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},HN=class extends LN{constructor(e,t,r,i,s){super(e,t,s),this.vectorBucketName=r,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,de(de({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},qN=class extends RN{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new AN(this.url,this.headers,e,this.fetch)}get vectors(){return new BN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new DN(this.url+"/iceberg",this.headers,this.fetch)}};const J1="2.89.0",vs=30*1e3,gm=3,Ad=gm*vs,YN="http://localhost:9999",$N="supabase.auth.token",XN={"X-Client-Info":`gotrue-js/${J1}`},vm="X-Supabase-Api-Version",eT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},GN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KN=600*1e3;class cl extends Error{constructor(t,r,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ae(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class WN extends cl{constructor(t,r,i){super(t,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function IN(e){return ae(e)&&e.name==="AuthApiError"}class va extends cl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ai extends cl{constructor(t,r,i,s){super(t,i,s),this.name=r,this.status=i}}class Dn extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FN(e){return ae(e)&&e.name==="AuthSessionMissingError"}class cs extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fu extends ai{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends ai{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function QN(e){return ae(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lw extends ai{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZN extends ai{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ym extends ai{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Rd(e){return ae(e)&&e.name==="AuthRetryableFetchError"}class Uw extends ai{constructor(t,r,i){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class bm extends ai{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bw=` 	
\r=`.split(""),JN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bw.length;t+=1)e[Bw[t].charCodeAt(0)]=-2;for(let t=0;t<vc.length;t+=1)e[vc[t].charCodeAt(0)]=t;return e})();function Vw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(vc[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;r(vc[i]),t.queuedBits-=6}}function tT(e,t,r){const i=JN[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hw(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=c=>{nP(c,i,r)};for(let c=0;c<e.length;c+=1)tT(e.charCodeAt(c),s,l);return t.join("")}function eP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tP(e,t){for(let r=0;r<e.length;r+=1){let i=e.charCodeAt(r);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}eP(i,t)}}function nP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Os(e){const t=[],r={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)tT(e.charCodeAt(s),r,i);return new Uint8Array(t)}function rP(e){const t=[];return tP(e,r=>t.push(r)),new Uint8Array(t)}function Sa(e){const t=[],r={queue:0,queuedBits:0},i=s=>{t.push(s)};return e.forEach(s=>Vw(s,r,i)),Vw(null,r,i),t.join("")}function iP(e){return Math.round(Date.now()/1e3)+e}function aP(){return Symbol("auth-callback")}const Qt=()=>typeof window<"u"&&typeof document<"u",ua={tested:!1,writable:!1},nT=()=>{if(!Qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ua.tested)return ua.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ua.tested=!0,ua.writable=!0}catch{ua.tested=!0,ua.writable=!1}return ua.writable};function sP(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,l)=>{t[l]=s})}catch{}return r.searchParams.forEach((i,s)=>{t[s]=i}),t}const rT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),oP=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ys=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ca=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ft=async(e,t)=>{await e.removeItem(t)};class Lc{constructor(){this.promise=new Lc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Lc.promiseConstructor=Promise;function Dd(e){const t=e.split(".");if(t.length!==3)throw new bm("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!GN.test(t[i]))throw new bm("JWT not in base64url format");return{header:JSON.parse(Hw(t[0])),payload:JSON.parse(Hw(t[1])),signature:Os(t[2]),raw:{header:t[0],payload:t[1]}}}async function lP(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uP(e,t){return new Promise((i,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await e(l);if(!t(l,null,c)){i(c);return}}catch(c){if(!t(l,c)){s(c);return}}})()})}function cP(e){return("0"+e.toString(16)).substr(-2)}function fP(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let s="";for(let l=0;l<56;l++)s+=r.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,cP).join("")}async function hP(e){const r=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(i);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function dP(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hP(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function fs(e,t,r=!1){const i=fP();let s=i;r&&(s+="/PASSWORD_RECOVERY"),await ys(e,`${t}-code-verifier`,s);const l=await dP(i);return[l,i===l?"plain":"s256"]}const mP=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pP(e){const t=e.headers.get(vm);if(!t||!t.match(mP))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gP(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vP(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hs(e){if(!yP.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bP(e,t){return new Proxy(e,{get:(r,i,s)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,s)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,i,s)}})}function qw(e){return JSON.parse(JSON.stringify(e))}const da=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wP=[502,503,504];async function Yw(e){var t;if(!oP(e))throw new ym(da(e),0);if(wP.includes(e.status))throw new ym(da(e),e.status);let r;try{r=await e.json()}catch(l){throw new va(da(l),l)}let i;const s=pP(e);if(s&&s.getTime()>=eT["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Uw(da(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new Dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Uw(da(r),e.status,r.weak_password.reasons);throw new WN(da(r),e.status||500,i)}const SP=(e,t,r,i)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),r))};async function he(e,t,r,i){var s;const l=Object.assign({},i?.headers);l[vm]||(l[vm]=eT["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await _P(e,t,r+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function _P(e,t,r,i,s,l){const c=SP(t,i,s,l);let f;try{f=await e(r,Object.assign({},c))}catch(h){throw console.error(h),new ym(da(h),0)}if(f.ok||await Yw(f),i?.noResolveJson)return f;try{return await f.json()}catch(h){await Yw(h)}}function hr(e){var t;let r=null;xP(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iP(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:i},error:null}}function $w(e){const t=hr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function zi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TP(e){return{data:e,error:null}}function EP(e){const{action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:l}=e,c=kc(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:i,redirect_to:s,verification_type:l},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function Xw(e){return e}function xP(e){return e.access_token&&e.refresh_token&&e.expires_in}const Md=["global","local","others"];class CP{constructor({url:t="",headers:r={},fetch:i}){this.url=t,this.headers=r,this.fetch=rT(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Md[0]){if(Md.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Md.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zi})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:r}=t,i=kc(t,["options"]),s=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:EP,redirectTo:r?.redirectTo})}catch(r){if(ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:zi})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,i,s,l,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:Xw});if(g.error)throw g.error;const v=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(C=>{const T=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(C.split(";")[1].split("=")[1]);m[`${S}Page`]=T}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ae(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){hs(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:zi})}catch(r){if(ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hs(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:zi})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,r=!1){hs(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:zi})}catch(i){if(ae(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){hs(t.userId);try{const{data:r,error:i}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:i}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hs(t.userId),hs(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,i,s,l,c,f,h;try{const m={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(l=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:Xw});if(g.error)throw g.error;const v=await g.json(),y=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return w.length>0&&(w.forEach(C=>{const T=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(C.split(";")[1].split("=")[1]);m[`${S}Page`]=T}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},v),m),error:null}}catch(m){if(ae(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ae(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ae(r))return{data:null,error:r};throw r}}}function Gw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ds={debug:!!(globalThis&&nT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iT extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class OP extends iT{}async function AP(e,t,r){ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),ds.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ds.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new OP(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ds.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function RP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aT(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function DP(e){return parseInt(e,16)}function jP(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function MP(e){var t;const{chainId:r,domain:i,expirationTime:s,issuedAt:l=new Date,nonce:c,notBefore:f,requestId:h,resources:m,scheme:g,uri:v,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const w=aT(e.address),C=g?`${g}://${i}`:i,T=e.statement?`${e.statement}
`:"",S=`${C} wants you to sign in with your Ethereum account:
${w}

${T}`;let _=`URI: ${v}
Version: ${y}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),f&&(_+=`
Not Before: ${f.toISOString()}`),h&&(_+=`
Request ID: ${h}`),m){let E=`
Resources:`;for(const O of m){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);E+=`
- ${O}`}_+=E}return`${S}
${_}`}class At extends Error{constructor({message:t,code:r,cause:i,name:s}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=s??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class yc extends At{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function NP({error:e,options:t}){var r,i,s;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new At({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new At({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new At({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new At({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new At({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new At({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(sT(c)){if(l.rp.id!==c)return new At({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new At({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function PP({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new At({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new At({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(sT(i)){if(r.rpId!==i)return new At({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new At({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new At({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new At({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kP{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const zP=new kP;function LP(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:i}=e,s=kc(e,["challenge","user","excludeCredentials"]),l=Os(t).buffer,c=Object.assign(Object.assign({},r),{id:Os(r.id).buffer}),f=Object.assign(Object.assign({},s),{challenge:l,user:c});if(i&&i.length>0){f.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const m=i[h];f.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Os(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function UP(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,i=kc(e,["challenge","allowCredentials"]),s=Os(t).buffer,l=Object.assign(Object.assign({},i),{challenge:s});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Os(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function BP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function VP(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,i=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sa(new Uint8Array(s.authenticatorData)),clientDataJSON:Sa(new Uint8Array(s.clientDataJSON)),signature:Sa(new Uint8Array(s.signature)),userHandle:s.userHandle?Sa(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sT(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Kw(){var e,t;return!!(Qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HP(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",t)}:{data:null,error:new yc("Empty credential response",t)}}catch(t){return{data:null,error:NP({error:t,options:e})}}}async function qP(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yc("Browser returned unexpected credential type",t)}:{data:null,error:new yc("Empty credential response",t)}}catch(t){return{data:null,error:PP({error:t,options:e})}}}const YP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$P={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),i={};for(const s of e)if(s)for(const l in s){const c=s[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(r(c))i[l]=c;else if(t(c)){const f=i[l];t(f)?i[l]=bc(f,c):i[l]=bc(c)}else i[l]=c}return i}function XP(e,t){return bc(YP,e,t||{})}function GP(e,t){return bc($P,e,t||{})}class KP{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:i,signal:s},l){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const h=s??zP.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=XP(c.webauthn.credential_options.publicKey,l?.create),{data:g,error:v}=await HP({publicKey:m,signal:h});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const m=GP(c.webauthn.credential_options.publicKey,l?.request),{data:g,error:v}=await qP(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new va("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!r)return{data:null,error:new cl("rpId is required for WebAuthn authentication")};try{if(!Kw())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:i},signal:s},{request:l});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new va("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},l){if(!r)return{data:null,error:new cl("rpId is required for WebAuthn registration")};try{if(!Kw())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:s},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ae(c)?{data:null,error:c}:{data:null,error:new va("Unexpected error in register",c)}}}}RP();const WP={url:YN,storageKey:$N,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ww(e,t,r){return await r()}const ms={};class fl{get jwks(){var t,r;return(r=(t=ms[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ms[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ms[this.storageKey]=Object.assign(Object.assign({},ms[this.storageKey]),{cachedAt:t})}constructor(t){var r,i,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},WP),t);if(this.storageKey=l.storageKey,this.instanceID=(r=fl.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Qt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new CP({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=rT(l.fetch),this.lock=l.lock||Ww,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Qt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=AP:this.lock=Ww,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KP(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:nT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Gw(this.memoryStorage)),Qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${J1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},i="none";if(Qt()&&(r=sP(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Qt()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:l}=await this._getSessionFromURL(r,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),QN(l)){const h=(t=l.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ae(r)?this._returnResult({error:r}):this._returnResult({error:new va("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,i,s;try{const l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:hr}),{data:c,error:f}=l;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var r,i,s;try{let l;if("email"in t){const{email:g,password:v,options:y}=t;let w=null,C=null;this.flowType==="pkce"&&([w,C]=await fs(this.storage,this.storageKey)),l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:g,password:v,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:w,code_challenge_method:C},xform:hr})}else if("phone"in t){const{phone:g,password:v,options:y}=t;l=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=y?.data)!==null&&i!==void 0?i:{},channel:(s=y?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:hr})}else throw new Fu("You must provide either an email or phone number and a password");const{data:c,error:f}=l;if(f||!c)return await Ft(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let r;if("email"in t){const{email:l,password:c,options:f}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$w})}else if("phone"in t){const{phone:l,password:c,options:f}=t;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$w})}else throw new Fu("You must provide either an email or phone number and a password");const{data:i,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!i||!i.session||!i.user){const l=new cs;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,i,s,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,i,s,l,c,f,h,m,g,v,y;let w,C;if("message"in t)w=t.message,C=t.signature;else{const{chain:T,wallet:S,statement:_,options:E}=t;let O;if(Qt())if(typeof S=="object")O=S;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")O=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const N=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),z=await O.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=aT(z[0]);let D=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!D){const $=await O.request({method:"eth_chainId"});D=DP($)}const M={domain:N.host,address:L,statement:_,uri:N.href,version:"1",chainId:D,nonce:(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=E?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=MP(M),C=await O.request({method:"personal_sign",params:[jP(w),L]})}try{const{data:T,error:S}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:C},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:hr});if(S)throw S;if(!T||!T.session||!T.user){const _=new cs;return this._returnResult({data:{user:null,session:null},error:_})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:S})}catch(T){if(ae(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var r,i,s,l,c,f,h,m,g,v,y,w;let C,T;if("message"in t)C=t.message,T=t.signature;else{const{chain:S,wallet:_,statement:E,options:O}=t;let N;if(Qt())if(typeof _=="object")N=_;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))N=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=_}const z=new URL((r=O?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const L=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),E?{statement:E}:null));let D;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")D=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)D=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)C=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),T=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${z.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(s=(i=O?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=O?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((m=O?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((v=(g=O?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...O.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const L=await N.signMessage(new TextEncoder().encode(C),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=L}}try{const{data:S,error:_}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Sa(T)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:hr});if(_)throw _;if(!S||!S.session||!S.user){const E=new cs;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(ae(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(t){const r=await ca(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new ZN;const{data:l,error:c}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:hr});if(await Ft(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const f=new cs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:c})}catch(l){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:r,provider:i,token:s,access_token:l,nonce:c}=t,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hr}),{data:h,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const g=new cs;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,i,s,l,c;try{if("email"in t){const{email:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await fs(this.storage,this.storageKey));const{error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:f,options:h}=t,{data:m,error:g}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:g})}throw new Fu("You must provide either an email or phone number.")}catch(f){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,i;try{let s,l;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:f}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:hr});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(s){if(ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,i,s,l,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await fs(this.storage,this.storageKey));const m=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:TP});return!((l=m.data)===null||l===void 0)&&l.url&&Qt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Dn;const{error:s}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ae(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:i,type:s,options:l}=t,{error:c}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:i,type:s,options:l}=t,{data:c,error:f}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new Fu("You must provide either an email or phone number and a type")}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Ad:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await ca(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=jd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=bP(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:zi}):await this._useSession(async r=>{var i,s,l;const{data:c,error:f}=r;if(f)throw f;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:zi})})}catch(r){if(ae(r))return FN(r)&&(await this._removeSession(),await Ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async i=>{const{data:s,error:l}=i;if(l)throw l;if(!s.session)throw new Dn;const c=s.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await fs(this.storage,this.storageKey));const{data:m,error:g}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:zi});if(g)throw g;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dn;const r=Date.now()/1e3;let i=r,s=!0,l=null;const{payload:c}=Dd(t.access_token);if(c.exp&&(i=c.exp,s=i<=r),s){const{data:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)throw h;l={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ae(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var i;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Dn;const{data:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ae(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Qt())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lw("No code detected.");const{data:E,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:l,refresh_token:c,expires_in:f,expires_at:h,token_type:m}=t;if(!l||!f||!c||!m)throw new Qu("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(f);let y=g+v;h&&(y=parseInt(h));const w=y-g;w*1e3<=vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const C=y-v;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,y,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,y,g);const{data:T,error:S}=await this._getUser(l);if(S)throw S;const _={provider_token:i,provider_refresh_token:s,access_token:l,expires_in:v,expires_at:y,refresh_token:c,token_type:m,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(i){if(ae(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ca(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:s,error:l}=r;if(l)return this._returnResult({error:l});const c=(i=s.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(IN(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Ft(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aP(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async r=>{var i,s;try{const{data:{session:l},error:c}=r;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await fs(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:i,error:s}=await this._useSession(async l=>{var c,f,h,m,g;const{data:v,error:y}=l;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(m=v.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Qt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(ae(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var i;try{const{error:s,data:{session:l}}=r;if(s)throw s;const{options:c,provider:f,token:h,access_token:m,nonce:g}=t,v=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:f,id_token:h,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hr}),{data:y,error:w}=v;return w?this._returnResult({data:{user:null,session:null},error:w}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new cs}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:w}))}catch(s){if(await Ft(this.storage,`${this.storageKey}-code-verifier`),ae(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var i,s;const{data:l,error:c}=r;if(c)throw c;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await uP(async s=>(s>0&&await lP(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hr})),(s,l)=>{const c=200*Math.pow(2,s);return l&&Rd(l)&&Date.now()+c-i<vs})}catch(i){if(this._debug(r,"error",i),ae(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Qt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await ca(this.storage,this.storageKey);if(s&&this.userStorage){let c=await ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await ys(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c?.user)!==null&&t!==void 0?t:jd()}else if(s&&!s.user&&!s.user){const c=await ca(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await Ft(this.storage,this.storageKey+"-user"),await ys(this.storage,this.storageKey,s)):s.user=jd()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const l=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ad;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Ad}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Rd(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(s.access_token);!f&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var r,i;if(!t)throw new Dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lc;const{data:l,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!l.session)throw new Dn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(s,"error",l),ae(l)){const c={data:null,error:l};return Rd(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,i=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ft(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ys(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const l=qw(s);await ys(this.storage,this.storageKey,l)}else{const s=qw(r);await ys(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ft(this.storage,this.storageKey),await Ft(this.storage,this.storageKey+"-code-verifier"),await Ft(this.storage,this.storageKey+"-user"),this.userStorage&&await Ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-t)/vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${vs}ms, refresh threshold is ${gm} ticks`),s<=gm&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iT)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,i){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await fs(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);s.push(l.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var i;const{data:s,error:l}=r;return l?this._returnResult({data:null,error:l}):await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var i,s;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:m}=await he(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&h.type==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?BP(t.webauthn.credential_response):VP(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:h}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:LP(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:UP(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const s={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=r?.factors)!==null&&t!==void 0?t:[])s.all.push(l),l.status==="verified"&&s[l.factor_type].push(l);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:i},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Dd(i.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((r=(t=i.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;return s?this._returnResult({data:null,error:s}):i?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Dn})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new Dn});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Qt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,r){try{return await this._useSession(async i=>{const{data:{session:s},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!s)return this._returnResult({data:null,error:new Dn});const c=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&Qt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Dn})})}catch(t){if(ae(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;return s?this._returnResult({data:null,error:s}):i?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Dn})})}catch(r){if(ae(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let i=r.keys.find(f=>f.kid===t);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+KN>s)return i;const{data:l,error:c}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,i=l.keys.find(f=>f.kid===t),!i)?null:i}async getClaims(t,r={}){try{let i=t;if(!i){const{data:w,error:C}=await this.getSession();if(C||!w.session)return this._returnResult({data:null,error:C});i=w.session.access_token}const{header:s,payload:l,signature:c,raw:{header:f,payload:h}}=Dd(i);r?.allowExpired||gP(l.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:l,header:s,signature:c},error:null}}const g=vP(s.alg),v=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,rP(`${f}.${h}`)))throw new bm("Invalid JWT signature");return{data:{claims:l,header:s,signature:c},error:null}}catch(i){if(ae(i))return this._returnResult({data:null,error:i});throw i}}}fl.nextInstanceID={};const IP=fl,FP="2.89.0";let Wo="";typeof Deno<"u"?Wo="deno":typeof document<"u"?Wo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wo="react-native":Wo="node";const QP={"X-Client-Info":`supabase-js-${Wo}/${FP}`},ZP={headers:QP},JP={schema:"public"},ek={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tk={};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function nk(e,t){if(hl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(hl(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rk(e){var t=nk(e,"string");return hl(t)=="symbol"?t:t+""}function ik(e,t,r){return(t=rk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iw(Object(r),!0).forEach(function(i){ik(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iw(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}const ak=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sk=()=>Headers,ok=(e,t,r)=>{const i=ak(r),s=sk();return async(l,c)=>{var f;const h=(f=await t())!==null&&f!==void 0?f:e;let m=new s(c?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),i(l,vt(vt({},c),{},{headers:m}))}};function lk(e){return e.endsWith("/")?e:e+"/"}function uk(e,t){var r,i;const{db:s,auth:l,realtime:c,global:f}=e,{db:h,auth:m,realtime:g,global:v}=t,y={db:vt(vt({},h),s),auth:vt(vt({},m),l),realtime:vt(vt({},g),c),storage:{},global:vt(vt(vt({},v),f),{},{headers:vt(vt({},(r=v?.headers)!==null&&r!==void 0?r:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function ck(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lk(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fk=class extends IP{constructor(e){super(e)}},hk=class{constructor(e,t,r){var i,s;this.supabaseUrl=e,this.supabaseKey=t;const l=ck(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:JP,realtime:tk,auth:vt(vt({},ek),{},{storageKey:c}),global:ZP},h=uk(r??{},f);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=h.auth)!==null&&m!==void 0?m:{},this.headers,h.global.fetch)}this.fetch=ok(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(vt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new XM(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new qN(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new VM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:l,flowType:c,lock:f,debug:h,throwOnError:m},g,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fk({url:this.authUrl.href,headers:vt(vt({},y),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:s,flowType:c,lock:f,debug:h,throwOnError:m,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lN(this.realtimeUrl.href,vt(vt({},e),{},{params:vt(vt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const dk=(e,t,r)=>new hk(e,t,r);function mk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}mk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pk="https://ejfknjaqtrljunuljqgi.supabase.co",gk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVqZmtuamFxdHJsanVudWxqcWdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwOTk4NTIsImV4cCI6MjA4MjY3NTg1Mn0.SISDI72y1x5qYeh-8SHFXiJG9uGtrGUpC8ZIM26w39A",zt=dk(pk,gk),dt=Ye.forwardRef(({className:e,variant:t="primary",size:r="md",isLoading:i,children:s,disabled:l,...c},f)=>{const h="inline-flex items-center justify-center font-medium rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[var(--color-accent)] disabled:opacity-50 disabled:cursor-not-allowed",m={primary:"bg-[var(--color-accent)] text-[var(--color-text-primary)] hover:bg-[var(--color-accent-pop)] shadow-sm",secondary:"bg-[var(--color-bg-secondary)] text-[var(--color-text-secondary)] hover:text-[var(--color-text-primary)]",ghost:"bg-transparent hover:bg-[rgba(0,0,0,0.05)] text-[var(--color-text-primary)]",glass:"glass text-[var(--color-text-primary)] hover:bg-white/80"},g={sm:"h-8 px-3 text-xs",md:"h-10 px-6 text-sm",lg:"h-12 px-8 text-base",icon:"h-10 w-10 p-2"};return A.jsxs(Ms.button,{ref:f,className:gl(h,m[t],g[r],e),whileTap:{scale:.95},disabled:l||i,...c,children:[i?A.jsx("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):null,s]})});dt.displayName="Button";const vk=()=>{const[e,t]=R.useState(""),[r,i]=R.useState(""),[s,l]=R.useState(!1),[c,f]=R.useState(!1),[h,m]=R.useState(null),g=async v=>{v.preventDefault(),f(!0),m(null);try{if(s){const{error:y}=await zt.auth.signUp({email:e,password:r});if(y)throw y;alert("Check your email for the confirmation link!")}else{const{error:y}=await zt.auth.signInWithPassword({email:e,password:r});if(y)throw y}}catch(y){m(y.message)}finally{f(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[var(--color-bg-secondary)]",children:A.jsxs(jn,{className:"w-full max-w-md p-8 flex flex-col gap-6",variant:"glass",children:[A.jsxs("div",{className:"text-center",children:[A.jsx("h1",{className:"text-3xl font-bold mb-2 text-[var(--color-text-primary)]",children:"Dear23"}),A.jsx("p",{className:"text-[var(--color-text-secondary)]",children:"Our warm & cozy space"})]}),A.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[A.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-4 rounded-xl bg-white/50 focus:bg-white border-none outline-none transition-all focus:ring-2 focus:ring-[var(--color-accent)]",value:e,onChange:v=>t(v.target.value),required:!0}),A.jsx("input",{type:"password",placeholder:"Password",className:"w-full p-4 rounded-xl bg-white/50 focus:bg-white border-none outline-none transition-all focus:ring-2 focus:ring-[var(--color-accent)]",value:r,onChange:v=>i(v.target.value),required:!0}),h&&A.jsx("p",{className:"text-sm text-red-400 text-center",children:h}),A.jsx(dt,{type:"submit",variant:"primary",size:"lg",className:"w-full mt-2",isLoading:c,children:s?"Sign Up":"Log In"})]}),A.jsx("div",{className:"text-center",children:A.jsx("button",{type:"button",onClick:()=>l(!s),className:"text-sm text-[var(--color-text-secondary)] hover:underline underline-offset-4",children:s?"Already have an account? Log In":"Create a new account"})})]})})},Hs=c_((e,t)=>({user:null,profile:null,couple:null,loading:!0,initialized:!1,initialize:async()=>{const{data:{session:r}}=await zt.auth.getSession();e({user:r?.user||null,loading:!!r}),zt.auth.onAuthStateChange(async(i,s)=>{const l=s?.user||null;e({user:l}),l?await t().checkCoupleStatus():e({profile:null,couple:null,loading:!1})}),r&&await t().checkCoupleStatus(),e({initialized:!0})},checkCoupleStatus:async()=>{const r=t().user;if(r){e({loading:!0});try{const{data:i}=await zt.from("profiles").select("*").eq("id",r.id).single(),{data:s}=await zt.from("couples").select("*").or(`user1_id.eq.${r.id},user2_id.eq.${r.id}`).single();e({profile:i,couple:s,loading:!1})}catch(i){console.error("Error loading user data:",i),e({loading:!1})}}},signOut:async()=>{await zt.auth.signOut(),e({user:null,profile:null,couple:null})}})),yk=()=>{const{user:e,checkCoupleStatus:t}=Hs(),r=xa(),[i,s]=R.useState(null),[l,c]=R.useState(""),[f,h]=R.useState(null),[m,g]=R.useState(!1),v=async()=>{if(!e)return;g(!0);const w=Math.random().toString(36).substring(2,8).toUpperCase();try{const{error:C}=await zt.from("connection_codes").insert({code:w,creator_id:e.id});if(C)throw C;h(w),zt.channel(`connect_${w}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"couples",filter:`notion_api_key=eq.${w}`},async()=>{alert("Partner connected!"),await t(),r("/setup")}).subscribe(),zt.channel("my_couple_status").on("postgres_changes",{event:"INSERT",schema:"public",table:"couples",filter:`user1_id=eq.${e.id}`},async()=>{await t(),r("/setup")}).subscribe()}catch(C){alert(C.message)}finally{g(!1)}},y=async()=>{if(e){g(!0);try{const{data:w,error:C}=await zt.from("connection_codes").select("*").eq("code",l).single();if(C||!w)throw new Error("Invalid or expired code");const{error:T}=await zt.from("couples").insert({user1_id:w.creator_id,user2_id:e.id,d_day:new Date().toISOString()});if(T)throw T;await zt.from("connection_codes").delete().eq("code",l),await t(),r("/setup")}catch(w){alert(w.message)}finally{g(!1)}}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:A.jsxs(jn,{className:"w-full max-w-md p-8 text-center",variant:"glass",children:[A.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Connect with Partner"}),!i&&A.jsxs("div",{className:"space-y-4",children:[A.jsx(dt,{variant:"primary",className:"w-full",onClick:()=>{s("create"),v()},children:"Generate Code"}),A.jsxs("div",{className:"relative my-4",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("span",{className:"w-full border-t border-gray-300"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or"})})]}),A.jsx(dt,{variant:"secondary",className:"w-full",onClick:()=>s("join"),children:"Enter Partner's Code"})]}),i==="create"&&A.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[A.jsx("p",{className:"mb-4 text-gray-600",children:"Share this code with your partner:"}),A.jsx("div",{className:"text-4xl font-mono font-bold tracking-widest text-[var(--color-accent)] mb-8",children:m?"...":f}),A.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Waiting for partner..."}),A.jsx(dt,{variant:"ghost",onClick:()=>s(null),children:"Cancel"})]}),i==="join"&&A.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 space-y-4",children:[A.jsx("input",{type:"text",placeholder:"Enter Code (e.g. A1B2C3)",className:"text-center text-2xl p-4 w-full rounded-xl border-2 border-[var(--color-accent)] uppercase",value:l,onChange:w=>c(w.target.value.toUpperCase())}),A.jsx(dt,{variant:"primary",className:"w-full",onClick:y,isLoading:m,children:"Connect"}),A.jsx(dt,{variant:"ghost",className:"w-full",onClick:()=>s(null),children:"Cancel"})]})]})})},bk=()=>{const{couple:e}=Hs(),t=xa(),[r,i]=R.useState(""),[s,l]=R.useState(!1),c=async()=>{if(e){l(!0);try{const{error:f}=await zt.from("couples").update({notion_api_key:r,notion_db_map:{status:"mocked_setup_complete"}}).eq("id",e.id);if(f)throw f;alert("Notion Setup Complete! Databases created."),t("/")}catch(f){alert("Setup Failed: "+f.message)}finally{l(!1)}}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:A.jsxs(jn,{className:"w-full max-w-lg p-8",variant:"glass",children:[A.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Notion Integration"}),A.jsxs("p",{className:"text-gray-600 mb-6",children:["Enter your Notion Integration Token. ",A.jsx("br",{}),"We will automatically create the ",A.jsx("b",{children:"Dear23"})," page and databases for you."]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Internal Integration Token"}),A.jsx("input",{type:"password",className:"w-full p-3 rounded-lg border bg-white/50",placeholder:"secret_...",value:r,onChange:f=>i(f.target.value)})]}),A.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-sm text-blue-700",children:[A.jsx("strong",{children:"Tip:"})," Create an integration at ",A.jsx("u",{children:"developers.notion.com"})," and give it access to your page."]}),A.jsx(dt,{variant:"primary",className:"w-full",onClick:c,isLoading:s,children:"Start Dear23"})]})]})})},oT=6048e5,wk=864e5,Fw=Symbol.for("constructDateFrom");function Pn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Fw in e?e[Fw](t):e instanceof Date?new e.constructor(t):new Date(t)}function ln(e,t){return Pn(t||e,e)}function lT(e,t,r){const i=ln(e,r?.in);if(isNaN(t))return Pn(e,NaN);if(!t)return i;const s=i.getDate(),l=Pn(e,i.getTime());l.setMonth(i.getMonth()+t+1,0);const c=l.getDate();return s>=c?l:(i.setFullYear(l.getFullYear(),l.getMonth(),s),i)}let Sk={};function _l(){return Sk}function Ns(e,t){const r=_l(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ln(e,t?.in),l=s.getDay(),c=(l<i?7:0)+l-i;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function wc(e,t){return Ns(e,{...t,weekStartsOn:1})}function uT(e,t){const r=ln(e,t?.in),i=r.getFullYear(),s=Pn(r,0);s.setFullYear(i+1,0,4),s.setHours(0,0,0,0);const l=wc(s),c=Pn(r,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const f=wc(c);return r.getTime()>=l.getTime()?i+1:r.getTime()>=f.getTime()?i:i-1}function Qw(e){const t=ln(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Uc(e,...t){const r=Pn.bind(null,t.find(i=>typeof i=="object"));return t.map(r)}function Sc(e,t){const r=ln(e,t?.in);return r.setHours(0,0,0,0),r}function _k(e,t,r){const[i,s]=Uc(r?.in,e,t),l=Sc(i),c=Sc(s),f=+l-Qw(l),h=+c-Qw(c);return Math.round((f-h)/wk)}function Tk(e,t){const r=uT(e,t),i=Pn(e,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),wc(i)}function Ek(e){return Pn(e,Date.now())}function cT(e,t,r){const[i,s]=Uc(r?.in,e,t);return+Sc(i)==+Sc(s)}function xk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ck(e){return!(!xk(e)&&typeof e!="number"||isNaN(+ln(e)))}function Ok(e,t){const r=ln(e,t?.in),i=r.getMonth();return r.setFullYear(r.getFullYear(),i+1,0),r.setHours(23,59,59,999),r}function Ak(e,t){const[r,i]=Uc(e,t.start,t.end);return{start:r,end:i}}function Rk(e,t){const{start:r,end:i}=Ak(t?.in,e);let s=+r>+i;const l=s?+r:+i,c=s?i:r;c.setHours(0,0,0,0);let f=1;const h=[];for(;+c<=l;)h.push(Pn(r,c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return s?h.reverse():h}function Dk(e,t){const r=ln(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function jk(e,t){const r=ln(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Mk(e,t){const r=_l(),i=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ln(e,t?.in),l=s.getDay(),c=(l<i?-7:0)+6-(l-i);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}const Nk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Pk=(e,t,r)=>{let i;const s=Nk[e];return typeof s=="string"?i=s:t===1?i=s.one:i=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Nd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const kk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uk={date:Nd({formats:kk,defaultWidth:"full"}),time:Nd({formats:zk,defaultWidth:"full"}),dateTime:Nd({formats:Lk,defaultWidth:"full"})},Bk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vk=(e,t,r,i)=>Bk[e];function Yo(e){return(t,r)=>{const i=r?.context?String(r.context):"standalone";let s;if(i==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=r?.width?String(r.width):c;s=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=r?.width?String(r.width):e.defaultWidth;s=e.values[f]||e.values[c]}const l=e.argumentCallback?e.argumentCallback(t):t;return s[l]}}const Hk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$k={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kk=(e,t)=>{const r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Wk={ordinalNumber:Kk,era:Yo({values:Hk,defaultWidth:"wide"}),quarter:Yo({values:qk,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yo({values:Yk,defaultWidth:"wide"}),day:Yo({values:$k,defaultWidth:"wide"}),dayPeriod:Yo({values:Xk,defaultWidth:"wide",formattingValues:Gk,defaultFormattingWidth:"wide"})};function $o(e){return(t,r={})=>{const i=r.width,s=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],l=t.match(s);if(!l)return null;const c=l[0],f=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],h=Array.isArray(f)?Fk(f,v=>v.test(c)):Ik(f,v=>v.test(c));let m;m=e.valueCallback?e.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=t.slice(c.length);return{value:m,rest:g}}}function Ik(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Fk(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Qk(e){return(t,r={})=>{const i=t.match(e.matchPattern);if(!i)return null;const s=i[0],l=t.match(e.parsePattern);if(!l)return null;let c=e.valueCallback?e.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const f=t.slice(s.length);return{value:c,rest:f}}}const Zk=/^(\d+)(th|st|nd|rd)?/i,Jk=/\d+/i,e5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},t5={any:[/^b/i,/^(a|c)/i]},n5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},r5={any:[/1/i,/2/i,/3/i,/4/i]},i5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},a5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},s5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},o5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},l5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},u5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},c5={ordinalNumber:Qk({matchPattern:Zk,parsePattern:Jk,valueCallback:e=>parseInt(e,10)}),era:$o({matchPatterns:e5,defaultMatchWidth:"wide",parsePatterns:t5,defaultParseWidth:"any"}),quarter:$o({matchPatterns:n5,defaultMatchWidth:"wide",parsePatterns:r5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:$o({matchPatterns:i5,defaultMatchWidth:"wide",parsePatterns:a5,defaultParseWidth:"any"}),day:$o({matchPatterns:s5,defaultMatchWidth:"wide",parsePatterns:o5,defaultParseWidth:"any"}),dayPeriod:$o({matchPatterns:l5,defaultMatchWidth:"any",parsePatterns:u5,defaultParseWidth:"any"})},f5={code:"en-US",formatDistance:Pk,formatLong:Uk,formatRelative:Vk,localize:Wk,match:c5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function h5(e,t){const r=ln(e,t?.in);return _k(r,jk(r))+1}function d5(e,t){const r=ln(e,t?.in),i=+wc(r)-+Tk(r);return Math.round(i/oT)+1}function fT(e,t){const r=ln(e,t?.in),i=r.getFullYear(),s=_l(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Pn(t?.in||e,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const f=Ns(c,t),h=Pn(t?.in||e,0);h.setFullYear(i,0,l),h.setHours(0,0,0,0);const m=Ns(h,t);return+r>=+f?i+1:+r>=+m?i:i-1}function m5(e,t){const r=_l(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=fT(e,t),l=Pn(t?.in||e,0);return l.setFullYear(s,0,i),l.setHours(0,0,0,0),Ns(l,t)}function p5(e,t){const r=ln(e,t?.in),i=+Ns(r,t)-+m5(r,t);return Math.round(i/oT)+1}function Ge(e,t){const r=e<0?"-":"",i=Math.abs(e).toString().padStart(t,"0");return r+i}const Ni={y(e,t){const r=e.getFullYear(),i=r>0?r:1-r;return Ge(t==="yy"?i%100:i,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Ge(r+1,2)},d(e,t){return Ge(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Ge(e.getHours()%12||12,t.length)},H(e,t){return Ge(e.getHours(),t.length)},m(e,t){return Ge(e.getMinutes(),t.length)},s(e,t){return Ge(e.getSeconds(),t.length)},S(e,t){const r=t.length,i=e.getMilliseconds(),s=Math.trunc(i*Math.pow(10,r-3));return Ge(s,t.length)}},ps={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zw={G:function(e,t,r){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});default:return r.era(i,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const i=e.getFullYear(),s=i>0?i:1-i;return r.ordinalNumber(s,{unit:"year"})}return Ni.y(e,t)},Y:function(e,t,r,i){const s=fT(e,i),l=s>0?s:1-s;if(t==="YY"){const c=l%100;return Ge(c,2)}return t==="Yo"?r.ordinalNumber(l,{unit:"year"}):Ge(l,t.length)},R:function(e,t){const r=uT(e);return Ge(r,t.length)},u:function(e,t){const r=e.getFullYear();return Ge(r,t.length)},Q:function(e,t,r){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Ge(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,r){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Ge(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,r){const i=e.getMonth();switch(t){case"M":case"MM":return Ni.M(e,t);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,r){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return Ge(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,r,i){const s=p5(e,i);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Ge(s,t.length)},I:function(e,t,r){const i=d5(e);return t==="Io"?r.ordinalNumber(i,{unit:"week"}):Ge(i,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ni.d(e,t)},D:function(e,t,r){const i=h5(e);return t==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ge(i,t.length)},E:function(e,t,r){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,r,i){const s=e.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Ge(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,i){const s=e.getDay(),l=(s-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Ge(l,t.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const i=e.getDay(),s=i===0?7:i;switch(t){case"i":return String(s);case"ii":return Ge(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const i=e.getHours();let s;switch(i===12?s=ps.noon:i===0?s=ps.midnight:s=i/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const i=e.getHours();let s;switch(i>=17?s=ps.evening:i>=12?s=ps.afternoon:i>=4?s=ps.morning:s=ps.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let i=e.getHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ni.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ni.H(e,t)},K:function(e,t,r){const i=e.getHours()%12;return t==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ge(i,t.length)},k:function(e,t,r){let i=e.getHours();return i===0&&(i=24),t==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ge(i,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ni.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ni.s(e,t)},S:function(e,t){return Ni.S(e,t)},X:function(e,t,r){const i=e.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return eS(i);case"XXXX":case"XX":return ma(i);default:return ma(i,":")}},x:function(e,t,r){const i=e.getTimezoneOffset();switch(t){case"x":return eS(i);case"xxxx":case"xx":return ma(i);default:return ma(i,":")}},O:function(e,t,r){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jw(i,":");default:return"GMT"+ma(i,":")}},z:function(e,t,r){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jw(i,":");default:return"GMT"+ma(i,":")}},t:function(e,t,r){const i=Math.trunc(+e/1e3);return Ge(i,t.length)},T:function(e,t,r){return Ge(+e,t.length)}};function Jw(e,t=""){const r=e>0?"-":"+",i=Math.abs(e),s=Math.trunc(i/60),l=i%60;return l===0?r+String(s):r+String(s)+t+Ge(l,2)}function eS(e,t){return e%60===0?(e>0?"-":"+")+Ge(Math.abs(e)/60,2):ma(e,t)}function ma(e,t=""){const r=e>0?"-":"+",i=Math.abs(e),s=Ge(Math.trunc(i/60),2),l=Ge(i%60,2);return r+s+t+l}const tS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},hT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},g5=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return tS(e,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",tS(i,t)).replace("{{time}}",hT(s,t))},v5={p:hT,P:g5},y5=/^D+$/,b5=/^Y+$/,w5=["D","DD","YY","YYYY"];function S5(e){return y5.test(e)}function _5(e){return b5.test(e)}function T5(e,t,r){const i=E5(e,t,r);if(console.warn(i),w5.includes(e))throw new RangeError(i)}function E5(e,t,r){const i=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${i} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O5=/^'([^]*?)'?$/,A5=/''/g,R5=/[a-zA-Z]/;function dl(e,t,r){const i=_l(),s=i.locale??f5,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=ln(e,r?.in);if(!Ck(f))throw new RangeError("Invalid time value");let h=t.match(C5).map(g=>{const v=g[0];if(v==="p"||v==="P"){const y=v5[v];return y(g,s.formatLong)}return g}).join("").match(x5).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:D5(g)};if(Zw[v])return{isToken:!0,value:g};if(v.match(R5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(h=s.localize.preprocessor(f,h));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:s};return h.map(g=>{if(!g.isToken)return g.value;const v=g.value;(_5(v)||S5(v))&&T5(v,t,String(e));const y=Zw[v[0]];return y(f,v,s.localize,m)}).join("")}function D5(e){const t=e.match(O5);return t?t[1].replace(A5,"'"):e}function j5(e,t,r){const[i,s]=Uc(r?.in,e,t);return i.getFullYear()===s.getFullYear()&&i.getMonth()===s.getMonth()}function nS(e,t){return cT(Pn(e,e),Ek(e))}function M5(e,t,r){return lT(e,-1,r)}const N5=({message:e,isMine:t})=>A.jsx(Ms.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex w-full ${t?"justify-end":"justify-start"}`,children:A.jsxs("div",{className:`flex max-w-[70%] ${t?"flex-row-reverse":"flex-row"} items-end gap-2`,children:[!t&&A.jsx("div",{className:"w-8 h-8 rounded-[12px] bg-gray-300 flex-shrink-0 mb-4"}),A.jsxs("div",{className:`flex flex-col ${t?"items-end":"items-start"}`,children:[!t&&A.jsx("span",{className:"text-xs text-gray-600 mb-1 ml-1",children:"Partner"}),A.jsxs("div",{className:"flex items-end gap-1",children:[t&&A.jsx("span",{className:"text-[10px] text-gray-500 mb-1",children:dl(new Date(e.created_at),"a h:mm")}),A.jsx("div",{className:`
                             relative px-4 py-2 rounded-[18px] text-sm shadow-sm break-words
                             ${t?"bg-[#FAE100] text-black rounded-tr-none":"bg-white text-black rounded-tl-none"}
                         `,children:e.content}),!t&&A.jsx("span",{className:"text-[10px] text-gray-500 mb-1",children:dl(new Date(e.created_at),"a h:mm")})]})]})]})});var dT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rS=Ye.createContext&&Ye.createContext(dT),P5=["attr","size","title"];function k5(e,t){if(e==null)return{};var r=z5(e,t),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)i=l[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function z5(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},_c.apply(this,arguments)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,i)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(i){L5(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function L5(e,t,r){return t=U5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U5(e){var t=B5(e,"string");return typeof t=="symbol"?t:t+""}function B5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mT(e){return e&&e.map((t,r)=>Ye.createElement(t.tag,Tc({key:r},t.attr),mT(t.child)))}function Yt(e){return t=>Ye.createElement(V5,_c({attr:Tc({},e.attr)},t),mT(e.child))}function V5(e){var t=r=>{var{attr:i,size:s,title:l}=e,c=k5(e,P5),f=s||r.size||"1em",h;return r.className&&(h=r.className),e.className&&(h=(h?h+" ":"")+e.className),Ye.createElement("svg",_c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,c,{className:h,style:Tc(Tc({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ye.createElement("title",null,l),e.children)};return rS!==void 0?Ye.createElement(rS.Consumer,null,r=>t(r)):t(dT)}function H5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5"},child:[]}]})(e)}function q5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"},child:[]}]})(e)}function Y5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"},child:[]}]})(e)}function $5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.678 11.894a1 1 0 0 1 .287.801 11 11 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8 8 0 0 0 8 14c3.996 0 7-2.807 7-6s-3.004-6-7-6-7 2.808-7 6c0 1.468.617 2.83 1.678 3.894m-.493 3.905a22 22 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a10 10 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9 9 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105"},child:[]}]})(e)}function pT(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"},child:[]}]})(e)}function gT(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"},child:[]}]})(e)}function X5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"},child:[]}]})(e)}function G5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},child:[]},{tag:"path",attr:{d:"M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"},child:[]}]})(e)}function K5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5zM1.5 1a.5.5 0 0 0-.5.5V5h4V1zM5 6H1v4h4zm1 4h4V6H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11zm0-1h4V6h-4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11zm-1 0V1H6v4z"},child:[]}]})(e)}function W5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"},child:[]}]})(e)}function I5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"},child:[]}]})(e)}function F5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"},child:[]}]})(e)}function Q5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"},child:[]}]})(e)}function vT(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"},child:[]}]})(e)}function Z5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"},child:[]}]})(e)}function yT(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.5 2.5 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5m-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3m11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3"},child:[]}]})(e)}function J5(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.338 1.59a61 61 0 0 0-2.837.856.48.48 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.7 10.7 0 0 0 2.287 2.233c.346.244.652.42.893.533q.18.085.293.118a1 1 0 0 0 .101.025 1 1 0 0 0 .1-.025q.114-.034.294-.118c.24-.113.547-.29.893-.533a10.7 10.7 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.8 11.8 0 0 1-2.517 2.453 7 7 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7 7 0 0 1-1.048-.625 11.8 11.8 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 63 63 0 0 1 5.072.56"},child:[]},{tag:"path",attr:{d:"M9.5 6.5a1.5 1.5 0 0 1-1 1.415l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99a1.5 1.5 0 1 1 2-1.415"},child:[]}]})(e)}function ez(e){return Yt({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"},child:[]}]})(e)}const tz=({onSend:e})=>{const[t,r]=R.useState(""),i=l=>{t.trim()&&(e(t),r(""))},s=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),i())};return A.jsxs("div",{className:"bg-white p-2 pb-safe-area flex items-end gap-2 border-t border-gray-100",children:[A.jsx(dt,{variant:"ghost",size:"icon",className:"text-gray-400",children:A.jsx(vT,{})}),A.jsxs("div",{className:"flex-1 bg-gray-100 rounded-[18px] px-4 py-2 flex items-center gap-2",children:[A.jsx("textarea",{className:"bg-transparent border-none outline-none w-full resize-none max-h-24 text-sm",rows:1,placeholder:"Message...",value:t,onChange:l=>r(l.target.value),onKeyDown:s,style:{minHeight:"24px"}}),A.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:A.jsx(G5,{})})]}),A.jsx(dt,{variant:t.trim()?"primary":"ghost",size:"icon",className:`transition-colors ${t.trim()?"bg-[#FAE100] text-black":"text-gray-400"}`,onClick:()=>i(),children:A.jsx(H5,{})})]})},nz=()=>{const{user:e,couple:t}=Hs(),r=xa(),[i,s]=R.useState([]),[l,c]=R.useState(!0),f=R.useRef(null);R.useEffect(()=>{if(!e||!t)return;(async()=>{const{data:y,error:w}=await zt.from("messages").select("*").eq("chat_room_id",t.id).order("created_at",{ascending:!0}).limit(100);w?console.error("Error fetching messages:",w):s(y),c(!1),h()})();const v=zt.channel(`chat_${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`chat_room_id=eq.${t.id}`},y=>{const w=y.new;s(C=>[...C,w]),h()}).subscribe();return()=>{zt.removeChannel(v)}},[e,t]);const h=()=>{setTimeout(()=>{f.current?.scrollIntoView({behavior:"smooth"})},100)},m=async g=>{if(!e||!t)return;const{error:v}=await zt.from("messages").insert({content:g,user_id:e.id,chat_room_id:t.id,type:"text"});v&&alert("Failed to send message")};return l?A.jsx("div",{className:"p-4 text-center",children:"Loading Chat..."}):A.jsxs("div",{className:"flex flex-col h-[100dvh] bg-[#ABC1D1]",children:[" ",A.jsxs("header",{className:"flex items-center justify-between p-4 bg-white/10 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:[A.jsx(dt,{variant:"ghost",onClick:()=>r("/"),size:"sm",children:"< Back"}),A.jsx("h1",{className:"text-lg font-semibold text-white",children:t?"Couple Chat":"Chat"}),A.jsx("div",{className:"w-8"})," "]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[i.map((g,v)=>{const y=g.user_id===e?.id,w=v===0||new Date(g.created_at).toDateString()!==new Date(i[v-1].created_at).toDateString();return A.jsxs(Ye.Fragment,{children:[w&&A.jsx("div",{className:"flex justify-center my-4",children:A.jsx("span",{className:"bg-black/10 text-white text-xs px-3 py-1 rounded-full",children:dl(new Date(g.created_at),"yyyy. MM. dd. EEEE")})}),A.jsx(N5,{message:g,isMine:y})]},g.id)}),A.jsx("div",{ref:f})]}),A.jsx(tz,{onSend:m})]})};var Zn=function(e,t){return Number(e.toFixed(t))},rz=function(e,t){return t},ot=function(e,t,r){r&&typeof r=="function"&&r(e,t)},iz=function(e){return-Math.cos(e*Math.PI)/2+.5},az=function(e){return e},sz=function(e){return e*e},oz=function(e){return e*(2-e)},lz=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},uz=function(e){return e*e*e},cz=function(e){return--e*e*e+1},fz=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},hz=function(e){return e*e*e*e},dz=function(e){return 1- --e*e*e*e},mz=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},pz=function(e){return e*e*e*e*e},gz=function(e){return 1+--e*e*e*e*e},vz=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},bT={easeOut:iz,linear:az,easeInQuad:sz,easeOutQuad:oz,easeInOutQuad:lz,easeInCubic:uz,easeOutCubic:cz,easeInOutCubic:fz,easeInQuart:hz,easeOutQuart:dz,easeInOutQuart:mz,easeInQuint:pz,easeOutQuint:gz,easeInOutQuint:vz},wT=function(e){typeof e=="number"&&cancelAnimationFrame(e)},gr=function(e){e.mounted&&(wT(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function ST(e,t,r,i){if(e.mounted){var s=new Date().getTime(),l=1;gr(e),e.animation=function(){if(!e.mounted)return wT(e.animation);var c=new Date().getTime()-s,f=c/r,h=bT[t],m=h(f);c>=r?(i(l),e.animation=null):e.animation&&(i(m),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function yz(e){var t=e.scale,r=e.positionX,i=e.positionY;return!(Number.isNaN(t)||Number.isNaN(r)||Number.isNaN(i))}function $i(e,t,r,i){var s=yz(t);if(!(!e.mounted||!s)){var l=e.setTransformState,c=e.transformState,f=c.scale,h=c.positionX,m=c.positionY,g=t.scale-f,v=t.positionX-h,y=t.positionY-m;r===0?l(t.scale,t.positionX,t.positionY):ST(e,i,r,function(w){var C=f+g*w,T=h+v*w,S=m+y*w;l(C,T,S)})}}function bz(e,t,r){var i=e.offsetWidth,s=e.offsetHeight,l=t.offsetWidth,c=t.offsetHeight,f=l*r,h=c*r,m=i-f,g=s-h;return{wrapperWidth:i,wrapperHeight:s,newContentWidth:f,newDiffWidth:m,newContentHeight:h,newDiffHeight:g}}var wz=function(e,t,r,i,s,l,c){var f=e>t?r*(c?1:.5):0,h=i>s?l*(c?1:.5):0,m=e-t-f,g=f,v=i-s-h,y=h;return{minPositionX:m,maxPositionX:g,minPositionY:v,maxPositionY:y}},Rp=function(e,t){var r=e.wrapperComponent,i=e.contentComponent,s=e.setup.centerZoomedOut;if(!r||!i)throw new Error("Components are not mounted");var l=bz(r,i,t),c=l.wrapperWidth,f=l.wrapperHeight,h=l.newContentWidth,m=l.newDiffWidth,g=l.newContentHeight,v=l.newDiffHeight,y=wz(c,h,m,f,g,v,!!s);return y},wm=function(e,t,r,i){return i?e<t?Zn(t,2):e>r?Zn(r,2):Zn(e,2):Zn(e,2)},Ea=function(e,t){var r=Rp(e,t);return e.bounds=r,r};function Tl(e,t,r,i,s,l,c){var f=r.minPositionX,h=r.minPositionY,m=r.maxPositionX,g=r.maxPositionY,v=0,y=0;c&&(v=s,y=l);var w=wm(e,f-v,m+v,i),C=wm(t,h-y,g+y,i);return{x:w,y:C}}function Bc(e,t,r,i,s,l){var c=e.transformState,f=c.scale,h=c.positionX,m=c.positionY,g=i-f;if(typeof t!="number"||typeof r!="number")return console.error("Mouse X and Y position were not provided!"),{x:h,y:m};var v=h-t*g,y=m-r*g,w=Tl(v,y,s,l,0,0,null);return w}function El(e,t,r,i,s){var l=s?i:0,c=t-l;return!Number.isNaN(r)&&e>=r?r:!Number.isNaN(t)&&e<=c?c:e}var aS=function(e,t){var r=e.setup.panning.excluded,i=e.isInitialized,s=e.wrapperComponent,l=t.target,c="shadowRoot"in l&&"composedPath"in t,f=c?t.composedPath().some(function(g){return g instanceof Element?s?.contains(g):!1}):s?.contains(l),h=i&&l&&f;if(!h)return!1;var m=Vc(l,r);return!m},sS=function(e){var t=e.isInitialized,r=e.isPanning,i=e.setup,s=i.panning.disabled,l=t&&r&&!s;return!!l},Sz=function(e,t){var r=e.transformState,i=r.positionX,s=r.positionY;e.isPanning=!0;var l=t.clientX,c=t.clientY;e.startCoords={x:l-i,y:c-s}},_z=function(e,t){var r=t.touches,i=e.transformState,s=i.positionX,l=i.positionY;e.isPanning=!0;var c=r.length===1;if(c){var f=r[0].clientX,h=r[0].clientY;e.startCoords={x:f-s,y:h-l}}};function Tz(e){var t=e.transformState,r=t.positionX,i=t.positionY,s=t.scale,l=e.setup,c=l.disabled,f=l.limitToBounds,h=l.centerZoomedOut,m=e.wrapperComponent;if(!(c||!m||!e.bounds)){var g=e.bounds,v=g.maxPositionX,y=g.minPositionX,w=g.maxPositionY,C=g.minPositionY,T=r>v||r<y,S=i>w||i<C,_=r>v?m.offsetWidth:e.setup.minPositionX||0,E=i>w?m.offsetHeight:e.setup.minPositionY||0,O=Bc(e,_,E,s,e.bounds,f||h),N=O.x,z=O.y;return{scale:s,positionX:T?N:r,positionY:S?z:i}}}function _T(e,t,r,i,s){var l=e.setup.limitToBounds,c=e.wrapperComponent,f=e.bounds,h=e.transformState,m=h.scale,g=h.positionX,v=h.positionY;if(!(c===null||f===null||t===g&&r===v)){var y=Tl(t,r,f,l,i,s,c),w=y.x,C=y.y;e.setTransformState(m,w,C)}}var Ez=function(e,t,r){var i=e.startCoords,s=e.transformState,l=e.setup.panning,c=l.lockAxisX,f=l.lockAxisY,h=s.positionX,m=s.positionY;if(!i)return{x:h,y:m};var g=t-i.x,v=r-i.y,y=c?h:g,w=f?m:v;return{x:y,y:w}},Hi=function(e,t){var r=e.setup,i=e.transformState,s=i.scale,l=r.minScale,c=r.disablePadding;return t>0&&s>=l&&!c?t:0},xz=function(e){var t=e.mounted,r=e.setup,i=r.disabled,s=r.velocityAnimation,l=e.transformState.scale,c=s.disabled,f=!c||l>1||!i||t;return!!f},Cz=function(e){var t=e.mounted,r=e.velocity,i=e.bounds,s=e.setup,l=s.disabled,c=s.velocityAnimation,f=e.transformState.scale,h=c.disabled,m=!h||f>1||!l||t;return!(!m||!r||!i)};function Oz(e,t){var r=e.setup.velocityAnimation,i=r.equalToMove,s=r.animationTime,l=r.sensitivity;return i?s*t*l:s}function oS(e,t,r,i,s,l,c,f,h,m){if(s){if(t>c&&r>c){var g=c+(e-c)*m;return g>h?h:g<c?c:g}if(t<l&&r<l){var g=l+(e-l)*m;return g<f?f:g>l?l:g}}return i?t:wm(e,l,c,s)}function Az(e,t){var r=1;return t?Math.min(r,e.offsetWidth/window.innerWidth):r}function Rz(e,t){var r=xz(e);if(r){var i=e.lastMousePosition,s=e.velocityTime,l=e.setup,c=e.wrapperComponent,f=l.velocityAnimation.equalToMove,h=Date.now();if(i&&s&&c){var m=Az(c,f),g=t.x-i.x,v=t.y-i.y,y=g/m,w=v/m,C=h-s,T=g*g+v*v,S=Math.sqrt(T)/C;e.velocity={velocityX:y,velocityY:w,total:S}}e.lastMousePosition=t,e.velocityTime=h}}function Dz(e){var t=e.velocity,r=e.bounds,i=e.setup,s=e.wrapperComponent,l=Cz(e);if(!(!l||!t||!r||!s)){var c=t.velocityX,f=t.velocityY,h=t.total,m=r.maxPositionX,g=r.minPositionX,v=r.maxPositionY,y=r.minPositionY,w=i.limitToBounds,C=i.alignmentAnimation,T=i.zoomAnimation,S=i.panning,_=S.lockAxisY,E=S.lockAxisX,O=T.animationType,N=C.sizeX,z=C.sizeY,L=C.velocityAlignmentTime,D=L,M=Oz(e,h),$=Math.max(M,D),Z=Hi(e,N),ee=Hi(e,z),me=Z*s.offsetWidth/100,re=ee*s.offsetHeight/100,le=m+me,Te=g-me,H=v+re,K=y-re,Q=e.transformState,pe=new Date().getTime();ST(e,O,$,function(ye){var P=e.transformState,G=P.scale,F=P.positionX,J=P.positionY,fe=new Date().getTime()-pe,se=fe/D,xe=bT[C.animationType],nt=1-xe(Math.min(1,se)),be=1-ye,ct=F+c*be,Be=J+f*be,$t=oS(ct,Q.positionX,F,E,w,g,m,Te,le,nt),Xt=oS(Be,Q.positionY,J,_,w,y,v,K,H,nt);(F!==ct||J!==Be)&&e.setTransformState(G,$t,Xt)})}}function lS(e,t){var r=e.transformState.scale;gr(e),Ea(e,r),window.TouchEvent!==void 0&&t instanceof TouchEvent?_z(e,t):Sz(e,t)}function Dp(e,t){var r=e.transformState.scale,i=e.setup,s=i.minScale,l=i.alignmentAnimation,c=l.disabled,f=l.sizeX,h=l.sizeY,m=l.animationTime,g=l.animationType,v=c||r<s||!f&&!h;if(!v){var y=Tz(e);y&&$i(e,y,t??m,g)}}function uS(e,t,r){var i=e.startCoords,s=e.setup,l=s.alignmentAnimation,c=l.sizeX,f=l.sizeY;if(i){var h=Ez(e,t,r),m=h.x,g=h.y,v=Hi(e,c),y=Hi(e,f);Rz(e,{x:m,y:g}),_T(e,m,g,v,y)}}function jz(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,r=e.velocity,i=e.wrapperComponent,s=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var l=i?.getBoundingClientRect(),c=s?.getBoundingClientRect(),f=l?.width||0,h=l?.height||0,m=c?.width||0,g=c?.height||0,v=f<m||h<g,y=!t&&r&&r?.total>.1&&v;y?Dz(e):Dp(e)}}function jp(e,t,r,i){var s=e.setup,l=s.minScale,c=s.maxScale,f=s.limitToBounds,h=El(Zn(t,2),l,c,0,!1),m=Ea(e,h),g=Bc(e,r,i,h,m,f),v=g.x,y=g.y;return{scale:h,positionX:v,positionY:y}}function TT(e,t,r){var i=e.transformState.scale,s=e.wrapperComponent,l=e.setup,c=l.minScale,f=l.limitToBounds,h=l.zoomAnimation,m=h.disabled,g=h.animationTime,v=h.animationType,y=m||i>=c;if((i>=1||f)&&Dp(e),!(y||!s||!e.mounted)){var w=t||s.offsetWidth/2,C=r||s.offsetHeight/2,T=jp(e,c,w,C);T&&$i(e,T,g,v)}}var Ui=function(){return Ui=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Ui.apply(this,arguments)};function cS(e,t,r){for(var i=0,s=t.length,l;i<s;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var Zu={scale:1,positionX:0,positionY:0},Xo={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Sm={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},ET=function(e){var t,r,i,s;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Zu.scale,scale:(r=e.initialScale)!==null&&r!==void 0?r:Zu.scale,positionX:(i=e.initialPositionX)!==null&&i!==void 0?i:Zu.positionX,positionY:(s=e.initialPositionY)!==null&&s!==void 0?s:Zu.positionY}},fS=function(e){var t=Ui({},Xo);return Object.keys(e).forEach(function(r){var i=typeof e[r]<"u",s=typeof Xo[r]<"u";if(s&&i){var l=Object.prototype.toString.call(Xo[r]),c=l==="[object Object]",f=l==="[object Array]";c?t[r]=Ui(Ui({},Xo[r]),e[r]):f?t[r]=cS(cS([],Xo[r],!0),e[r]):t[r]=e[r]}}),t},xT=function(e,t,r){var i=e.transformState.scale,s=e.wrapperComponent,l=e.setup,c=l.maxScale,f=l.minScale,h=l.zoomAnimation,m=l.smooth,g=h.size;if(!s)throw new Error("Wrapper is not mounted");var v=m?i*Math.exp(t*r):i+t*r,y=El(Zn(v,3),f,c,g,!1);return y};function CT(e,t,r,i,s){var l=e.wrapperComponent,c=e.transformState,f=c.scale,h=c.positionX,m=c.positionY;if(!l)return console.error("No WrapperComponent found");var g=l.offsetWidth,v=l.offsetHeight,y=(g/2-h)/f,w=(v/2-m)/f,C=xT(e,t,r),T=jp(e,C,y,w);if(!T)return console.error("Error during zoom event. New transformation state was not calculated.");$i(e,T,i,s)}function OT(e,t,r,i){var s=e.setup,l=e.wrapperComponent,c=s.limitToBounds,f=ET(e.props),h=e.transformState,m=h.scale,g=h.positionX,v=h.positionY;if(l){var y=Rp(e,f.scale),w=Tl(f.positionX,f.positionY,y,c,0,0,l),C={scale:f.scale,positionX:w.x,positionY:w.y};m===f.scale&&g===f.positionX&&v===f.positionY||(i?.(),$i(e,C,t,r))}}function Mz(e,t,r,i){var s=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=r.getBoundingClientRect(),f=l.x*i.scale,h=l.y*i.scale;return{x:(s.x-c.x+f)/i.scale,y:(s.y-c.y+h)/i.scale}}function Nz(e,t,r){var i=e.wrapperComponent,s=e.contentComponent,l=e.transformState,c=e.setup,f=c.limitToBounds,h=c.minScale,m=c.maxScale;if(!i||!s)return l;var g=i.getBoundingClientRect(),v=t.getBoundingClientRect(),y=Mz(t,i,s,l),w=y.x,C=y.y,T=v.width/l.scale,S=v.height/l.scale,_=i.offsetWidth/T,E=i.offsetHeight/S,O=El(r||Math.min(_,E),h,m,0,!1),N=(g.width-T*O)/2,z=(g.height-S*O)/2,L=(g.left-w)*O+N,D=(g.top-C)*O+z,M=Rp(e,O),$=Tl(L,D,M,f,0,0,i),Z=$.x,ee=$.y;return{positionX:Z,positionY:ee,scale:O}}var Pz=function(e){return function(t,r,i){t===void 0&&(t=.5),r===void 0&&(r=300),i===void 0&&(i="easeOut"),CT(e,1,t,r,i)}},kz=function(e){return function(t,r,i){t===void 0&&(t=.5),r===void 0&&(r=300),i===void 0&&(i="easeOut"),CT(e,-1,t,r,i)}},zz=function(e){return function(t,r,i,s,l){s===void 0&&(s=300),l===void 0&&(l="easeOut");var c=e.transformState,f=c.positionX,h=c.positionY,m=c.scale,g=e.wrapperComponent,v=e.contentComponent,y=e.setup.disabled;if(!(y||!g||!v)){var w={positionX:Number.isNaN(t)?f:t,positionY:Number.isNaN(r)?h:r,scale:Number.isNaN(i)?m:i};$i(e,w,s,l)}}},Lz=function(e){return function(t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut"),OT(e,t,r)}},Uz=function(e){return function(t,r,i){r===void 0&&(r=200),i===void 0&&(i="easeOut");var s=e.transformState,l=e.wrapperComponent,c=e.contentComponent;if(l&&c){var f=AT(t||s.scale,l,c);$i(e,f,r,i)}}},Bz=function(e){return function(t,r,i,s){i===void 0&&(i=600),s===void 0&&(s="easeOut"),gr(e);var l=e.wrapperComponent,c=typeof t=="string"?document.getElementById(t):t;if(l&&c&&l.contains(c)){var f=Nz(e,c,r);$i(e,f,i,s)}}},_m=function(e){return{instance:e,zoomIn:Pz(e),zoomOut:kz(e),setTransform:zz(e),resetTransform:Lz(e),centerView:Uz(e),zoomToElement:Bz(e)}},Vz=function(e){return{instance:e,state:e.transformState}},tt=function(e){var t={};return Object.assign(t,Vz(e)),Object.assign(t,_m(e)),t},Pd=!1;function kd(){try{var e={get passive(){return Pd=!0,!1}};return e}catch{return Pd=!1,Pd}}var Ju=".".concat(Sm.wrapperClass),Vc=function(e,t){return t.some(function(r){return e.matches("".concat(Ju," ").concat(r,", ").concat(Ju," .").concat(r,", ").concat(Ju," ").concat(r," *, ").concat(Ju," .").concat(r," *"))})},Tm=function(e){e&&clearTimeout(e)},Hz=function(e,t,r){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(r,")")},AT=function(e,t,r){var i=r.offsetWidth*e,s=r.offsetHeight*e,l=(t.offsetWidth-i)/2,c=(t.offsetHeight-s)/2;return{scale:e,positionX:l,positionY:c}};function qz(e){return function(t){e.forEach(function(r){typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Yz=function(e,t){var r=e.setup.wheel,i=r.disabled,s=r.wheelDisabled,l=r.touchPadDisabled,c=r.excluded,f=e.isInitialized,h=e.isPanning,m=t.target,g=f&&!h&&!i&&m;if(!g||s&&!t.ctrlKey||l&&t.ctrlKey)return!1;var v=Vc(m,c);return!v},$z=function(e){return e?e.deltaY<0?1:-1:0};function Xz(e,t){var r=$z(e),i=rz(t,r);return i}function RT(e,t,r){var i=t.getBoundingClientRect(),s=0,l=0;if("clientX"in e)s=(e.clientX-i.left)/r,l=(e.clientY-i.top)/r;else{var c=e.touches[0];s=(c.clientX-i.left)/r,l=(c.clientY-i.top)/r}return(Number.isNaN(s)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:s,y:l}}var Gz=function(e,t,r,i,s){var l=e.transformState.scale,c=e.wrapperComponent,f=e.setup,h=f.maxScale,m=f.minScale,g=f.zoomAnimation,v=f.disablePadding,y=g.size,w=g.disabled;if(!c)throw new Error("Wrapper is not mounted");var C=l+t*r,T=i?!1:!w,S=El(Zn(C,3),m,h,y,T&&!v);return S},Kz=function(e,t){var r=e.previousWheelEvent,i=e.transformState.scale,s=e.setup,l=s.maxScale,c=s.minScale;return r?i<l||i>c||Math.sign(r.deltaY)!==Math.sign(t.deltaY)||r.deltaY>0&&r.deltaY<t.deltaY||r.deltaY<0&&r.deltaY>t.deltaY||Math.sign(r.deltaY)!==Math.sign(t.deltaY):!1},Wz=function(e,t){var r=e.setup.pinch,i=r.disabled,s=r.excluded,l=e.isInitialized,c=t.target,f=l&&!i&&c;if(!f)return!1;var h=Vc(c,s);return!h},Iz=function(e){var t=e.setup.pinch.disabled,r=e.isInitialized,i=e.pinchStartDistance,s=r&&!t&&i;return!!s},Fz=function(e,t,r){var i=r.getBoundingClientRect(),s=e.touches,l=Zn(s[0].clientX-i.left,5),c=Zn(s[0].clientY-i.top,5),f=Zn(s[1].clientX-i.left,5),h=Zn(s[1].clientY-i.top,5);return{x:(l+f)/2/t,y:(c+h)/2/t}},DT=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Qz=function(e,t){var r=e.pinchStartScale,i=e.pinchStartDistance,s=e.setup,l=s.maxScale,c=s.minScale,f=s.zoomAnimation,h=s.disablePadding,m=f.size,g=f.disabled;if(!r||i===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var v=t/i,y=v*r;return El(Zn(y,2),c,l,m,!g&&!h)},Zz=160,Jz=100,e3=function(e,t){var r=e.props,i=r.onWheelStart,s=r.onZoomStart;e.wheelStopEventTimer||(gr(e),ot(tt(e),t,i),ot(tt(e),t,s))},t3=function(e,t){var r=e.props,i=r.onWheel,s=r.onZoom,l=e.contentComponent,c=e.setup,f=e.transformState,h=f.scale,m=c.limitToBounds,g=c.centerZoomedOut,v=c.zoomAnimation,y=c.wheel,w=c.disablePadding,C=c.smooth,T=v.size,S=v.disabled,_=y.step,E=y.smoothStep;if(!l)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var O=Xz(t,null),N=C?E*Math.abs(t.deltaY):_,z=Gz(e,O,N,!t.ctrlKey);if(h!==z){var L=Ea(e,z),D=RT(t,l,h),M=S||T===0||g||w,$=m&&M,Z=Bc(e,D.x,D.y,z,L,$),ee=Z.x,me=Z.y;e.previousWheelEvent=t,e.setTransformState(z,ee,me),ot(tt(e),t,i),ot(tt(e),t,s)}},n3=function(e,t){var r=e.props,i=r.onWheelStop,s=r.onZoomStop;Tm(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(TT(e,t.x,t.y),e.wheelAnimationTimer=null)},Jz);var l=Kz(e,t);l&&(Tm(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,ot(tt(e),t,i),ot(tt(e),t,s))},Zz))},jT=function(e){for(var t=0,r=0,i=0;i<2;i+=1)t+=e.touches[i].clientX,r+=e.touches[i].clientY;var s=t/2,l=r/2;return{x:s,y:l}},r3=function(e,t){var r=DT(t);e.pinchStartDistance=r,e.lastDistance=r,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var i=jT(t);e.pinchLastCenterX=i.x,e.pinchLastCenterY=i.y,gr(e)},i3=function(e,t){var r=e.contentComponent,i=e.pinchStartDistance,s=e.wrapperComponent,l=e.transformState.scale,c=e.setup,f=c.limitToBounds,h=c.centerZoomedOut,m=c.zoomAnimation,g=c.alignmentAnimation,v=m.disabled,y=m.size;if(!(i===null||!r)){var w=Fz(t,l,r);if(!(!Number.isFinite(w.x)||!Number.isFinite(w.y))){var C=DT(t),T=Qz(e,C),S=jT(t),_=S.x-(e.pinchLastCenterX||0),E=S.y-(e.pinchLastCenterY||0);if(!(T===l&&_===0&&E===0)){e.pinchLastCenterX=S.x,e.pinchLastCenterY=S.y;var O=Ea(e,T),N=v||y===0||h,z=f&&N,L=Bc(e,w.x,w.y,T,O,z),D=L.x,M=L.y;e.pinchMidpoint=w,e.lastDistance=C;var $=g.sizeX,Z=g.sizeY,ee=Hi(e,$),me=Hi(e,Z),re=D+_,le=M+E,Te=Tl(re,le,O,f,ee,me,s),H=Te.x,K=Te.y;e.setTransformState(T,H,K)}}}},a3=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,TT(e,t?.x,t?.y)},MT=function(e,t){var r=e.props.onZoomStop,i=e.setup.doubleClick.animationTime;Tm(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,ot(tt(e),t,r)},i)},s3=function(e,t){var r=e.props,i=r.onZoomStart,s=r.onZoom,l=e.setup.doubleClick,c=l.animationTime,f=l.animationType;ot(tt(e),t,i),OT(e,c,f,function(){return ot(tt(e),t,s)}),MT(e,t)};function o3(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function l3(e,t){var r=e.setup,i=e.doubleClickStopEventTimer,s=e.transformState,l=e.contentComponent,c=s.scale,f=e.props,h=f.onZoomStart,m=f.onZoom,g=r.doubleClick,v=g.disabled,y=g.mode,w=g.step,C=g.animationTime,T=g.animationType;if(!v&&!i){if(y==="reset")return s3(e,t);if(!l)return console.error("No ContentComponent found");var S=o3(y,e.transformState.scale),_=xT(e,S,w);if(c!==_){ot(tt(e),t,h);var E=RT(t,l,c),O=jp(e,_,E.x,E.y);if(!O)return console.error("Error during zoom event. New transformation state was not calculated.");ot(tt(e),t,m),$i(e,O,C,T),MT(e,t)}}}var u3=function(e,t){var r=e.isInitialized,i=e.setup,s=e.wrapperComponent,l=i.doubleClick,c=l.disabled,f=l.excluded,h=t.target,m=s?.contains(h),g=r&&h&&m&&!c;if(!g)return!1;var v=Vc(h,f);return!v},c3=(function(){function e(t){var r=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){r.initializeWindowEvents()},this.unmount=function(){r.cleanupWindowEvents()},this.update=function(i){r.props=i,Ea(r,r.transformState.scale),r.setup=fS(i)},this.initializeWindowEvents=function(){var i,s,l=kd(),c=(i=r.wrapperComponent)===null||i===void 0?void 0:i.ownerDocument,f=c?.defaultView;(s=r.wrapperComponent)===null||s===void 0||s.addEventListener("wheel",r.onWheelPanning,l),f?.addEventListener("mousedown",r.onPanningStart,l),f?.addEventListener("mousemove",r.onPanning,l),f?.addEventListener("mouseup",r.onPanningStop,l),c?.addEventListener("mouseleave",r.clearPanning,l),f?.addEventListener("keyup",r.setKeyUnPressed,l),f?.addEventListener("keydown",r.setKeyPressed,l)},this.cleanupWindowEvents=function(){var i,s,l=kd(),c=(i=r.wrapperComponent)===null||i===void 0?void 0:i.ownerDocument,f=c?.defaultView;f?.removeEventListener("mousedown",r.onPanningStart,l),f?.removeEventListener("mousemove",r.onPanning,l),f?.removeEventListener("mouseup",r.onPanningStop,l),c?.removeEventListener("mouseleave",r.clearPanning,l),f?.removeEventListener("keyup",r.setKeyUnPressed,l),f?.removeEventListener("keydown",r.setKeyPressed,l),document.removeEventListener("mouseleave",r.clearPanning,l),gr(r),(s=r.observer)===null||s===void 0||s.disconnect()},this.handleInitializeWrapperEvents=function(i){var s=kd();i.addEventListener("wheel",r.onWheelZoom,s),i.addEventListener("dblclick",r.onDoubleClick,s),i.addEventListener("touchstart",r.onTouchPanningStart,s),i.addEventListener("touchmove",r.onTouchPanning,s),i.addEventListener("touchend",r.onTouchPanningStop,s)},this.handleInitialize=function(i,s){var l=!1,c=r.setup.centerOnInit,f=function(h,m){for(var g=0,v=h;g<v.length;g++){var y=v[g];if(y.target===m)return!0}return!1};r.applyTransformation(),r.onInitCallbacks.forEach(function(h){h(tt(r))}),r.observer=new ResizeObserver(function(h){if(f(h,i)||f(h,s))if(c&&!l){var m=s.offsetWidth,g=s.offsetHeight;(m>0||g>0)&&(l=!0,r.setCenter())}else gr(r),Ea(r,r.transformState.scale),Dp(r,0)}),r.observer.observe(i),r.observer.observe(s)},this.onWheelZoom=function(i){var s=r.setup.disabled;if(!s){var l=Yz(r,i);if(l){var c=r.isPressingKeys(r.setup.wheel.activationKeys);c&&(e3(r,i),t3(r,i),n3(r,i))}}},this.onWheelPanning=function(i){var s=r.setup,l=s.disabled,c=s.wheel,f=s.panning;if(!(!r.wrapperComponent||!r.contentComponent||l||!c.wheelDisabled||f.disabled||!f.wheelPanning||i.ctrlKey)){i.preventDefault(),i.stopPropagation();var h=r.transformState,m=h.positionX,g=h.positionY,v=m-i.deltaX,y=g-i.deltaY,w=f.lockAxisX?m:v,C=f.lockAxisY?g:y,T=r.setup.alignmentAnimation,S=T.sizeX,_=T.sizeY,E=Hi(r,S),O=Hi(r,_);w===m&&C===g||_T(r,w,C,E,O)}},this.onPanningStart=function(i){var s=r.setup.disabled,l=r.props.onPanningStart;if(!s){var c=aS(r,i);if(c){var f=r.isPressingKeys(r.setup.panning.activationKeys);f&&(i.button===0&&!r.setup.panning.allowLeftClickPan||i.button===1&&!r.setup.panning.allowMiddleClickPan||i.button===2&&!r.setup.panning.allowRightClickPan||(i.preventDefault(),i.stopPropagation(),gr(r),lS(r,i),ot(tt(r),i,l)))}}},this.onPanning=function(i){var s=r.setup.disabled,l=r.props.onPanning;if(!s){var c=sS(r);if(c){var f=r.isPressingKeys(r.setup.panning.activationKeys);f&&(i.preventDefault(),i.stopPropagation(),uS(r,i.clientX,i.clientY),ot(tt(r),i,l))}}},this.onPanningStop=function(i){var s=r.props.onPanningStop;r.isPanning&&(jz(r),ot(tt(r),i,s))},this.onPinchStart=function(i){var s=r.setup.disabled,l=r.props,c=l.onPinchingStart,f=l.onZoomStart;if(!s){var h=Wz(r,i);h&&(r3(r,i),gr(r),ot(tt(r),i,c),ot(tt(r),i,f))}},this.onPinch=function(i){var s=r.setup.disabled,l=r.props,c=l.onPinching,f=l.onZoom;if(!s){var h=Iz(r);h&&(i.preventDefault(),i.stopPropagation(),i3(r,i),ot(tt(r),i,c),ot(tt(r),i,f))}},this.onPinchStop=function(i){var s=r.props,l=s.onPinchingStop,c=s.onZoomStop;r.pinchStartScale&&(a3(r),ot(tt(r),i,l),ot(tt(r),i,c))},this.onTouchPanningStart=function(i){var s=r.setup.disabled,l=r.props.onPanningStart;if(!s){var c=aS(r,i);if(c){var f=r.lastTouch&&+new Date-r.lastTouch<200&&i.touches.length===1;if(!f){r.lastTouch=+new Date,gr(r);var h=i.touches,m=h.length===1,g=h.length===2;m&&(gr(r),lS(r,i),ot(tt(r),i,l)),g&&r.onPinchStart(i)}}}},this.onTouchPanning=function(i){var s=r.setup.disabled,l=r.props.onPanning;if(r.isPanning&&i.touches.length===1){if(s)return;var c=sS(r);if(!c)return;i.preventDefault(),i.stopPropagation();var f=i.touches[0];uS(r,f.clientX,f.clientY),ot(tt(r),i,l)}else i.touches.length>1&&r.onPinch(i)},this.onTouchPanningStop=function(i){r.onPanningStop(i),r.onPinchStop(i)},this.onDoubleClick=function(i){var s=r.setup.disabled;if(!s){var l=u3(r,i);l&&l3(r,i)}},this.clearPanning=function(i){r.isPanning&&r.onPanningStop(i)},this.setKeyPressed=function(i){r.pressedKeys[i.key]=!0},this.setKeyUnPressed=function(i){r.pressedKeys[i.key]=!1},this.isPressingKeys=function(i){return i.length?!!i.find(function(s){return r.pressedKeys[s]}):!0},this.setTransformState=function(i,s,l){var c=r.props.onTransformed;if(!Number.isNaN(i)&&!Number.isNaN(s)&&!Number.isNaN(l)){i!==r.transformState.scale&&(r.transformState.previousScale=r.transformState.scale,r.transformState.scale=i),r.transformState.positionX=s,r.transformState.positionY=l,r.applyTransformation();var f=tt(r);r.onChangeCallbacks.forEach(function(h){return h(f)}),ot(f,{scale:i,positionX:s,positionY:l},c)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(r.wrapperComponent&&r.contentComponent){var i=AT(r.transformState.scale,r.wrapperComponent,r.contentComponent);r.setTransformState(i.scale,i.positionX,i.positionY)}},this.handleTransformStyles=function(i,s,l){return r.props.customTransform?r.props.customTransform(i,s,l):Hz(i,s,l)},this.applyTransformation=function(){if(!(!r.mounted||!r.contentComponent)){var i=r.transformState,s=i.scale,l=i.positionX,c=i.positionY,f=r.handleTransformStyles(l,c,s);r.contentComponent.style.transform=f}},this.getContext=function(){return tt(r)},this.onChange=function(i){return r.onChangeCallbacks.has(i)||r.onChangeCallbacks.add(i),function(){r.onChangeCallbacks.delete(i)}},this.onInit=function(i){return r.onInitCallbacks.has(i)||r.onInitCallbacks.add(i),function(){r.onInitCallbacks.delete(i)}},this.init=function(i,s){r.cleanupWindowEvents(),r.wrapperComponent=i,r.contentComponent=s,Ea(r,r.transformState.scale),r.handleInitializeWrapperEvents(i),r.handleInitialize(i,s),r.initializeWindowEvents(),r.isInitialized=!0;var l=tt(r);ot(l,void 0,r.props.onInit)},this.props=t,this.setup=fS(this.props),this.transformState=ET(this.props)}return e})(),Mp=Ye.createContext(null),f3=function(e,t){return typeof e=="function"?e(t):e},h3=Ye.forwardRef(function(e,t){var r=R.useRef(new c3(e)).current,i=f3(e.children,_m(r));return R.useImperativeHandle(t,function(){return _m(r)},[r]),R.useEffect(function(){r.update(e)},[r,e]),Ye.createElement(Mp.Provider,{value:r},i)});Ye.forwardRef(function(e,t){var r=R.useRef(null),i=R.useContext(Mp);return R.useEffect(function(){return i.onChange(function(s){if(r.current){var l=0,c=0;r.current.style.transform=i.handleTransformStyles(l,c,1/s.instance.transformState.scale)}})},[i]),Ye.createElement("div",Ui({},e,{ref:qz([r,t])}))});function d3(e,t){t===void 0&&(t={});var r=t.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var m3=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,hS={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};d3(m3);var p3=function(e){var t=e.children,r=e.wrapperClass,i=r===void 0?"":r,s=e.contentClass,l=s===void 0?"":s,c=e.wrapperStyle,f=e.contentStyle,h=e.wrapperProps,m=h===void 0?{}:h,g=e.contentProps,v=g===void 0?{}:g,y=R.useContext(Mp),w=y.init,C=y.cleanupWindowEvents,T=R.useRef(null),S=R.useRef(null);return R.useEffect(function(){var _=T.current,E=S.current;return _!==null&&E!==null&&w&&w?.(_,E),function(){C?.()}},[]),Ye.createElement("div",Ui({},m,{ref:T,className:"".concat(Sm.wrapperClass," ").concat(hS.wrapper," ").concat(i),style:c}),Ye.createElement("div",Ui({},v,{ref:S,className:"".concat(Sm.contentClass," ").concat(hS.content," ").concat(l),style:f}),t))};function Em(e,t){return e.map(function(r,i){return r+t[i]})}function Np(e,t){return e.map(function(r,i){return r-t[i]})}function xm(e){return Math.hypot.apply(Math,e)}function g3(e,t,r){var i=xm(t),s=i===0?0:1/i,l=r===0?0:1/r,c=l*i,f=t.map(function(g){return l*g}),h=t.map(function(g){return s*g}),m=xm(e);return{velocities:f,velocity:c,distance:m,direction:h}}function Cm(e){return Math.sign?Math.sign(e):+(e>0)-+(e<0)||+e}function v3(e,t,r){return Math.max(t,Math.min(e,r))}function y3(e,t){return Math.pow(e,t*5)}function dS(e,t,r){return t===0||Math.abs(t)===1/0?y3(e,r):e*t*r/(t+r*e)}function mS(e,t,r,i){return i===void 0&&(i=.15),i===0?v3(e,t,r):e<t?-dS(t-e,r-t,i)+t:e>r?+dS(e-r,r-t,i)+r:e}function b3(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function w3(e,t,r){return t&&b3(e.prototype,t),e}function on(){return on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},on.apply(this,arguments)}function NT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function S3(e,t){if(e==null)return{};var r={},i=Object.keys(e),s,l;for(l=0;l<i.length;l++)s=i[l],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _3(e,t){if(e){if(typeof e=="string")return pS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pS(e,t)}}function pS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function Hc(e,t){var r;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(r=_3(e))||t){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return r=e[Symbol.iterator](),r.next.bind(r)}function PT(){}function kT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?PT:t.length===1?t[0]:function(){for(var i,s=Hc(t),l;!(l=s()).done;){var c=l.value;i=c.apply(this,arguments)||i}return i}}function Li(e,t){if(e===void 0){if(t===void 0)throw new Error("Must define fallback value if undefined is expected");e=t}return Array.isArray(e)?e:[e,e]}function gS(e){if(typeof e=="function"){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return e.apply(void 0,r)}else return e}function Pp(e,t){e===void 0&&(e={});for(var r={},i=0,s=Object.entries(t);i<s.length;i++){var l=s[i],c=l[0],f=l[1];switch(typeof f){case"function":r[c]=f.call(r,e[c],c,e);break;case"object":r[c]=Pp(e[c],f);break;case"boolean":f&&(r[c]=e[c]);break}}return r}function T3(){try{return"constructor"in GestureEvent}catch{return!1}}function zT(){return typeof window<"u"&&"ontouchstart"in window}function E3(){return typeof window<"u"&&"onpointerdown"in window}function LT(e){return"pointerId"in e?null:e.type==="touchend"?e.changedTouches:e.targetTouches}function UT(e){return Array.from(LT(e)).map(function(t){return t.identifier})}function vS(e){var t="buttons"in e?e.buttons:0,r=e.shiftKey,i=e.altKey,s=e.metaKey,l=e.ctrlKey;return{buttons:t,shiftKey:r,altKey:i,metaKey:s,ctrlKey:l}}var x3=function(t){return t};function yS(e,t){t===void 0&&(t=x3);var r=LT(e),i=r?r[0]:e,s=i.clientX,l=i.clientY;return t([s,l])}var C3=180,O3=.15,A3=.5,R3=50,D3=250,j3={threshold:function(t){return t===void 0&&(t=0),Li(t)},rubberband:function(t){switch(t===void 0&&(t=0),t){case!0:return Li(O3);case!1:return Li(0);default:return Li(t)}},enabled:function(t){return t===void 0&&(t=!0),t},triggerAllEvents:function(t){return t===void 0&&(t=!1),t},initial:function(t){return t===void 0&&(t=0),typeof t=="function"?t:Li(t)},transform:!0},BT=on({},j3,{axis:!0,lockDirection:function(t){return t===void 0&&(t=!1),t},bounds:function(t){if(t===void 0&&(t={}),typeof t=="function")return function(v){return BT.bounds(t(v))};var r=t,i=r.left,s=i===void 0?-1/0:i,l=r.right,c=l===void 0?1/0:l,f=r.top,h=f===void 0?-1/0:f,m=r.bottom,g=m===void 0?1/0:m;return[[s,c],[h,g]]}}),M3=typeof window<"u"&&window.document&&window.document.createElement,N3={enabled:function(t){return t===void 0&&(t=!0),t},domTarget:!0,window:(function(e){function t(r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t})(function(e){return e===void 0&&(e=M3?window:void 0),e}),eventOptions:function(t){var r=t===void 0?{}:t,i=r.passive,s=i===void 0?!0:i,l=r.capture,c=l===void 0?!1:l;return{passive:s,capture:c}},transform:!0},P3=on({},BT,{useTouch:function(t){t===void 0&&(t=!1);var r=zT(),i=E3();return!!(t&&r||r&&!i)},experimental_preventWindowScrollY:function(t){return t===void 0&&(t=!1),t},threshold:function(t,r,i){var s=i.filterTaps,l=s===void 0?!1:s,c=i.lockDirection,f=c===void 0?!1:c,h=i.axis,m=h===void 0?void 0:h,g=Li(t,l?3:f||m?1:0);return this.filterTaps=l,g},swipeVelocity:function(t){return t===void 0&&(t=A3),Li(t)},swipeDistance:function(t){return t===void 0&&(t=R3),Li(t)},swipeDuration:function(t){return t===void 0&&(t=D3),t},delay:function(t){switch(t===void 0&&(t=0),t){case!0:return C3;case!1:return 0;default:return t}}});function k3(e){return e===void 0&&(e={}),Pp(e,N3)}function z3(e){return e===void 0&&(e={}),Pp(e,P3)}function L3(e){var t=e.domTarget,r=e.eventOptions,i=e.window,s=e.enabled,l=S3(e,["domTarget","eventOptions","window","enabled"]),c=k3({domTarget:t,eventOptions:r,window:i,enabled:s});return c.drag=z3(l),c}function Go(e){return on({_active:!1,_blocked:!1,_intentional:[!1,!1],_movement:[0,0],_initial:[0,0],_bounds:[[-1/0,1/0],[-1/0,1/0]],_threshold:[0,0],_lastEventType:void 0,_dragStarted:!1,_dragPreventScroll:!1,_dragIsTap:!0,_dragDelayed:!1,event:void 0,intentional:!1,values:[0,0],velocities:[0,0],delta:[0,0],movement:[0,0],offset:[0,0],lastOffset:[0,0],direction:[0,0],initial:[0,0],previous:[0,0],first:!1,last:!1,active:!1,timeStamp:0,startTime:0,elapsedTime:0,cancel:PT,canceled:!1,memo:void 0,args:void 0},e)}function VT(){var e={hovering:!1,scrolling:!1,wheeling:!1,dragging:!1,moving:!1,pinching:!1,touches:0,buttons:0,down:!1,shiftKey:!1,altKey:!1,metaKey:!1,ctrlKey:!1,locked:!1},t=Go({_pointerId:void 0,axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0,tap:!1,swipe:[0,0]}),r=Go({_pointerIds:[],da:[0,0],vdva:[0,0],origin:void 0,turns:0}),i=Go({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),s=Go({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0}),l=Go({axis:void 0,xy:[0,0],vxvy:[0,0],velocity:0,distance:0});return{shared:e,drag:t,pinch:r,wheel:i,move:s,scroll:l}}var pa=new Map,U3=function(t){return t},B3=(function(){function e(r,i){var s=this;i===void 0&&(i=[]),this.controller=r,this.args=i,this.debounced=!0,this.setTimeout=function(l,c){var f;c===void 0&&(c=140),clearTimeout(s.controller.timeouts[s.stateKey]);for(var h=arguments.length,m=new Array(h>2?h-2:0),g=2;g<h;g++)m[g-2]=arguments[g];s.controller.timeouts[s.stateKey]=(f=window).setTimeout.apply(f,[l,c].concat(m))},this.clearTimeout=function(){clearTimeout(s.controller.timeouts[s.stateKey])},this.fireGestureHandler=function(l){if(l===void 0&&(l=!1),s.state._blocked)return s.debounced||(s.state._active=!1,s.clean()),null;if(!l&&!s.state.intentional&&!s.config.triggerAllEvents)return null;if(s.state.intentional){var c=s.state.active,f=s.state._active;s.state.active=f,s.state.first=f&&!c,s.state.last=c&&!f,s.controller.state.shared[s.ingKey]=f}var h=s.controller.pointerIds.size||s.controller.touchIds.size,m=s.controller.state.shared.buttons>0||h>0,g=on({},s.controller.state.shared,s.state,s.mapStateValues(s.state),{locked:!!document.pointerLockElement,touches:h,down:m}),v=s.handler(g);return s.state.memo=v!==void 0?v:s.state.memo,g},this.controller=r,this.args=i}var t=e.prototype;return t.updateSharedState=function(i){Object.assign(this.controller.state.shared,i)},t.updateGestureState=function(i){Object.assign(this.state,i)},t.checkIntentionality=function(i,s){return{_intentional:i,_blocked:!1}},t.getMovement=function(i){var s=this.config.rubberband,l=this.state,c=l._bounds,f=l._initial,h=l._active,m=l._intentional,g=l.lastOffset,v=l.movement,y=l._threshold,w=this.getInternalMovement(i,this.state),C=m[0]===!1?bS(w[0],y[0]):m[0],T=m[1]===!1?bS(w[1],y[1]):m[1],S=this.checkIntentionality([C,T],w);if(S._blocked)return on({},S,{_movement:w,delta:[0,0]});var _=S._intentional,E=w,O=[_[0]!==!1?w[0]-_[0]:0,_[1]!==!1?w[1]-_[1]:0],N=Em(O,g),z=h?s:[0,0];return O=wS(c,Em(O,f),z),on({},S,{intentional:_[0]!==!1||_[1]!==!1,_initial:f,_movement:E,movement:O,values:i,offset:wS(c,N,z),delta:Np(O,v)})},t.clean=function(){this.clearTimeout()},w3(e,[{key:"config",get:function(){return this.controller.config[this.stateKey]}},{key:"enabled",get:function(){return this.controller.config.enabled&&this.config.enabled}},{key:"state",get:function(){return this.controller.state[this.stateKey]}},{key:"handler",get:function(){return this.controller.handlers[this.stateKey]}},{key:"transform",get:function(){return this.config.transform||this.controller.config.transform||U3}}]),e})();function bS(e,t){return Math.abs(e)>=t?Cm(e)*t:!1}function wS(e,t,r){var i=t[0],s=t[1],l=r[0],c=r[1],f=e[0],h=f[0],m=f[1],g=e[1],v=g[0],y=g[1];return[mS(i,h,m,l),mS(s,v,y,c)]}function zd(e,t,r){var i=e.state,s=t.timeStamp,l=t.type,c=i.values,f=r?0:s-i.startTime;return{_lastEventType:l,event:t,timeStamp:s,elapsedTime:f,previous:c}}function V3(e,t,r,i){var s=e.state,l=e.config,c=e.stateKey,f=e.args,h=e.transform,m=s.offset,g=r.timeStamp,v=l.initial,y=l.bounds,w=l.threshold,C=Np(h(w),h([0,0])).map(Math.abs),T=on({},VT()[c],{_active:!0,args:f,values:t,initial:t,_threshold:C,offset:m,lastOffset:m,startTime:g});return on({},T,{_initial:gS(v,T),_bounds:gS(y,T)})}var H3=function(t){var r=this;this.classes=t,this.pointerIds=new Set,this.touchIds=new Set,this.supportsTouchEvents=zT(),this.supportsGestureEvents=T3(),this.bind=function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];for(var c={},f=Hc(r.classes),h;!(h=f()).done;){var m=h.value;new m(r,s).addBindings(c)}var g=function(w){Cr(c,w,function(C){return r.nativeRefs[w](on({},r.state.shared,{event:C,args:s}))})};for(var v in r.nativeRefs)g(v);return r.config.domTarget?K3(r,c):W3(r,c)},this.effect=function(){return r.config.domTarget&&r.bind(),r.clean},this.clean=function(){var i=qT(r.config),s=r.config.eventOptions;i&&xl(i,HT(r.domListeners),s),Object.values(r.timeouts).forEach(clearTimeout),$3(r)},this.classes=t,this.state=VT(),this.timeouts={},this.domListeners=[],this.windowListeners={}};function q3(e,t){"pointerId"in t?e.pointerIds.add(t.pointerId):e.touchIds=new Set(UT(t))}function Y3(e,t){"pointerId"in t?e.pointerIds.delete(t.pointerId):UT(t).forEach(function(r){return e.touchIds.delete(r)})}function $3(e){var t=e.config,r=t.window,i=t.eventOptions,s=e.windowListeners;if(r){for(var l in s){var c=s[l];xl(r,c,i)}e.windowListeners={}}}function X3(e,t,r){var i=e.config,s=e.windowListeners;r===void 0&&(r=i.eventOptions),i.window&&(xl(i.window,s[t],r),delete s[t])}function G3(e,t,r,i){var s=e.config,l=e.windowListeners;r===void 0&&(r=[]),i===void 0&&(i=s.eventOptions),s.window&&(xl(s.window,l[t],i),YT(s.window,l[t]=r,i))}function K3(e,t){var r=e.config,i=e.domListeners,s=qT(r);if(!s)throw new Error("domTarget must be defined");var l=r.eventOptions;xl(s,HT(i),l);for(var c=0,f=Object.entries(t);c<f.length;c++){var h=f[c],m=h[0],g=h[1],v=m.slice(2).toLowerCase();i.push([v,kT.apply(void 0,g)])}YT(s,i,l)}function W3(e,t){for(var r=e.config,i={},s=r.eventOptions.capture?"Capture":"",l=0,c=Object.entries(t);l<c.length;l++){var f=c[l],h=f[0],m=f[1],g=Array.isArray(m)?m:[m],v=h+s;i[v]=kT.apply(void 0,g)}return i}function HT(e){return e===void 0&&(e=[]),e.splice(0,e.length)}function qT(e){var t=e.domTarget;return t&&"current"in t?t.current:t}function Cr(e,t,r){e[t]||(e[t]=[]),e[t].push(r)}function YT(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={});for(var i=Hc(t),s;!(s=i()).done;){var l=s.value,c=l[0],f=l[1];e.addEventListener(c,f,r)}}function xl(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={});for(var i=Hc(t),s;!(s=i()).done;){var l=s.value,c=l[0],f=l[1];e.removeEventListener(c,f,r)}}function I3(e,t,r){r===void 0&&(r={});var i=Q3(e),s=Ye.useMemo(function(){return new H3(i)},[]);return s.config=t,s.handlers=e,s.nativeRefs=r,Ye.useEffect(s.effect,[]),s.config.domTarget?F3:s.bind}function F3(){}function Q3(e){var t=new Set;return e.drag&&t.add(pa.get("drag")),e.wheel&&t.add(pa.get("wheel")),e.scroll&&t.add(pa.get("scroll")),e.move&&t.add(pa.get("move")),e.pinch&&t.add(pa.get("pinch")),e.hover&&t.add(pa.get("hover")),t}var Z3=(function(e){NT(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;return r.getInternalMovement=function(s,l){return Np(s,l.initial)},r.checkIntentionality=function(s,l){if(s[0]===!1&&s[1]===!1)return{_intentional:s,axis:this.state.axis};var c=l.map(Math.abs),f=c[0],h=c[1],m=this.state.axis||(f>h?"x":f<h?"y":void 0);return!this.config.axis&&!this.config.lockDirection?{_intentional:s,_blocked:!1,axis:m}:m?this.config.axis&&m!==this.config.axis?{_intentional:s,_blocked:!0,axis:m}:(s[m==="x"?1:0]=!1,{_intentional:s,_blocked:!1,axis:m}):{_intentional:[!1,!1],_blocked:!1,axis:m}},r.getKinematics=function(s,l){var c=this.getMovement(s);if(!c._blocked){var f=l.timeStamp-this.state.timeStamp;Object.assign(c,g3(c.movement,c.delta,f))}return c},r.mapStateValues=function(s){return{xy:s.values,vxvy:s.velocities}},t})(B3),J3=3;function SS(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}var eL=(function(e){NT(t,e);function t(){var i;return i=e.apply(this,arguments)||this,i.ingKey="dragging",i.stateKey="drag",i.setPointerCapture=function(s){if(!(i.config.useTouch||document.pointerLockElement)){var l=s.target,c=s.pointerId;l&&"setPointerCapture"in l&&l.setPointerCapture(c),i.updateGestureState({_dragTarget:l,_dragPointerId:c})}},i.releasePointerCapture=function(){if(!(i.config.useTouch||document.pointerLockElement)){var s=i.state,l=s._dragTarget,c=s._dragPointerId;if(c&&l&&"releasePointerCapture"in l&&(!("hasPointerCapture"in l)||l.hasPointerCapture(c)))try{l.releasePointerCapture(c)}catch{}}},i.preventScroll=function(s){i.state._dragPreventScroll&&s.cancelable&&s.preventDefault()},i.getEventId=function(s){return i.config.useTouch?s.changedTouches[0].identifier:s.pointerId},i.isValidEvent=function(s){return i.state._pointerId===i.getEventId(s)},i.shouldPreventWindowScrollY=i.config.experimental_preventWindowScrollY&&i.controller.supportsTouchEvents,i.setUpWindowScrollDetection=function(s){SS(s),G3(i.controller,i.stateKey,[["touchmove",i.preventScroll],["touchend",i.clean.bind(Zr(i))],["touchcancel",i.clean.bind(Zr(i))]],{passive:!1}),i.setTimeout(i.startDrag.bind(Zr(i)),250,s)},i.setUpDelayedDragTrigger=function(s){i.state._dragDelayed=!0,SS(s),i.setTimeout(i.startDrag.bind(Zr(i)),i.config.delay,s)},i.setStartState=function(s){var l=yS(s,i.transform);i.updateSharedState(vS(s)),i.updateGestureState(on({},V3(Zr(i),l,s),zd(Zr(i),s,!0),{_pointerId:i.getEventId(s)})),i.updateGestureState(i.getMovement(l))},i.onDragStart=function(s){q3(i.controller,s),!(!i.enabled||i.state._active)&&(i.setStartState(s),i.setPointerCapture(s),i.shouldPreventWindowScrollY?i.setUpWindowScrollDetection(s):i.config.delay>0?i.setUpDelayedDragTrigger(s):i.startDrag(s,!0))},i.onDragChange=function(s){if(!(i.state.canceled||!i.state._active||!i.isValidEvent(s)||i.state._lastEventType===s.type&&s.timeStamp===i.state.timeStamp)){var l;if(document.pointerLockElement){var c=s.movementX,f=s.movementY;l=Em(i.transform([c,f]),i.state.values)}else l=yS(s,i.transform);var h=i.getKinematics(l,s);if(!i.state._dragStarted){if(i.state._dragDelayed){i.startDrag(s);return}if(i.shouldPreventWindowScrollY)if(!i.state._dragPreventScroll&&h.axis)if(h.axis==="x")i.startDrag(s);else{i.state._active=!1;return}else return;else return}var m=vS(s);i.updateSharedState(m);var g=zd(Zr(i),s),v=xm(h._movement),y=i.state._dragIsTap;y&&v>=J3&&(y=!1),i.updateGestureState(on({},g,h,{_dragIsTap:y})),i.fireGestureHandler()}},i.onDragEnd=function(s){if(Y3(i.controller,s),!!i.isValidEvent(s)&&(i.clean(),!!i.state._active)){i.state._active=!1;var l=i.state._dragIsTap,c=i.state.velocities,f=c[0],h=c[1],m=i.state.movement,g=m[0],v=m[1],y=i.state._intentional,w=y[0],C=y[1],T=i.config.swipeVelocity,S=T[0],_=T[1],E=i.config.swipeDistance,O=E[0],N=E[1],z=i.config.swipeDuration,L=on({},zd(Zr(i),s),i.getMovement(i.state.values)),D=[0,0];L.elapsedTime<z&&(w!==!1&&Math.abs(f)>S&&Math.abs(g)>O&&(D[0]=Cm(f)),C!==!1&&Math.abs(h)>_&&Math.abs(v)>N&&(D[1]=Cm(h))),i.updateSharedState({buttons:0}),i.updateGestureState(on({},L,{tap:l,swipe:D})),i.fireGestureHandler(i.config.filterTaps&&l===!0)}},i.clean=function(){e.prototype.clean.call(Zr(i)),i.state._dragStarted=!1,i.releasePointerCapture(),X3(i.controller,i.stateKey)},i.onCancel=function(){i.state.canceled||(i.updateGestureState({canceled:!0,_active:!1}),i.updateSharedState({buttons:0}),setTimeout(function(){return i.fireGestureHandler()},0))},i.onClick=function(s){i.state._dragIsTap||s.stopPropagation()},i}var r=t.prototype;return r.startDrag=function(s,l){l===void 0&&(l=!1),!(!this.state._active||this.state._dragStarted)&&(l||this.setStartState(s),this.updateGestureState({_dragStarted:!0,_dragPreventScroll:!0,cancel:this.onCancel}),this.clearTimeout(),this.fireGestureHandler())},r.addBindings=function(s){if(this.config.useTouch?(Cr(s,"onTouchStart",this.onDragStart),Cr(s,"onTouchMove",this.onDragChange),Cr(s,"onTouchEnd",this.onDragEnd),Cr(s,"onTouchCancel",this.onDragEnd)):(Cr(s,"onPointerDown",this.onDragStart),Cr(s,"onPointerMove",this.onDragChange),Cr(s,"onPointerUp",this.onDragEnd),Cr(s,"onPointerCancel",this.onDragEnd)),this.config.filterTaps){var l=this.controller.config.eventOptions.capture?"onClick":"onClickCapture";Cr(s,l,this.onClick)}},t})(Z3);function tL(e,t){var r,i=[],s,l=!1;function c(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return l&&r===this&&t(h,i)||(s=e.apply(this,h),l=!0,r=this,i=h),s}return c}function sc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!sc(e[i],t[i]))return!1;return!0}var l;if(typeof Map=="function"&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(l=e.entries();!(i=l.next()).done;)if(!t.has(i.value[0]))return!1;for(l=e.entries();!(i=l.next()).done;)if(!sc(i.value[1],t.get(i.value[0])))return!1;return!0}if(typeof Set=="function"&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(l=e.entries();!(i=l.next()).done;)if(!t.has(i.value[0]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[i]))return!1;if(typeof Element<"u"&&e instanceof Element)return!1;for(i=r;i--!==0;)if(!(s[i]==="_owner"&&e.$$typeof)&&!sc(e[s[i]],t[s[i]]))return!1;return!0}return e!==e&&t!==t}function nL(e,t){try{return sc(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}function rL(e,t){t===void 0&&(t={}),pa.set("drag",eL);var r=R.useRef();return r.current||(r.current=tL(L3,nL)),I3({drag:e},r.current(t))}const $T=({isOpen:e,onClose:t,imageSrc:r,onNext:i,onPrev:s,hasNext:l,hasPrev:c})=>{const f=rL(({movement:[,m],cancel:g})=>{m>100&&(g(),t())},{filterTaps:!0}),h=async()=>{try{const g=await(await fetch(r)).blob(),v=window.URL.createObjectURL(g),y=document.createElement("a");y.href=v,y.download=`dear23-${Date.now()}.jpg`,document.body.appendChild(y),y.click(),document.body.removeChild(y)}catch(m){console.error("Download failed",m)}};return A.jsx(n2,{children:e&&A.jsxs(Ms.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center touch-none",...f(),children:[A.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-between items-center z-10 text-white",children:[A.jsx(dt,{variant:"ghost",size:"icon",onClick:t,className:"text-white hover:bg-white/20",children:A.jsx(ez,{size:32})}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(dt,{variant:"ghost",size:"icon",onClick:h,className:"text-white hover:bg-white/20",children:A.jsx(X5,{})}),A.jsx(dt,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",children:A.jsx(yT,{})})]})]}),c&&A.jsx("button",{onClick:m=>{m.stopPropagation(),s?.()},className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 p-2 text-white/50 hover:text-white",children:A.jsx(pT,{size:40})}),l&&A.jsx("button",{onClick:m=>{m.stopPropagation(),i?.()},className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 p-2 text-white/50 hover:text-white",children:A.jsx(gT,{size:40})}),A.jsx("div",{className:"w-full h-full flex items-center justify-center",children:A.jsx(h3,{initialScale:1,minScale:1,maxScale:4,centerOnInit:!0,children:A.jsx(p3,{wrapperClass:"!w-full !h-full",contentClass:"!w-full !h-full flex items-center justify-center",children:A.jsx(Ms.img,{src:r,alt:"View",className:"max-w-full max-h-screen object-contain",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},onClick:m=>m.stopPropagation()})})})})]})})},iL=Array.from({length:12}).map((e,t)=>({id:`diary-${t}`,imageUrl:`https://picsum.photos/seed/${t}/800/800`,title:`Diary Entry ${t+1}`,date:new Date().toISOString()})),aL=()=>{const[e,t]=R.useState("grid"),[r,i]=R.useState(null),s=iL,l=s.findIndex(m=>m.id===r),c=s[l],f=()=>{l<s.length-1&&i(s[l+1].id)},h=()=>{l>0&&i(s[l-1].id)};return A.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-primary)] p-4 pb-20",children:[A.jsx($T,{isOpen:!!r,onClose:()=>i(null),imageSrc:c?.imageUrl||"",onNext:f,onPrev:h,hasNext:l<s.length-1,hasPrev:l>0}),A.jsxs("header",{className:"flex items-center justify-between mb-6",children:[A.jsx("h1",{className:"text-2xl font-bold text-[var(--color-text-primary)]",children:"Our Diary"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>t("grid"),className:e==="grid"?"text-[var(--color-accent)]":"text-gray-400",children:A.jsx(K5,{})}),A.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>t("list"),className:e==="list"?"text-[var(--color-accent)]":"text-gray-400",children:A.jsx(I5,{})}),A.jsxs(dt,{variant:"primary",size:"sm",className:"ml-2",children:[A.jsx(vT,{className:"mr-1"})," New"]})]})]}),e==="grid"&&A.jsx("div",{className:"grid grid-cols-3 gap-1",children:s.map((m,g)=>A.jsx(Ms.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:g*.05},className:"aspect-square bg-gray-200 relative overflow-hidden group cursor-pointer",onClick:()=>i(m.id),layoutId:m.id,children:A.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full h-full object-cover transition-transform group-hover:scale-110"})},m.id))}),e==="list"&&A.jsx("div",{className:"space-y-6",children:s.map(m=>A.jsxs(jn,{className:"overflow-hidden",padding:"none",children:[A.jsxs("div",{className:"p-4 flex items-center gap-3",children:[A.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200"}),A.jsx("span",{className:"font-medium text-sm",children:"Dear23"})]}),A.jsx("img",{src:m.imageUrl,alt:m.title,className:"w-full aspect-square object-cover",onClick:()=>i(m.id)}),A.jsxs("div",{className:"p-4",children:[A.jsx("p",{className:"font-bold mb-1",children:m.title}),A.jsx("p",{className:"text-xs text-gray-500",children:new Date(m.date).toLocaleDateString()})]})]},m.id))})]})},sL=[{id:1,author:"Partner",content:"Today was amazing! ",image:null,time:"2h ago",likes:5},{id:2,author:"Me",content:"Look at this delicious food!",image:"https://picsum.photos/seed/food/800/600",time:"5h ago",likes:12},{id:3,author:"Partner",content:"Can we go here next weekend?",image:"https://picsum.photos/seed/travel/800/600",time:"1d ago",likes:8}],oL=()=>{const[e,t]=R.useState(null);return A.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-secondary)] pb-20",children:[A.jsx($T,{isOpen:!!e,onClose:()=>t(null),imageSrc:e||"",hasNext:!1,hasPrev:!1}),A.jsxs("header",{className:"bg-white/80 backdrop-blur-sm sticky top-0 z-10 px-4 py-3 flex justify-between items-center shadow-sm",children:[A.jsx("h1",{className:"text-xl font-bold",children:"Feed"}),A.jsx(dt,{variant:"ghost",size:"icon",className:"text-[var(--color-accent)]",children:A.jsx(F5,{size:20})})]}),A.jsx("div",{className:"p-4 space-y-4",children:sL.map(r=>A.jsxs(jn,{className:"overflow-hidden",padding:"none",children:[A.jsxs("div",{className:"p-4 flex items-center gap-3",children:[A.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200"}),A.jsxs("div",{children:[A.jsx("p",{className:"font-bold text-sm",children:r.author}),A.jsx("p",{className:"text-xs text-gray-500",children:r.time})]})]}),r.content&&A.jsx("p",{className:"px-4 pb-2 text-gray-800",children:r.content}),r.image&&A.jsx("img",{src:r.image,alt:"Post",className:"w-full h-64 object-cover cursor-pointer",onClick:()=>t(r.image)}),A.jsxs("div",{className:"p-4 flex items-center justify-between text-gray-500 border-t border-gray-100 mt-2",children:[A.jsxs("button",{className:"flex items-center gap-1 hover:text-red-500 transition-colors",children:[A.jsx(W5,{})," ",A.jsx("span",{className:"text-xs",children:r.likes})]}),A.jsxs("button",{className:"flex items-center gap-1 hover:text-blue-500 transition-colors",children:[A.jsx($5,{})," ",A.jsx("span",{className:"text-xs",children:"Comment"})]}),A.jsx("button",{className:"flex items-center gap-1 hover:text-green-500 transition-colors",children:A.jsx(yT,{})})]})]},r.id))})]})},lL=()=>{const[e,t]=R.useState(new Date),[r,i]=R.useState(new Date),s=()=>t(lT(e,1)),l=()=>t(M5(e)),c=Dk(e),f=Ok(c),h=Ns(c),m=Mk(f),g="d",v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],y=Rk({start:h,end:m});return A.jsxs("div",{className:"min-h-screen bg-white",children:[A.jsxs("header",{className:"p-4 flex items-center justify-between bg-[var(--color-bg-primary)]",children:[A.jsx("h1",{className:"text-xl font-bold",children:dl(e,"MMMM yyyy")}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(dt,{variant:"ghost",size:"icon",onClick:l,children:A.jsx(pT,{})}),A.jsx(dt,{variant:"ghost",size:"icon",onClick:s,children:A.jsx(gT,{})})]})]}),A.jsx("div",{className:"grid grid-cols-7 mb-2 text-center text-xs font-semibold text-gray-400 py-2 border-b border-gray-100",children:v.map(w=>A.jsx("div",{children:w},w))}),A.jsx("div",{className:"grid grid-cols-7 text-sm",children:y.map((w,C)=>{const T=cT(w,r),S=j5(w,c);return A.jsxs("div",{className:`min-h-[80px] border-b border-gray-100 p-1 relative ${S?"":"bg-gray-50 text-gray-300"}`,onClick:()=>i(w),children:[A.jsx("div",{className:`
                                w-7 h-7 flex items-center justify-center rounded-full mb-1
                                ${nS(w)?"bg-red-500 text-white":""}
                                ${T&&!nS(w)?"bg-[var(--color-accent)] text-white":""}
                            `,children:dl(w,g)}),C%5===0&&A.jsx("div",{className:"text-[10px] truncate bg-blue-100 text-blue-600 px-1 rounded",children:"Date Night"})]},w.toString())})}),A.jsx("div",{className:"fixed bottom-20 right-4",children:A.jsx(dt,{variant:"primary",size:"icon",className:"w-14 h-14 rounded-full shadow-lg",children:A.jsx(Z5,{size:32})})})]})},uL=()=>{const{user:e,profile:t,signOut:r}=Hs(),i=xa(),[s,l]=R.useState(t?.username||""),[c,f]=R.useState(!1),[h,m]=R.useState(!1),[g,v]=R.useState("");R.useEffect(()=>{t&&l(t.username||""),(async()=>f(localStorage.getItem("push_enabled")==="true"))()},[t]);const y=async()=>{if(!e)return;m(!0);const{error:T}=await zt.from("profiles").update({username:s}).eq("id",e.id);T?alert("Error updating profile"):(v("Profile updated!"),setTimeout(()=>v(""),2e3),window.location.reload()),m(!1)},w=async()=>{c?(f(!1),localStorage.setItem("push_enabled","false")):await Notification.requestPermission()==="granted"?(f(!0),localStorage.setItem("push_enabled","true"),alert("Push Notifications Enabled! (Simulator)")):alert("Permission denied")},C=async()=>{await r(),i("/auth")};return A.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-secondary)] p-4 pb-20",children:[A.jsx("header",{className:"mb-6",children:A.jsx("h1",{className:"text-2xl font-bold",children:"Settings"})}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs(jn,{className:"p-4",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-4 text-[var(--color-accent)]",children:[A.jsx(Q5,{size:20}),A.jsx("h2",{className:"font-semibold text-lg",children:"My Profile"})]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-gray-500",children:"Email"}),A.jsx("div",{className:"text-gray-700 font-medium",children:e?.email})]}),A.jsxs("div",{children:[A.jsx("label",{className:"text-xs text-gray-500",children:"Username"}),A.jsx("input",{type:"text",value:s,onChange:T=>l(T.target.value),className:"w-full mt-1 p-2 bg-gray-50 rounded border border-gray-200 focus:border-[var(--color-accent)] outline-none"})]}),A.jsx(dt,{variant:"primary",size:"sm",onClick:y,isLoading:h,className:"w-full mt-2",children:"Save Changes"}),g&&A.jsx("p",{className:"text-green-500 text-sm text-center",children:g})]})]}),A.jsxs(jn,{className:"p-4",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-4 text-[var(--color-accent)]",children:[A.jsx(q5,{size:20}),A.jsx("h2",{className:"font-semibold text-lg",children:"Notifications"})]}),A.jsxs("div",{className:"flex items-center justify-between py-2",children:[A.jsx("span",{className:"text-gray-700",children:"Push Notifications"}),A.jsx("div",{className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors ${c?"bg-green-400":"bg-gray-300"}`,onClick:w,children:A.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow-sm transition-transform ${c?"translate-x-6":"translate-x-0"}`})})]}),A.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Receive alerts for new messages and diary updates."})]}),A.jsxs(jn,{className:"p-4",children:[A.jsxs("div",{className:"flex items-center gap-3 mb-4 text-gray-500",children:[A.jsx(J5,{size:20}),A.jsx("h2",{className:"font-semibold text-lg",children:"System"})]}),A.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[A.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[A.jsx("span",{children:"Version"}),A.jsx("span",{children:"1.0.0 (Beta)"})]}),A.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-50",children:[A.jsx("span",{children:"Supabase Connection"}),A.jsx("span",{className:"text-green-500",children:"Active"})]})]})]}),A.jsxs(dt,{variant:"ghost",className:"w-full text-red-500 hover:bg-red-50",onClick:C,children:[A.jsx(Y5,{className:"mr-2"})," Log Out"]})]})]})},cL=({children:e})=>{const{user:t,loading:r,initialize:i,couple:s}=Hs(),l=ii();return R.useEffect(()=>{i()},[i]),r?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[var(--color-bg-primary)]",children:A.jsxs("div",{className:"animate-pulse flex flex-col items-center",children:[A.jsx("div",{className:"w-12 h-12 bg-[var(--color-accent)] rounded-full mb-4"}),A.jsx("span",{className:"text-[var(--color-text-secondary)] font-medium",children:"Loading Dear23..."})]})}):t?(!s&&!l.pathname.startsWith("/connect")&&l.pathname.startsWith("/setup"),A.jsx(A.Fragment,{children:e})):A.jsx(Nm,{to:"/auth",state:{from:l},replace:!0})},fL=({children:e})=>{const{user:t,loading:r,initialize:i}=Hs();return R.useEffect(()=>{r||i()},[i,r]),r?null:t?A.jsx(Nm,{to:"/",replace:!0}):A.jsx(A.Fragment,{children:e})};function hL(){return A.jsxs(uO,{children:[A.jsx(In,{path:"/auth",element:A.jsx(fL,{children:A.jsx(vk,{})})}),A.jsxs(In,{path:"/",element:A.jsx(cL,{children:A.jsx(YO,{})}),children:[A.jsx(In,{index:!0,element:A.jsx(zM,{})}),A.jsx(In,{path:"connect",element:A.jsx(yk,{})}),A.jsx(In,{path:"setup",element:A.jsx(bk,{})}),A.jsx(In,{path:"chat",element:A.jsx(nz,{})}),A.jsx(In,{path:"feed",element:A.jsx(oL,{})}),A.jsx(In,{path:"diary",element:A.jsx(aL,{})}),A.jsx(In,{path:"calendar",element:A.jsx(lL,{})}),A.jsx(In,{path:"settings",element:A.jsx(uL,{})}),A.jsx(In,{path:"*",element:A.jsx(Nm,{to:"/",replace:!0})})]})]})}uC.createRoot(document.getElementById("root")).render(A.jsx(R.StrictMode,{children:A.jsx(NO,{children:A.jsx(hL,{})})}));
